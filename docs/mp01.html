<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Mini-Project#01: Fiscal Characteristics of Major US Public Transit Systems – STA 9750 2024 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 2024 Submission Material</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="././mp01.html"> 
<span class="menu-text">Mini-project 1</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Mini-Project#01: Fiscal Characteristics of Major US Public Transit Systems</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This project is inspired from <a href="https://www.youtube.com/@CityNerd">CityNerd Youtube channel</a> and focuses on farebox recovery - the percentage of a transit system’s revenue that comes from fares instead of taxes. The data for this analysis comes from the <a href="https://www.transit.dot.gov/ntd">National Transit Database</a>(NTD). This mini-project analyzes farebox revenues, total trips, vehicle miles traveled and operating expenses for public transit systems in the U.S. in 2022.</p>
<p>Key data sources:</p>
<ul>
<li><p><a href="https://www.transit.dot.gov/ntd/data-product/2022-annual-database-fare-revenues">2022 Fare Revenue Table</a></p></li>
<li><p><a href="https://www.transit.dot.gov/ntd/data-product/monthly-module-adjusted-data-release">Latest Monthly Ridership Tables</a></p></li>
<li><p><a href="https://www.transit.dot.gov/ntd/data-product/2022-operating-expenses">2022 Operating Expenses Reports</a></p></li>
</ul>
<section id="part-1.-data-downloading-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="part-1.-data-downloading-cleaning">Part 1. Data Downloading &amp; Cleaning</h2>
<p>The first step is to install the <a href="https://github.com/tidyverse">tidyverse</a> package, as it provides useful data manipulation tools such as:</p>
<ul>
<li><p><code>dplyr</code> for data manipulation functions (e.g.<code>mutate()</code>, <code>select()</code>, <code>group_by()</code>)</p></li>
<li><p><code>ggplot2</code> for data visualization (e.g.&nbsp;bar charts, line charts, scatter plots)</p></li>
<li><p><code>readr</code> for reading and writing data (e.g.<code>read_csv()</code>, <code>write_csv()</code>)</p></li>
</ul>
<section id="a-fare-revenue-data" class="level3">
<h3 class="anchored" data-anchor-id="a-fare-revenue-data">a) Fare Revenue Data</h3>
<ul>
<li>This dataset contains information on the total fare revenues for transit agencies. All files in downloading steps are taken directly from the official website. After the <code>FARES</code> data is cleaned, only important columns are selected and data is filtered by the rows where <code>Expense Type</code> is <code>Funds Earned During Period</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(<span class="st">"tidyverse"</span>)) <span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's start with Fare Revenue</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">file.exists</span>(<span class="st">"2022_fare_revenue.xlsx"</span>)){</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This should work _in theory_ but in practice it's still a bit finicky</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If it doesn't work for you, download this file 'by hand' in your</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># browser and save it as "2022_fare_revenue.xlsx" in your project</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># directory.</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">download.file</span>(<span class="st">"http://www.transit.dot.gov/sites/fta.dot.gov/files/2024-04/2022%20Fare%20Revenue.xlsx"</span>, </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">destfile=</span><span class="st">"2022_fare_revenue.xlsx"</span>, </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>                  <span class="at">quiet=</span><span class="cn">FALSE</span>, </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>                  <span class="at">method=</span><span class="st">"wget"</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>FARES <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">"2022_fare_revenue.xlsx"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">State/Parent NTD ID</span><span class="st">`</span>, </span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="st">`</span><span class="at">Reporter Type</span><span class="st">`</span>,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="st">`</span><span class="at">Reporting Module</span><span class="st">`</span>,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="st">`</span><span class="at">TOS</span><span class="st">`</span>,</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="st">`</span><span class="at">Passenger Paid Fares</span><span class="st">`</span>,</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="st">`</span><span class="at">Organization Paid Fares</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="st">`</span><span class="at">Expense Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Funds Earned During Period"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">Expense Type</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>,       <span class="co"># Sum over different `TOS` for the same `Mode`</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>             <span class="st">`</span><span class="at">Agency Name</span><span class="st">`</span>,  <span class="co"># These are direct operated and sub-contracted </span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>             <span class="st">`</span><span class="at">Mode</span><span class="st">`</span>) <span class="sc">|&gt;</span>      <span class="co"># of the same transit modality</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>                             <span class="co"># Not a big effect in most munis (significant DO</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>                             <span class="co"># tends to get rid of sub-contractors), but we'll sum</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>                             <span class="co"># to unify different passenger experiences</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="st">`</span><span class="at">Total Fares</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Total Fares</span><span class="st">`</span>)) <span class="sc">|&gt;</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="b-expenses-data" class="level3">
<h3 class="anchored" data-anchor-id="b-expenses-data">b) Expenses Data</h3>
<ul>
<li>This step involves getting the 2022 operating expenses data. The expenses are grouped by <code>NTD ID</code>, <code>Agency</code>, <code>Total</code> and <code>Mode</code> to calculate total operating costs for each agency and transportation mode.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">file.exists</span>(<span class="st">"2022_expenses.csv"</span>)){</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This should work _in theory_ but in practice it's still a bit finicky</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If it doesn't work for you, download this file 'by hand' in your</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># browser and save it as "2022_expenses.csv" in your project</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># directory.</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">download.file</span>(<span class="st">"https://data.transportation.gov/api/views/dkxx-zjd6/rows.csv?date=20231102&amp;accessType=DOWNLOAD&amp;bom=true&amp;format=true"</span>, </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">destfile=</span><span class="st">"2022_expenses.csv"</span>, </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">quiet=</span><span class="cn">FALSE</span>, </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">method=</span><span class="st">"wget"</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>EXPENSES <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"2022_expenses.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>, </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">Agency</span><span class="st">`</span>,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">Total</span><span class="st">`</span>, </span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">Mode</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.integer</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">Expenses =</span> Total) <span class="sc">|&gt;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>, <span class="st">`</span><span class="at">Mode</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">Expenses =</span> <span class="fu">sum</span>(Expenses)) <span class="sc">|&gt;</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="c-merging-financial-data" class="level3">
<h3 class="anchored" data-anchor-id="c-merging-financial-data">c) Merging Financial Data</h3>
<p><code>FINANCIALS = FARES + EXPENSES</code></p>
<p>To combine the fare revenue and expenses by <code>NTD ID</code> and <code>Mode</code> – the <code>inner_join()</code> function is used.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>FINANCIALS <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(FARES, EXPENSES, <span class="fu">join_by</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>, <span class="st">`</span><span class="at">Mode</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="d-ridership-data" class="level3">
<h3 class="anchored" data-anchor-id="d-ridership-data">d) Ridership Data</h3>
<p>In this part, the monthly ridership data is downloaded and necessary columns are kept, especially we are interested in this data:</p>
<ul>
<li><p>UPT - Unlinked Passenger Trips</p></li>
<li><p>VRM - Vehicle Revenue Miles</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">file.exists</span>(<span class="st">"ridership.xlsx"</span>)){</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This should work _in theory_ but in practice it's still a bit finicky</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># If it doesn't work for you, download this file 'by hand' in your</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># browser and save it as "ridership.xlsx" in your project</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># directory.</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(<span class="st">"https://www.transit.dot.gov/sites/fta.dot.gov/files/2024-09/July%202024%20Complete%20Monthly%20Ridership%20%28with%20adjustments%20and%20estimates%29_240903.xlsx"</span>, </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">destfile=</span><span class="st">"ridership.xlsx"</span>, </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">quiet=</span><span class="cn">FALSE</span>, </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">method=</span><span class="st">"wget"</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>TRIPS <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">"ridership.xlsx"</span>, <span class="at">sheet=</span><span class="st">"UPT"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Mode/Type of Service Status</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Active"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">Legacy NTD ID</span><span class="st">`</span>, </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">Reporter Type</span><span class="st">`</span>, </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">Mode/Type of Service Status</span><span class="st">`</span>, </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">UACE CD</span><span class="st">`</span>, </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">TOS</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">metro_area =</span> <span class="st">`</span><span class="at">UZA Name</span><span class="st">`</span>) <span class="sc">|&gt;</span> <span class="co">#task1</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">3 Mode</span><span class="st">`</span>, metro_area), </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to=</span><span class="st">"month"</span>, </span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to=</span><span class="st">"UPT"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month=</span><span class="fu">my</span>(month)) <span class="co"># Parse _m_onth _y_ear date specs</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>MILES <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">"ridership.xlsx"</span>, <span class="at">sheet=</span><span class="st">"VRM"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Mode/Type of Service Status</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Active"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">Legacy NTD ID</span><span class="st">`</span>, </span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">Reporter Type</span><span class="st">`</span>, </span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">Mode/Type of Service Status</span><span class="st">`</span>, </span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">UACE CD</span><span class="st">`</span>, </span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">TOS</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">3 Mode</span><span class="st">`</span>), </span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to=</span><span class="st">"month"</span>, </span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to=</span><span class="st">"VRM"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">metro_area =</span><span class="st">`</span><span class="at">UZA Name</span><span class="st">`</span>) <span class="sc">|&gt;</span> <span class="co">#task1</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>, <span class="st">`</span><span class="at">Agency</span><span class="st">`</span>, metro_area, </span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">Mode</span><span class="st">`</span>, <span class="st">`</span><span class="at">3 Mode</span><span class="st">`</span>, month) <span class="sc">|&gt;</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">VRM =</span> <span class="fu">sum</span>(VRM)) <span class="sc">|&gt;</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month=</span><span class="fu">my</span>(month)) <span class="co"># Parse _m_onth _y_ear date specs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="e-merging-ridership-data" class="level3">
<h3 class="anchored" data-anchor-id="e-merging-ridership-data">e) Merging Ridership Data</h3>
<p>The <code>inner_join()</code> function is used again for <code>TRIPS</code> and <code>MILES</code> to get them together into <code>USAGE</code> dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>USAGE <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(TRIPS, MILES) <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.integer</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(<span class="st">"DT"</span>)) <span class="fu">install.packages</span>(<span class="st">"DT"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="f-glimpse-of-the-main-dataset-and-improving-mode-column" class="level3">
<h3 class="anchored" data-anchor-id="f-glimpse-of-the-main-dataset-and-improving-mode-column">f) Glimpse of the Main Dataset and Improving <code>Mode</code> column</h3>
<ul>
<li><p><code>sample_n(USAGE, 1000)</code> selects a random sample of 1000 records from the <code>USAGE</code> dataset;</p></li>
<li><p><code>mutate</code> helps to convert the <code>month</code> column to a character format, ensuring it’s one format for further analysis;</p></li>
<li><p><code>DT::datatable()</code> gives a web-like interactive table for a sampled dataset for filtering, sorting etc., ensure that <code>DT</code> library is installed, if not use <code>install.packages("DT")</code> function from the previous step;</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample_n</span>(USAGE, <span class="dv">1000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month=</span><span class="fu">as.character</span>(month)) <span class="sc">|&gt;</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-012f49afc6172bef4279" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-012f49afc6172bef4279">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803","804","805","806","807","808","809","810","811","812","813","814","815","816","817","818","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","834","835","836","837","838","839","840","841","842","843","844","845","846","847","848","849","850","851","852","853","854","855","856","857","858","859","860","861","862","863","864","865","866","867","868","869","870","871","872","873","874","875","876","877","878","879","880","881","882","883","884","885","886","887","888","889","890","891","892","893","894","895","896","897","898","899","900","901","902","903","904","905","906","907","908","909","910","911","912","913","914","915","916","917","918","919","920","921","922","923","924","925","926","927","928","929","930","931","932","933","934","935","936","937","938","939","940","941","942","943","944","945","946","947","948","949","950","951","952","953","954","955","956","957","958","959","960","961","962","963","964","965","966","967","968","969","970","971","972","973","974","975","976","977","978","979","980","981","982","983","984","985","986","987","988","989","990","991","992","993","994","995","996","997","998","999","1000"],[40029,40130,80005,40086,10003,30137,60095,90219,20,90015,30202,90134,50027,50058,10183,70010,50199,50113,50517,70016,20,20145,40108,40042,60059,2,60022,70013,70035,30034,10051,30022,30023,40037,60017,50182,41,10001,40034,60014,30095,90002,90094,90017,60016,70014,90041,90219,50342,90006,50017,40100,16,90078,50066,50042,40078,60108,50060,90196,70010,50024,60101,10066,30074,41068,30137,50117,50015,30030,50051,30129,90006,90014,40032,10130,40093,50016,80004,50088,40087,90147,60040,30034,20080,90015,50028,60101,20018,80012,43,40053,90154,40022,30095,60095,8,90031,50199,30137,40077,40138,24,60010,50031,30103,70006,40093,60130,90044,20075,21,30070,10001,20178,80001,50054,90148,30027,90006,50169,90164,40950,40001,60018,50176,90091,10001,40002,90154,90012,30019,30080,40129,20080,60056,50031,20002,40051,90029,30111,90031,20187,90162,30070,30014,40063,30054,50060,40022,90091,20008,30058,30019,10056,90004,50027,8,20163,90162,80005,90090,29,30014,50154,10007,90052,90027,6,50166,70048,40037,50060,20008,50015,40042,60011,90062,20082,90043,70005,90045,45,50110,80009,50029,90031,40173,20018,70045,6,50054,90140,50060,90004,90015,40021,60011,50518,30076,7,40003,70008,25,2,60048,90162,50145,90131,60001,90036,10048,40032,40,40046,40058,10040,20078,20178,20113,20217,10002,90035,90168,90148,20196,40002,90017,40192,50095,70043,50020,60018,18,40143,1,10013,99423,21,10003,90036,50022,50040,50042,30072,30014,40017,30025,40029,30054,24,50066,90015,30085,20071,40078,30080,70010,40103,90089,50057,3,40138,80001,21,7,40086,40053,50028,90233,30034,20078,30034,10069,21,40004,40023,50519,90062,40077,50006,50091,53,50179,60011,40086,40159,40021,7,20,30088,40063,40036,30025,40028,40002,60049,50003,30014,50011,50059,40228,30008,40036,40140,19,90148,20,8,40030,90196,50119,40043,80005,40171,30019,50031,1,60011,60022,10064,40027,50029,40018,43,40047,90196,30077,10003,10003,20217,21,50029,10061,10128,90149,11,60017,60094,30083,40103,60011,29,30071,20084,50154,10056,40037,40087,30022,40036,30075,20003,60011,40041,43,10051,90010,6,30019,40169,10008,50113,90062,30012,40041,50159,5,50022,35,20100,20080,50158,60014,50145,40025,1,90175,40092,60059,90026,60056,90095,10007,30022,90173,90200,90033,70003,30070,20206,90147,50010,70003,7,30022,90015,40001,10045,10088,10007,40026,70019,50037,90001,50054,90226,40086,30034,40032,50174,90171,90154,29,90019,60033,50092,40034,60009,30006,80003,40035,60080,90219,40032,30102,40014,70005,10118,90079,20145,7,60101,90009,40043,1,90088,20003,40018,50033,60011,40008,50039,22,50044,30012,70030,30040,50050,40040,40104,90086,80019,60017,20076,50026,40014,40208,80004,30023,80006,80014,20008,40025,50033,90016,60095,40028,40053,50113,30075,43,90200,10005,40093,40057,50044,10061,30022,90147,8,90086,10098,60049,30026,80006,90136,40044,90035,50096,90079,20078,60056,50103,30078,10006,70015,50521,30030,10040,70009,60012,70066,90009,90015,90233,40138,60056,50035,90010,10013,40021,60007,60008,80006,90031,20206,70002,40017,80001,50518,40036,30088,50054,40097,8,30001,60056,60007,30006,40928,60011,20072,40178,50004,30095,30071,40018,20008,30001,40009,90023,40175,30034,90241,20209,40026,30002,60009,30003,90175,30045,50058,50154,50044,50036,40224,90012,10183,10118,3,50198,20175,50010,90029,90241,60018,12,90019,80010,50146,50113,50031,40051,90087,60007,50104,57,40034,50058,90087,50003,40196,50042,50148,40008,25,10040,50031,10040,30006,90013,90200,50033,50017,50059,10088,40102,40071,60014,90230,80014,80001,50165,90004,50033,70019,20018,40036,40027,20080,50164,30111,20080,20199,90200,80003,20145,10014,50027,40103,20078,20008,30015,90234,50053,70014,40004,90214,90010,5,90200,10061,40086,7,30019,90013,80006,60008,30035,10053,40046,40026,30003,40018,50021,80006,30095,40046,20100,70035,50040,90013,10051,50008,30079,40129,50056,20004,60101,90004,30041,30019,10088,90023,50198,30010,60018,80011,50004,70030,40041,50032,90092,60072,30010,90015,40129,50517,50161,50004,40100,60062,40108,50108,70018,60051,10017,30030,20075,30070,50059,40051,30202,30034,10001,30096,60077,90146,60059,40025,90161,90017,70010,40058,40030,90015,90151,30054,70005,30012,50056,40100,40051,60051,50017,50001,90121,44929,30107,40074,50012,60022,50160,40108,50001,10118,80011,50091,30058,60011,20078,90155,50103,90003,20006,57,60009,10040,50027,90140,90147,90234,30076,90232,90061,90148,80009,60095,50047,80019,60017,30001,7,40058,50008,30092,40034,30030,60107,40027,70049,20080,30011,29,50027,2,40029,10088,50166,90136,10004,30003,50043,40018,80001,20008,40019,90088,40032,20,40180,40097,90147,50036,20080,90121,19,40092,40028,60038,50148,90196,10057,90039,90171,30085,40224,50145,60016,70014,10105,10016,40040,50066,50183,20,50113,60010,20199,50024,40012,90164,90008,90062,50119,40014,20217,40078,90093,90015,50050,90088,40012,50029,50035,40058,70005,20008,40192,50060,90089,10118,90175,20008,35,70015,90009,30079,50050,44929,10096,90035,19,40041,90154,80005,90045,80011,50028,40037,50036,20010,30087,50015,50174,50032,18,10001,60088,40100,80005,40224,50044,90012,30085,50050,19,40009,376,90016,60017,40025,50002,40036,60017,40006,60102,80006,40034,50113,30068,40043,8,40032,80016,50047,50027,99422,40026,30083,70005,50032,40063,40077,60056,10102,40037,40014,90036,90052,80011,50169,60091,90020,40008,40159,50090,24,90154,40074,50002,30083,40009,70005,40138,60024,30002,90014,50148,30001,10007,90043,20078,30081,50031,40040,50165,10102,70015,40120,40078,50028,70001,60017,40040,40019,50149,10002,50096,50024,40110,90062,50052,70014,90148,50066,40034,70011,90162,50050,50015,90032,40029,25,60009,40004,50096,90062,10053,44,50109,60008,2,90079,30201,60111,90034,40038,50037,20002,50182,8,80006,90088,8,10048,60015,70003,90162,40021,50010,40025,40021,16,30001,10086,70001,40105,30075,90159,50159,20178,90168,40224,30079,40130,90196,10102,90233],["Broward County Board of County Commissioners","Macon-Bibb County Transit Authority","City of Colorado Springs","Metropolitan Bus Authority","Massachusetts Bay Transportation Authority","Monroe County Transportation  Authority","Golden Crescent Regional Planning Commission","Northern Arizona Intergovernmental Public Transportation Authority","Kitsap County Public Transportation Benefit Area Authority","City and County of San Francisco","South Central Transit Authority","Peninsula Corridor Joint Powers Board","Metro Transit","Rockford Mass Transit District","Woods Hole, Martha's Vineyard and Nantucket Steamship Authority","Des Moines Area Regional Transit Authority","Delaware County Transit Board","Pace, the Suburban Bus Division of the Regional Transportation Authority","City of Maple Grove","City of Columbia","Kitsap County Public Transportation Benefit Area Authority","Tompkins Consolidated Area Transit","Research Triangle Regional Public Transportation Authority","Birmingham-Jefferson County Transit Authority","Brazos Transit District","Spokane Transit Authority","Capital Area Transit System","Metropolitan Transit Authority of Black Hawk County","Johnson County Kansas","Maryland Transit Administration","Housatonic Area Regional Transit","Pittsburgh Regional Transit","Beaver County Transit Authority","Board of County Commissioners, Palm Beach County","Central Oklahoma Transportation and Parking Authority","Pace, the Suburban Bus Division of the Regional Transportation Authority","Alaska Railroad Corporation","Rhode Island Public Transit Authority","County of Miami-Dade","City of Brownsville","County of Lebanon Transit Authority","City and County of Honolulu","Metropolitan Transportation Commission","City of Santa Rosa","City of Beaumont","Topeka Metropolitan Transit Authority","City of Montebello","Northern Arizona Intergovernmental Public Transportation Authority","Hendricks County Sycamore Services","Santa Cruz Metropolitan Transit District","Greater Dayton Regional Transit Authority","Santee Wateree Regional Transportation Authority","City of Longview","Central Contra Costa Transit Authority","Chicago Transit Authority","City of East Chicago","Cobb County","Harris County","Champaign-Urbana Mass Transit District","County of Placer","Des Moines Area Regional Transit Authority","Western Reserve Transit Authority","Denton County Transportation Authority","Green Mountain Transit Authority","Harford County Maryland","Flagler County","Monroe County Transportation  Authority","Laketran","The Greater Cleveland Regional Transit Authority","Washington Metropolitan Area Transit Authority","Greater Lafayette Public Transportation Corporation","Anne Arundel County","Santa Cruz Metropolitan Transit District","Alameda-Contra Costa Transit District","County of Volusia","Connecticut Department of Transportation -CTTRANSIT New Britain","City of Greensboro","Central Ohio Transit Authority","City of Billings","City of Sheboygan","City of Durham","City of Los Angeles","City of Abilene","Maryland Transit Administration","New Jersey Transit Corporation","City and County of San Francisco","St. Cloud Metropolitan Transit Commission","Denton County Transportation Authority","Central New York Regional Transportation Authority","Great Falls Transit District","Chelan Douglas PTBA","Greenville Transit Authority","Los Angeles County Metropolitan Transportation Authority","Metropolitan Atlanta Rapid Transit Authority","County of Lebanon Transit Authority","Golden Crescent Regional Planning Commission","Tri-County Metropolitan Transportation District of Oregon","Riverside Transit Agency","Delaware County Transit Board","Monroe County Transportation  Authority","South Florida Regional Transportation Authority","Gwinnett County Board of Commissioners","Clark County Public Transportation Benefit Area Authority","City of Lubbock","Suburban Mobility Authority for Regional Transportation","Martz Group, National Coach Works of Virginia","Bi-State Development Agency of the Missouri-Illinois Metropolitan District","City of Greensboro","Alamo Area Council of Governments","City of Arcadia","Port Authority Transit Corporation","Whatcom Transportation Authority","Potomac and Rappahannock Transportation Commission","Rhode Island Public Transit Authority","Ulster County","Utah Transit Authority","Muncie Indiana Transit System","Victor Valley Transit Authority","Central Pennsylvania Transportation Authority","Santa Cruz Metropolitan Transit District","Miami County, Ohio","Ventura County Transportation Commission","First Tennessee Human Resource Agency","Chattanooga Area Regional Transportation Authority","Metropolitan Tulsa Transit Authority","City of DeKalb","City of Visalia","Rhode Island Public Transit Authority","City of Knoxville","Los Angeles County Metropolitan Transportation Authority","San Joaquin Regional Transit District","Southeastern Pennsylvania Transportation Authority","Arlington County, Virginia","Charlotte County Government","New Jersey Transit Corporation","Dallas Area Rapid Transit","Suburban Mobility Authority for Regional Transportation","Capital District Transportation Authority","Town of Chapel Hill","Omnitrans","Washington County Transportation Authority","Riverside Transit Agency","Village of Kiryas Joel","The Eastern Contra Costa Transit Authority","Potomac and Rappahannock Transportation Commission","Cumberland Dauphin-Harrisburg Transit Authority","Brevard Board of County Commissioners","Centre Area Transportation Authority","Champaign-Urbana Mass Transit District","Metropolitan Atlanta Rapid Transit Authority","City of Visalia","MTA New York City Transit","City of Fairfax","Southeastern Pennsylvania Transportation Authority","Connecticut Department of Transportation - CTTRANSIT Stamford Division","Golden Empire Transit District","Metro Transit","Tri-County Metropolitan Transportation District of Oregon","Lakeland Bus Lines, Inc.","The Eastern Contra Costa Transit Authority","City of Colorado Springs","Yolo County Transportation District","Snohomish County Public Transportation Benefit Area Corporation","Cumberland Dauphin-Harrisburg Transit Authority","Metropolitan Council","Berkshire Regional Transit Authority","City of Corona","City of Fresno","City of Yakima","Clermont County, Ohio","City of Lawrence","Board of County Commissioners, Palm Beach County","Champaign-Urbana Mass Transit District","MTA New York City Transit","The Greater Cleveland Regional Transit Authority","Birmingham-Jefferson County Transit Authority","VIA Metropolitan Transit","Monterey-Salinas Transit","New York City Department of Transportation","City of Commerce","Kansas City Area Transportation Authority","Regional Transportation Commission of Southern Nevada","Fairbanks North Star Borough","Bloomington Public Transportation Corporation","Missoula Urban Transportation District","Bay Metropolitan Transit Authority","Riverside Transit Agency","Piedmont Authority for Regional Transportation","Central New York Regional Transportation Authority","County of Johnson, Iowa","City of Yakima","Muncie Indiana Transit System","City of Peoria","Champaign-Urbana Mass Transit District","Golden Empire Transit District","City and County of San Francisco","City of Albany","VIA Metropolitan Transit","SouthWest Transit","Williamsburg Area Transit Authority","Lane Transit District","City of Memphis","City of Cedar Rapids","Salem Area Mass Transit District","Spokane Transit Authority","Capital Metropolitan Transportation Authority","The Eastern Contra Costa Transit Authority","City of Kokomo","City of Scottsdale","City of Amarillo","Orange County Transportation Authority","Connecticut Department of Transportation - CTTRANSIT - Hartford Division","County of Volusia","Central Puget Sound Regional Transit Authority","Sarasota County","City of Rome","Southeast Area Transit District","Metro-North Commuter Railroad Company, dba: MTA Metro-North Railroad","Ulster County","Regional Transit Service","Hampton Jitney, Inc.","Manchester Transit Authority","Gold Coast Transit District","City of Roseville","Victor Valley Transit Authority","Middlesex County","City of Knoxville","City of Santa Rosa","Martin County","Lorain County","City of Jefferson","City of Springfield, Ohio","Metropolitan Tulsa Transit Authority","Ben Franklin Transit","Town of Cary","King County","Merrimack Valley Regional Transit Authority","City of Glendale","Whatcom Transportation Authority","Massachusetts Bay Transportation Authority","Orange County Transportation Authority","Toledo Area Regional Transit Authority","Ann Arbor Area Transportation Authority","City of East Chicago","Frederick County, Maryland","Cumberland Dauphin-Harrisburg Transit Authority","Lexington Transit Authority","County of Lackawanna Transit System","Broward County Board of County Commissioners","Centre Area Transportation Authority","Clark County Public Transportation Benefit Area Authority","Chicago Transit Authority","City and County of San Francisco","Prince George's County, Maryland","Town of Huntington","Cobb County","Arlington County, Virginia","Des Moines Area Regional Transit Authority","Southeast Alabama Regional Planning and Development Commission","County of Sonoma","Rock Island County Metropolitan Mass Transit District","Pierce County Transportation Benefit Area Authority","Gwinnett County Board of Commissioners","Utah Transit Authority","Whatcom Transportation Authority","Lane Transit District","Metropolitan Bus Authority","Greenville Transit Authority","St. Cloud Metropolitan Transit Commission","Yuma County Intergovernmental Public Transportation Authority","Maryland Transit Administration","Metro-North Commuter Railroad Company, dba: MTA Metro-North Railroad","Maryland Transit Administration","Regional Transportation Program, Inc.","Whatcom Transportation Authority","Metropolitan Transit Authority","Augusta Richmond County Transit Department","Minnesota Valley Transit Authority","Monterey-Salinas Transit","South Florida Regional Transportation Authority","City of Racine, Wisconsin","City of Wausau, Wisconsin","Coeur d'Alene Tribe","Porter County Aging and Community Services, Inc.","VIA Metropolitan Transit","Metropolitan Bus Authority","Regional Transportation Authority","City of Albany","Lane Transit District","Kitsap County Public Transportation Benefit Area Authority","County Commissioners of Charles County, MD","Brevard Board of County Commissioners","City of Tallahassee","County of Lackawanna Transit System","Lee County","City of Knoxville","City of Las Cruces NM","City of Kenosha","Cumberland Dauphin-Harrisburg Transit Authority","Stark Area Regional Transit Authority","Springfield Mass Transit District","Mecklenburg County","Greater Lynchburg Transit Company","City of Tallahassee","Collier County","Intercity Transit","Victor Valley Transit Authority","Kitsap County Public Transportation Benefit Area Authority","Tri-County Metropolitan Transportation District of Oregon","City of Gainesville, FL","County of Placer","City of Detroit","City of Mobile","City of Colorado Springs","Knoxville-Knox County Community Action Committee","Southeastern Pennsylvania Transportation Authority","Suburban Mobility Authority for Regional Transportation","King County","VIA Metropolitan Transit","Capital Area Transit System","Greater Attleboro-Taunton Regional Transit Authority","Pinellas Suncoast Transit Authority","Bay Metropolitan Transit Authority","Transit Authority of River City","Chelan Douglas PTBA","Athens-Clarke County Unified Government","County of Placer","Borough of Pottstown","Massachusetts Bay Transportation Authority","Massachusetts Bay Transportation Authority","Hampton Jitney, Inc.","Whatcom Transportation Authority","Bay Metropolitan Transit Authority","Montachusett Regional Transit Authority","Connecticut Department of Transportation- CTTransit Waterbury- NET","City of Lompoc","Valley Regional Transit","Central Oklahoma Transportation and Parking Authority","City of Lawton","Transportation District Commission of Hampton Roads","Southeast Alabama Regional Planning and Development Commission","VIA Metropolitan Transit","Snohomish County Public Transportation Benefit Area Corporation","City of Alexandria","County of Rockland","Metropolitan Council","Connecticut Department of Transportation - CTTRANSIT Stamford Division","Board of County Commissioners, Palm Beach County","City of Durham","Pittsburgh Regional Transit","City of Tallahassee","Delaware Transit Corporation","Broome County","VIA Metropolitan Transit","Hillsborough Area Regional Transit Authority","Chelan Douglas PTBA","Housatonic Area Regional Transit","City of Torrance","City of Yakima","Southeastern Pennsylvania Transportation Authority","Regional Planning Commission of Greater Birmingham","Pioneer Valley Transit Authority","Pace, the Suburban Bus Division of the Regional Transportation Authority","Monterey-Salinas Transit","Cambria County Transit Authority","Hillsborough Area Regional Transit Authority","River Valley Metro Mass Transit District","City of Everett","Toledo Area Regional Transit Authority","Washington State Ferries","MTA Long Island Rail Road","New Jersey Transit Corporation","University of Michigan Parking and Transportation Services","City of Brownsville","City of Kokomo","Chatham Area Transit Authority","King County","City of Lodi","City of Clarksville","Brazos Transit District","San Diego Metropolitan Transit System","Dallas Area Rapid Transit","San Diego Association of Governments","Berkshire Regional Transit Authority","Pittsburgh Regional Transit","Transit Joint Powers Authority for Merced County","Kings County Area Public Transit Agency","City of Tucson","City of Springfield","Potomac and Rappahannock Transportation Commission","County of Nassau","City of Los Angeles","METRO Regional Transit Authority","City of Springfield","Lane Transit District","Pittsburgh Regional Transit","City and County of San Francisco","Chattanooga Area Regional Transportation Authority","Connecticut Department of Transportation - CTTransit New Britain -Dattco.","Casco Bay Island Transit District","Berkshire Regional Transit Authority","Manatee County Board of County Commissioners","University of Iowa","County of Muskegon","Regional Transportation Commission of Washoe County","Muncie Indiana Transit System","Imperial County Transportation Commission","Metropolitan Bus Authority","Maryland Transit Administration","County of Volusia","City of Danville","City of Santa Clarita","Los Angeles County Metropolitan Transportation Authority","Snohomish County Public Transportation Benefit Area Corporation","Sacramento Regional Transit District","Rock Region Metropolitan Transit Authority","City of Rochester, Minnesota","County of Miami-Dade","City of Laredo","Greater Richmond Transit Company","City of Fargo","Central Florida Regional Transportation Authority","Terrebonne Parish Consolidated Government","Northern Arizona Intergovernmental Public Transportation Authority","County of Volusia","Martz Trailways","Ms Coast Transportation Authority","Kansas City Area Transportation Authority","MetroWest Regional Transit Authority","SunLine Transit Agency","Tompkins Consolidated Area Transit","Lane Transit District","Denton County Transportation Authority","San Mateo County Transit District","City of Mobile","King County","Napa Valley Transportation Authority","Broome County","Transit Authority of River City","Interurban Transit Partnership","VIA Metropolitan Transit","City of Charlotte North Carolina","Saginaw Transit Authority Regional Service","City of Pocatello","Fort Wayne Public Transportation Corporation","Cambria County Transit Authority","City of Coralville","City of Annapolis","Indianapolis and Marion County Public Transportation","Jacksonville Transportation Authority","Indian River County","City of Riverside","Bis-Man Transit Board","Central Oklahoma Transportation and Parking Authority","Westchester County","City of Moorhead","Ms Coast Transportation Authority","City of Clemson","City of Billings","Beaver County Transit Authority","Denver Regional Transportation District","City of Rapid City","MTA New York City Transit","Chatham Area Transit Authority","Interurban Transit Partnership","Golden Gate Bridge, Highway and Transportation District","Golden Crescent Regional Planning Commission","Lee County","Greenville Transit Authority","Pace, the Suburban Bus Division of the Regional Transportation Authority","Delaware Transit Corporation","Chelan Douglas PTBA","Kings County Area Public Transit Agency","Lowell Regional Transit Authority","City of Greensboro","Jackson Transit Authority","Fort Wayne Public Transportation Corporation","Montachusett Regional Transit Authority","Pittsburgh Regional Transit","City of Los Angeles","Tri-County Metropolitan Transportation District of Oregon","City of Riverside","Western Maine Transportation Services, Inc.","City of Las Cruces NM","River Valley Transit Authority","Denver Regional Transportation District","Regional Public Transportation Authority","City of Montgomery","Gold Coast Transit District","City of Waukesha","SunLine Transit Agency","Metro-North Commuter Railroad Company, dba: MTA Metro-North Railroad","Dallas Area Rapid Transit","North Township of Lake County","Southwestern Pennsylvania Commission","Southeastern Regional Transit Authority","City of Wichita","Chicago Water Taxi (Wendella)","Washington Metropolitan Area Transit Authority","Southeast Area Transit District","City of Davenport","City of Waco","Heart of Iowa Regional Transit Agency","San Mateo County Transit District","City and County of San Francisco","Yuma County Intergovernmental Public Transportation Authority","Gwinnett County Board of Commissioners","Dallas Area Rapid Transit","Central County Transportation Authority","City of Torrance","Merrimack Valley Regional Transit Authority","City of Albany","Fort Worth Transportation Authority","Metropolitan Transit Authority of Harris County, Texas","Denver Regional Transportation District","Riverside Transit Agency","County of Nassau","Transit Authority of Omaha","Lexington Transit Authority","Utah Transit Authority","SouthWest Transit","City of Tallahassee","County Commissioners of Charles County, MD","Muncie Indiana Transit System","Council on Aging of St. Lucie, Inc.","Tri-County Metropolitan Transportation District of Oregon","Kanawha Valley Regional Transportation Authority","Dallas Area Rapid Transit","Fort Worth Transportation Authority","Greater Richmond Transit Company","Baldwin County Commission","VIA Metropolitan Transit","Suffolk County","The Transportation Management Association Group","City of La Crosse","County of Lebanon Transit Authority","City of Alexandria","Transit Authority of River City","MTA New York City Transit","Kanawha Valley Regional Transportation Authority","City of Fayetteville","Long Beach Transit","Puerto Rico Maritime Transport Authority","Maryland Transit Administration","County of Maui","Somerset County","Manatee County Board of County Commissioners","The Tri-State Transit Authority","City of Laredo","Mid-Ohio Valley Transit Authority","City of Lodi","JAUNT, Inc.","Rockford Mass Transit District","Metropolitan Council","Fort Wayne Public Transportation Corporation","Capital Area Transportation Authority","Buncombe County","San Joaquin Regional Transit District","Woods Hole, Martha's Vineyard and Nantucket Steamship Authority","MetroWest Regional Transit Authority","Pierce County Transportation Benefit Area Authority","Medina County","Private Transportation Corporation","METRO Regional Transit Authority","Omnitrans","County of Maui","Metropolitan Tulsa Transit Authority","Municipality of Anchorage","Sacramento Regional Transit District","Greeley, City Of","Madison County Transit District","Pace, the Suburban Bus Division of the Regional Transportation Authority","Suburban Mobility Authority for Regional Transportation","Town of Chapel Hill","City of Santa Maria","Fort Worth Transportation Authority","Northern Indiana Commuter Transportation District","Central Oregon Intergovernmental Council","County of Miami-Dade","Rockford Mass Transit District","City of Santa Maria","City of Kenosha","Kentuckiana Regional Planning and Development Agency","City of East Chicago","Blue Water Area Transportation Commission","City of Charlotte North Carolina","Salem Area Mass Transit District","Southeast Area Transit District","Suburban Mobility Authority for Regional Transportation","Southeast Area Transit District","Greater Richmond Transit Company","Santa Clara Valley Transportation Authority","Kings County Area Public Transit Agency","Interurban Transit Partnership","Greater Dayton Regional Transit Authority","Springfield Mass Transit District","Casco Bay Island Transit District","Waccamaw Regional Transportation Authority","City of Huntsville, Alabama","City of Brownsville","California Vanpool Authority","City of Rapid City","Utah Transit Authority","Greene County Transit Board","Golden Empire Transit District","Interurban Transit Partnership","University of Iowa","Central New York Regional Transportation Authority","City of Tallahassee","Pinellas Suncoast Transit Authority","New Jersey Transit Corporation","City of Sandusky","Washington County Transportation Authority","New Jersey Transit Corporation","County of Atlantic","Kings County Area Public Transit Agency","City of Fargo","Tompkins Consolidated Area Transit","Worcester Regional Transit Authority","Metro Transit","Southeast Alabama Regional Planning and Development Commission","Metro-North Commuter Railroad Company, dba: MTA Metro-North Railroad","MTA New York City Transit","Luzerne County Transportation Authority","Marin County Transit District","City of Terre Haute","Topeka Metropolitan Transit Authority","Metropolitan Transit Authority","City of Redondo Beach","City of Torrance","City of Everett","Kings County Area Public Transit Agency","Montachusett Regional Transit Authority","Metropolitan Bus Authority","Lane Transit District","Southeastern Pennsylvania Transportation Authority","Santa Clara Valley Transportation Authority","Denver Regional Transportation District","Metropolitan Transit Authority of Harris County, Texas","Ohio Valley Regional Transportation Authority","Cape Ann Transportation Authority","Sarasota County","Manatee County Board of County Commissioners","Mid-Ohio Valley Transit Authority","Transit Authority of River City","Portage Area Regional Transportation Authority","Denver Regional Transportation District","County of Lebanon Transit Authority","Sarasota County","MTA Long Island Rail Road","Johnson County Kansas","Ann Arbor Area Transportation Authority","Santa Clara Valley Transportation Authority","Housatonic Area Regional Transit","Milwaukee County","City of Fredericksburg","Charlotte County Government","Greater Peoria Mass Transit District","Niagara Frontier Transportation Authority","Denton County Transportation Authority","Golden Empire Transit District","Board of Commissioners of Allegany County Maryland","Southeastern Pennsylvania Transportation Authority","Casco Bay Island Transit District","Long Beach Transit","Medina County","Lehigh and Northampton Transportation Authority","Metropolitan Tulsa Transit Authority","City of Fort Collins","City of La Crosse","City of Coralville","Hillsborough Area Regional Transit Authority","Mass Transportation Authority","City of Fairfield, California","Ozark Regional Transit","Lehigh and Northampton Transportation Authority","City and County of San Francisco","Charlotte County Government","City of Maple Grove","Ozaukee County","City of La Crosse","Santee Wateree Regional Transportation Authority","University of Arkansas, Fayetteville","Research Triangle Regional Public Transportation Authority","City of Janesville","City of Iowa City","Corpus Christi Regional Transportation Authority","Greater Hartford Transit District","Washington Metropolitan Area Transit Authority","Port Authority Transit Corporation","Potomac and Rappahannock Transportation Commission","Springfield Mass Transit District","Town of Chapel Hill","South Central Transit Authority","Maryland Transit Administration","Rhode Island Public Transit Authority","The Tri-County Council for the Lower Eastern Shore of Maryland","City of Santa Fe","Foothill Transit","Brazos Transit District","Chatham Area Transit Authority","City of Union City","City of Santa Rosa","Des Moines Area Regional Transit Authority","City of Rome","City of Gainesville, FL","City and County of San Francisco","Southern California Regional Rail Authority","Centre Area Transportation Authority","Kansas City Area Transportation Authority","Cambria County Transit Authority","Greater Peoria Mass Transit District","Santee Wateree Regional Transportation Authority","Town of Chapel Hill","Corpus Christi Regional Transportation Authority","Greater Dayton Regional Transit Authority","City of Appleton","Antelope Valley Transit Authority","City of Fort Lauderdale","West Virginia University","Pasco County Board of County Commissioners","Southwest Ohio Regional Transit Authority","Capital Area Transit System","County of Washington","Research Triangle Regional Public Transportation Authority","City of Appleton","MetroWest Regional Transit Authority","City of Fort Collins","City of Wausau, Wisconsin","City of Fairfax","VIA Metropolitan Transit","Metro-North Commuter Railroad Company, dba: MTA Metro-North Railroad","City of Vacaville","North Township of Lake County","San Francisco Bay Area Rapid Transit District","City of Long Beach","Central Oregon Intergovernmental Council","City of Laredo","Southeast Area Transit District","Metro Transit","City of Peoria","City of Los Angeles","Marin County Transit District","Williamsburg Area Transit Authority","Solano County Transit","Yuba-Sutter Transit Authority","Victor Valley Transit Authority","Missoula Urban Transportation District","Golden Crescent Regional Planning Commission","Bloomington-Normal Public Transit System","Bis-Man Transit Board","Central Oklahoma Transportation and Parking Authority","Kanawha Valley Regional Transportation Authority","Lane Transit District","City of Rome","Milwaukee County","The County Commissioners of Carroll County, Maryland","County of Miami-Dade","Washington Metropolitan Area Transit Authority","Texoma Area Paratransit System, Inc","Pinellas Suncoast Transit Authority","River Bend Transit","New Jersey Transit Corporation","Altoona Metro Transit","Snohomish County Public Transportation Benefit Area Corporation","Metro Transit","Spokane Transit Authority","Broward County Board of County Commissioners","Casco Bay Island Transit District","Clermont County, Ohio","Regional Public Transportation Authority","Brockton Area Transit Authority","Mid-Ohio Valley Transit Authority","City of Evansville","Transit Authority of River City","Utah Transit Authority","MTA New York City Transit","Transit Authority of Northern Kentucky","Napa Valley Transportation Authority","County of Volusia","Kitsap County Public Transportation Benefit Area Authority","University of Georgia","Council on Aging of St. Lucie, Inc.","City of Los Angeles","Capital Area Transportation Authority","New Jersey Transit Corporation","Antelope Valley Transit Authority","Intercity Transit","City of Clarksville","Lee County","Lafayette City-Parish Consolidated Government","Blue Water Area Transportation Commission","County of Placer","Norwalk Transit District","City of Culver City","City of Santa Clarita","Prince George's County, Maryland","Buncombe County","City of Kokomo","City of Beaumont","Topeka Metropolitan Transit Authority","Cape Cod Regional Transit Authority","Greater Portland Transit District","Jacksonville Transportation Authority","Chicago Transit Authority","City of Valparaiso","Kitsap County Public Transportation Benefit Area Authority","Pace, the Suburban Bus Division of the Regional Transportation Authority","City of Lubbock","County of Atlantic","Western Reserve Transit Authority","City of Winston Salem","Ventura County Transportation Commission","City of Santa Monica","Monterey-Salinas Transit","City of Detroit","Ms Coast Transportation Authority","Hampton Jitney, Inc.","Cobb County","Redding Area Bus Authority","City and County of San Francisco","Indianapolis and Marion County Public Transportation","Napa Valley Transportation Authority","City of Winston Salem","Bay Metropolitan Transit Authority","Central County Transportation Authority","City of Rome","Kansas City Area Transportation Authority","MTA New York City Transit","Martin County","Champaign-Urbana Mass Transit District","County of Sonoma","MetroWest Regional Transit Authority","City of Lodi","MTA New York City Transit","Washington State Ferries","City of Wichita","San Mateo County Transit District","City of Fredericksburg","Indianapolis and Marion County Public Transportation","City of Fort Lauderdale","City of Bangor","Gold Coast Transit District","Intercity Transit","Hillsborough Area Regional Transit Authority","Los Angeles County Metropolitan Transportation Authority","City of Colorado Springs","Regional Transportation Commission of Southern Nevada","City of Fort Collins","St. Cloud Metropolitan Transit Commission","Board of County Commissioners, Palm Beach County","Capital Area Transportation Authority","Dutchess County","County of Fayette","The Greater Cleveland Regional Transit Authority","City of Danville","Mass Transportation Authority","Ben Franklin Transit","Rhode Island Public Transit Authority","Jefferson Parish","Santee Wateree Regional Transportation Authority","City of Colorado Springs","Buncombe County","Fort Wayne Public Transportation Corporation","San Joaquin Regional Transit District","Prince George's County, Maryland","Indianapolis and Marion County Public Transportation","Intercity Transit","City of Fayetteville","Ride Connection, Inc.","Golden Gate Bridge, Highway and Transportation District","Central Oklahoma Transportation and Parking Authority","Chatham Area Transit Authority","City of Green Bay","City of Tallahassee","Central Oklahoma Transportation and Parking Authority","Cape Fear Public Transportation Authority","Concho Valley Transit District","Denver Regional Transportation District","County of Miami-Dade","Pace, the Suburban Bus Division of the Regional Transportation Authority","Fairfax County, VA","City of Mobile","Tri-County Metropolitan Transportation District of Oregon","County of Volusia","County of Mesa","Bloomington-Normal Public Transit System","Metro Transit","San Joaquin Council","Manatee County Board of County Commissioners","Transportation District Commission of Hampton Roads","Kansas City Area Transportation Authority","Mass Transportation Authority","Brevard Board of County Commissioners","South Florida Regional Transportation Authority","Dallas Area Rapid Transit","Connecticut Department of Transportation","Board of County Commissioners, Palm Beach County","Ms Coast Transportation Authority","Orange County Transportation Authority","City of Corona","City of Fort Collins","Miami County, Ohio","Hill Country Transit District","Santa Barbara Metropolitan Transit District","City of Charlotte North Carolina","Regional Transportation Authority","Richland County Transit","Clark County Public Transportation Benefit Area Authority","Los Angeles County Metropolitan Transportation Authority","Pasco County Board of County Commissioners","City of Green Bay","Transportation District Commission of Hampton Roads","City of Fayetteville","Kansas City Area Transportation Authority","Gwinnett County Board of Commissioners","City of Shreveport","The Tri-State Transit Authority","Alameda-Contra Costa Transit District","Blue Water Area Transportation Commission","Kanawha Valley Regional Transportation Authority","Berkshire Regional Transit Authority","City of Commerce","Metro-North Commuter Railroad Company, dba: MTA Metro-North Railroad","Loudoun County","Suburban Mobility Authority for Regional Transportation","Jacksonville Transportation Authority","Greene County Transit Board","Connecticut Department of Transportation","City of Wichita","City of Ocala, Florida","Cobb County","St. Cloud Metropolitan Transit Commission","City of Lincoln","Central Oklahoma Transportation and Parking Authority","Jacksonville Transportation Authority","Transit Authority of Northern Kentucky","Michiana Area Council of Governments","Manchester Transit Authority","City of Waukesha","Western Reserve Transit Authority","Charleston Area Regional Transportation Authority","Monterey-Salinas Transit","South Bend Public Transportation Corporation","Topeka Metropolitan Transit Authority","Victor Valley Transit Authority","Chicago Transit Authority","County of Miami-Dade","City of Dubuque","The Eastern Contra Costa Transit Authority","Indianapolis and Marion County Public Transportation","The Greater Cleveland Regional Transit Authority","City of Phoenix","Broward County Board of County Commissioners","Salem Area Mass Transit District","City of Laredo","Metropolitan Transit Authority","City of Waukesha","Monterey-Salinas Transit","Cape Ann Transportation Authority","Skagit Transit","City of Beloit","Metropolitan Transit Authority of Harris County, Texas","Spokane Transit Authority","SunLine Transit Agency","City of Baltimore","Rio Metro Regional Transit District","City of Glendale","Escambia County Board of County Commissioners, FL","County of Muskegon","Capital District Transportation Authority","Pace, the Suburban Bus Division of the Regional Transportation Authority","Tri-County Metropolitan Transportation District of Oregon","Denver Regional Transportation District","Napa Valley Transportation Authority","Tri-County Metropolitan Transportation District of Oregon","Connecticut Department of Transportation - CTTRANSIT - Hartford Division","City of Galveston","City of Springfield","The Eastern Contra Costa Transit Authority","City of Albany","METRO Regional Transit Authority","Chatham Area Transit Authority","City of Albany","City of Longview","Kanawha Valley Regional Transportation Authority","Cooperative Alliance for Seacoast Transportation","City of Lincoln","Puerto Rico Highway and Transportation Authority – Público","Delaware Transit Corporation","Western Contra Costa Transit Authority","River Valley Metro Mass Transit District","Ulster County","City of Roseville","Buncombe County","City of Fredericksburg","Macon-Bibb County Transit Authority","County of Placer","Connecticut Department of Transportation","Yuma County Intergovernmental Public Transportation Authority"],["Miami--Fort Lauderdale, FL","Macon-Bibb County, GA","Colorado Springs, CO","San Juan, PR","Boston, MA--NH","Pennsylvania Non-UZA","Victoria, TX","Flagstaff, AZ","Bremerton, WA","San Francisco--Oakland, CA","Lancaster--Manheim, PA","San Francisco--Oakland, CA","Minneapolis--St. Paul, MN","Rockford, IL","Barnstable Town, MA","Des Moines, IA","Columbus, OH","Chicago, IL--IN","Minneapolis--St. Paul, MN","Columbia, MO","Bremerton, WA","Ithaca, NY","Durham, NC","Birmingham, AL","College Station--Bryan, TX","Spokane, WA","Baton Rouge, LA","Waterloo, IA","Kansas City, MO--KS","Baltimore, MD","Danbury, CT--NY","Pittsburgh, PA","Pittsburgh, PA","Miami--Fort Lauderdale, FL","Oklahoma City, OK","Chicago, IL--IN","Anchorage, AK","Providence, RI--MA","Miami--Fort Lauderdale, FL","Brownsville, TX","Lebanon, PA","Honolulu, HI","San Francisco--Oakland, CA","Santa Rosa, CA","Beaumont, TX","Topeka, KS","Los Angeles--Long Beach--Anaheim, CA","Flagstaff, AZ","Indianapolis, IN","Santa Cruz, CA","Dayton, OH","Sumter, SC","Longview, WA--OR","Concord--Walnut Creek, CA","Chicago, IL--IN","Chicago, IL--IN","Atlanta, GA","Houston, TX","Champaign, IL","Sacramento, CA","Des Moines, IA","Youngstown, OH","Denton--Lewisville, TX","Burlington, VT","Bel Air--Aberdeen, MD","Daytona Beach--Palm Coast--Port Orange, FL","Pennsylvania Non-UZA","Cleveland, OH","Cleveland, OH","Washington--Arlington, DC--VA--MD","Lafayette, IN","Baltimore, MD","Santa Cruz, CA","San Francisco--Oakland, CA","Daytona Beach--Palm Coast--Port Orange, FL","Hartford, CT","Greensboro, NC","Columbus, OH","Billings, MT","Sheboygan, WI","Durham, NC","Los Angeles--Long Beach--Anaheim, CA","Abilene, TX","Baltimore, MD","New York--Jersey City--Newark, NY--NJ","San Francisco--Oakland, CA","St. Cloud, MN","Denton--Lewisville, TX","Syracuse, NY","Great Falls, MT","Wenatchee, WA","Greenville, SC","Los Angeles--Long Beach--Anaheim, CA","Atlanta, GA","Lebanon, PA","Victoria, TX","Portland, OR--WA","Riverside--San Bernardino, CA","Columbus, OH","Pennsylvania Non-UZA","Miami--Fort Lauderdale, FL","Atlanta, GA","Portland, OR--WA","Lubbock, TX","Detroit, MI","Washington--Arlington, DC--VA--MD","St. Louis, MO--IL","Greensboro, NC","New Braunfels, TX","Los Angeles--Long Beach--Anaheim, CA","Philadelphia, PA--NJ--DE--MD","Bellingham, WA","Washington--Arlington, DC--VA--MD","Providence, RI--MA","Poughkeepsie--Newburgh, NY","Salt Lake City, UT","Muncie, IN","Victorville--Hesperia--Apple Valley, CA","York, PA","Santa Cruz, CA","Dayton, OH","Oxnard--San Buenaventura (Ventura), CA","Johnson City, TN","Chattanooga, TN--GA","Tulsa, OK","DeKalb, IL","Visalia, CA","Providence, RI--MA","Knoxville, TN","Los Angeles--Long Beach--Anaheim, CA","Stockton, CA","Philadelphia, PA--NJ--DE--MD","Washington--Arlington, DC--VA--MD","Port Charlotte--North Port, FL","New York--Jersey City--Newark, NY--NJ","Dallas--Fort Worth--Arlington, TX","Detroit, MI","Albany--Schenectady, NY","Durham, NC","Riverside--San Bernardino, CA","Pittsburgh, PA","Riverside--San Bernardino, CA","Kiryas Joel, NY","Antioch, CA","Washington--Arlington, DC--VA--MD","Harrisburg, PA","Palm Bay--Melbourne, FL","State College, PA","Champaign, IL","Atlanta, GA","Visalia, CA","New York--Jersey City--Newark, NY--NJ","Washington--Arlington, DC--VA--MD","Philadelphia, PA--NJ--DE--MD","Bridgeport--Stamford, CT--NY","Bakersfield, CA","Minneapolis--St. Paul, MN","Portland, OR--WA","New York--Jersey City--Newark, NY--NJ","Antioch, CA","Colorado Springs, CO","Sacramento, CA","Seattle--Tacoma, WA","Harrisburg, PA","Minneapolis--St. Paul, MN","Pittsfield, MA","Riverside--San Bernardino, CA","Fresno, CA","Yakima, WA","Cincinnati, OH--KY","Lawrence, KS","Miami--Fort Lauderdale, FL","Champaign, IL","New York--Jersey City--Newark, NY--NJ","Cleveland, OH","Birmingham, AL","San Antonio, TX","Seaside--Monterey--Pacific Grove, CA","New York--Jersey City--Newark, NY--NJ","Los Angeles--Long Beach--Anaheim, CA","Kansas City, MO--KS","Las Vegas--Henderson--Paradise, NV","Fairbanks, AK","Bloomington, IN","Missoula, MT","Bay City, MI","Riverside--San Bernardino, CA","Greensboro, NC","Syracuse, NY","Iowa City, IA","Yakima, WA","Muncie, IN","Phoenix--Mesa--Scottsdale, AZ","Champaign, IL","Bakersfield, CA","San Francisco--Oakland, CA","Albany, GA","San Antonio, TX","Minneapolis--St. Paul, MN","Williamsburg, VA","Eugene, OR","Memphis, TN--MS--AR","Cedar Rapids, IA","Salem, OR","Spokane, WA","Austin, TX","Antioch, CA","Kokomo, IN","Phoenix--Mesa--Scottsdale, AZ","Amarillo, TX","Los Angeles--Long Beach--Anaheim, CA","Hartford, CT","Daytona Beach--Palm Coast--Port Orange, FL","Seattle--Tacoma, WA","Bradenton--Sarasota--Venice, FL","Rome, GA","Norwich--New London, CT","New York--Jersey City--Newark, NY--NJ","Poughkeepsie--Newburgh, NY","Rochester, NY","New York--Jersey City--Newark, NY--NJ","Manchester, NH","Oxnard--San Buenaventura (Ventura), CA","Sacramento, CA","Victorville--Hesperia--Apple Valley, CA","New York--Jersey City--Newark, NY--NJ","Knoxville, TN","Santa Rosa, CA","Port St. Lucie, FL","Lorain--Elyria, OH","Jefferson City, MO","Springfield, OH","Tulsa, OK","Kennewick--Richland--Pasco, WA","Raleigh, NC","Seattle--Tacoma, WA","Boston, MA--NH","Los Angeles--Long Beach--Anaheim, CA","Bellingham, WA","Boston, MA--NH","Los Angeles--Long Beach--Anaheim, CA","Toledo, OH--MI","Ann Arbor, MI","Chicago, IL--IN","Frederick, MD","Harrisburg, PA","Lexington-Fayette, KY","Scranton, PA","Miami--Fort Lauderdale, FL","State College, PA","Portland, OR--WA","Chicago, IL--IN","San Francisco--Oakland, CA","Washington--Arlington, DC--VA--MD","New York--Jersey City--Newark, NY--NJ","Atlanta, GA","Washington--Arlington, DC--VA--MD","Des Moines, IA","Dothan, AL","Santa Rosa, CA","Davenport, IA--IL","Seattle--Tacoma, WA","Atlanta, GA","Salt Lake City, UT","Bellingham, WA","Eugene, OR","San Juan, PR","Greenville, SC","St. Cloud, MN","Yuma, AZ--CA","Baltimore, MD","New York--Jersey City--Newark, NY--NJ","Baltimore, MD","Portland, ME","Bellingham, WA","Nashville-Davidson, TN","Augusta-Richmond County, GA--SC","Minneapolis--St. Paul, MN","Seaside--Monterey--Pacific Grove, CA","Miami--Fort Lauderdale, FL","Racine, WI","Wausau, WI","Coeur d'Alene, ID","Chicago, IL--IN","San Antonio, TX","San Juan, PR","Nashville-Davidson, TN","Albany, GA","Eugene, OR","Bremerton, WA","Waldorf, MD","Palm Bay--Melbourne, FL","Tallahassee, FL","Scranton, PA","Cape Coral, FL","Knoxville, TN","Las Cruces, NM","Kenosha, WI","Harrisburg, PA","Canton, OH","Springfield, IL","Charlotte, NC--SC","Lynchburg, VA","Tallahassee, FL","Bonita Springs--Estero, FL","Olympia--Lacey, WA","Victorville--Hesperia--Apple Valley, CA","Bremerton, WA","Portland, OR--WA","Gainesville, FL","Sacramento, CA","Detroit, MI","Mobile, AL","Colorado Springs, CO","Knoxville, TN","Philadelphia, PA--NJ--DE--MD","Detroit, MI","Seattle--Tacoma, WA","San Antonio, TX","Baton Rouge, LA","Providence, RI--MA","Tampa--St. Petersburg, FL","Bay City, MI","Louisville/Jefferson County, KY--IN","Wenatchee, WA","Athens-Clarke County, GA","Sacramento, CA","Philadelphia, PA--NJ--DE--MD","Boston, MA--NH","Boston, MA--NH","New York--Jersey City--Newark, NY--NJ","Bellingham, WA","Bay City, MI","Leominster--Fitchburg, MA","Waterbury, CT","Lompoc, CA","Boise City, ID","Oklahoma City, OK","Lawton, OK","Virginia Beach--Norfolk, VA","Dothan, AL","San Antonio, TX","Seattle--Tacoma, WA","Washington--Arlington, DC--VA--MD","New York--Jersey City--Newark, NY--NJ","Minneapolis--St. Paul, MN","Bridgeport--Stamford, CT--NY","Miami--Fort Lauderdale, FL","Durham, NC","Pittsburgh, PA","Tallahassee, FL","Philadelphia, PA--NJ--DE--MD","Binghamton, NY","San Antonio, TX","Tampa--St. Petersburg, FL","Wenatchee, WA","Danbury, CT--NY","Los Angeles--Long Beach--Anaheim, CA","Yakima, WA","Philadelphia, PA--NJ--DE--MD","Birmingham, AL","Springfield, MA--CT","Chicago, IL--IN","Seaside--Monterey--Pacific Grove, CA","Johnstown, PA","Tampa--St. Petersburg, FL","Kankakee, IL","Seattle--Tacoma, WA","Toledo, OH--MI","Seattle--Tacoma, WA","New York--Jersey City--Newark, NY--NJ","New York--Jersey City--Newark, NY--NJ","Ann Arbor, MI","Brownsville, TX","Kokomo, IN","Savannah, GA","Seattle--Tacoma, WA","Lodi, CA","Clarksville, TN--KY","College Station--Bryan, TX","San Diego, CA","Dallas--Fort Worth--Arlington, TX","San Diego, CA","Pittsfield, MA","Pittsburgh, PA","Merced, CA","Hanford, CA","Tucson, AZ","Springfield, MO","Washington--Arlington, DC--VA--MD","New York--Jersey City--Newark, NY--NJ","Los Angeles--Long Beach--Anaheim, CA","Akron, OH","Springfield, MO","Eugene, OR","Pittsburgh, PA","San Francisco--Oakland, CA","Chattanooga, TN--GA","Hartford, CT","Portland, ME","Pittsfield, MA","Bradenton--Sarasota--Venice, FL","Iowa City, IA","Muskegon--Norton Shores, MI","Reno, NV--CA","Muncie, IN","El Centro, CA","San Juan, PR","Baltimore, MD","Daytona Beach--Palm Coast--Port Orange, FL","Champaign, IL","Santa Clarita, CA","Los Angeles--Long Beach--Anaheim, CA","Seattle--Tacoma, WA","Sacramento, CA","Little Rock, AR","Rochester, MN","Miami--Fort Lauderdale, FL","Laredo, TX","Richmond, VA","Fargo, ND--MN","Orlando, FL","Houma, LA","Flagstaff, AZ","Daytona Beach--Palm Coast--Port Orange, FL","New York--Jersey City--Newark, NY--NJ","Gulfport--Biloxi, MS","Kansas City, MO--KS","Boston, MA--NH","Indio--Palm Desert--Palm Springs, CA","Ithaca, NY","Eugene, OR","Denton--Lewisville, TX","San Francisco--Oakland, CA","Mobile, AL","Seattle--Tacoma, WA","Napa, CA","Binghamton, NY","Louisville/Jefferson County, KY--IN","Grand Rapids, MI","San Antonio, TX","Charlotte, NC--SC","Saginaw, MI","Pocatello, ID","Fort Wayne, IN","Johnstown, PA","Iowa City, IA","Baltimore, MD","Indianapolis, IN","Jacksonville, FL","Vero Beach--Sebastian, FL","Riverside--San Bernardino, CA","Bismarck, ND","Oklahoma City, OK","New York--Jersey City--Newark, NY--NJ","Fargo, ND--MN","Gulfport--Biloxi, MS","Anderson--Clemson, SC","Billings, MT","Pittsburgh, PA","Denver--Aurora, CO","Rapid City, SD","New York--Jersey City--Newark, NY--NJ","Savannah, GA","Grand Rapids, MI","San Francisco--Oakland, CA","Victoria, TX","Cape Coral, FL","Greenville, SC","Chicago, IL--IN","Philadelphia, PA--NJ--DE--MD","Wenatchee, WA","Hanford, CA","Boston, MA--NH","Greensboro, NC","Jackson, TN","Fort Wayne, IN","Leominster--Fitchburg, MA","Pittsburgh, PA","Los Angeles--Long Beach--Anaheim, CA","Portland, OR--WA","Riverside--San Bernardino, CA","Lewiston, ME","Las Cruces, NM","Williamsport, PA","Denver--Aurora, CO","Phoenix--Mesa--Scottsdale, AZ","Montgomery, AL","Oxnard--San Buenaventura (Ventura), CA","Milwaukee, WI","Indio--Palm Desert--Palm Springs, CA","New York--Jersey City--Newark, NY--NJ","Dallas--Fort Worth--Arlington, TX","Chicago, IL--IN","Pittsburgh, PA","New Bedford, MA","Wichita, KS","Chicago, IL--IN","Washington--Arlington, DC--VA--MD","Norwich--New London, CT","Davenport, IA--IL","Waco, TX","Ames, IA","San Francisco--Oakland, CA","San Francisco--Oakland, CA","Yuma, AZ--CA","Atlanta, GA","Dallas--Fort Worth--Arlington, TX","Kalamazoo, MI","Los Angeles--Long Beach--Anaheim, CA","Boston, MA--NH","Albany, GA","Dallas--Fort Worth--Arlington, TX","Houston, TX","Denver--Aurora, CO","Riverside--San Bernardino, CA","New York--Jersey City--Newark, NY--NJ","Omaha, NE--IA","Lexington-Fayette, KY","Salt Lake City, UT","Minneapolis--St. Paul, MN","Tallahassee, FL","Waldorf, MD","Muncie, IN","Port St. Lucie, FL","Portland, OR--WA","Charleston, WV","Dallas--Fort Worth--Arlington, TX","Dallas--Fort Worth--Arlington, TX","Richmond, VA","Fairhope--Daphne, AL","San Antonio, TX","New York--Jersey City--Newark, NY--NJ","Nashville-Davidson, TN","La Crosse, WI--MN","Lebanon, PA","Washington--Arlington, DC--VA--MD","Louisville/Jefferson County, KY--IN","New York--Jersey City--Newark, NY--NJ","Charleston, WV","Fayetteville, NC","Los Angeles--Long Beach--Anaheim, CA","San Juan, PR","Baltimore, MD","Kahului--Wailuku, HI","New York--Jersey City--Newark, NY--NJ","Bradenton--Sarasota--Venice, FL","Huntington, WV--KY--OH","Laredo, TX","Parkersburg, WV--OH","Lodi, CA","Charlottesville, VA","Rockford, IL","Minneapolis--St. Paul, MN","Fort Wayne, IN","Lansing, MI","Asheville, NC","Stockton, CA","Barnstable Town, MA","Boston, MA--NH","Seattle--Tacoma, WA","Cleveland, OH","New York--Jersey City--Newark, NY--NJ","Akron, OH","Riverside--San Bernardino, CA","Kahului--Wailuku, HI","Tulsa, OK","Anchorage, AK","Sacramento, CA","Greeley, CO","St. Louis, MO--IL","Chicago, IL--IN","Detroit, MI","Durham, NC","Santa Maria, CA","Dallas--Fort Worth--Arlington, TX","Chicago, IL--IN","Bend, OR","Miami--Fort Lauderdale, FL","Rockford, IL","Santa Maria, CA","Kenosha, WI","Louisville/Jefferson County, KY--IN","Chicago, IL--IN","Port Huron, MI","Charlotte, NC--SC","Salem, OR","Norwich--New London, CT","Detroit, MI","Norwich--New London, CT","Richmond, VA","San Jose, CA","Hanford, CA","Grand Rapids, MI","Dayton, OH","Springfield, IL","Portland, ME","Myrtle Beach--North Myrtle Beach, SC--NC","Huntsville, AL","Brownsville, TX","Hanford, CA","Rapid City, SD","Salt Lake City, UT","Dayton, OH","Bakersfield, CA","Grand Rapids, MI","Iowa City, IA","Syracuse, NY","Tallahassee, FL","Tampa--St. Petersburg, FL","New York--Jersey City--Newark, NY--NJ","Sandusky--Port Clinton, OH","Pittsburgh, PA","New York--Jersey City--Newark, NY--NJ","Atlantic City--Ocean City--Villas, NJ","Hanford, CA","Fargo, ND--MN","Ithaca, NY","Worcester, MA--CT","Minneapolis--St. Paul, MN","Dothan, AL","New York--Jersey City--Newark, NY--NJ","New York--Jersey City--Newark, NY--NJ","Scranton, PA","San Francisco--Oakland, CA","Terre Haute, IN","Topeka, KS","Nashville-Davidson, TN","Los Angeles--Long Beach--Anaheim, CA","Los Angeles--Long Beach--Anaheim, CA","Seattle--Tacoma, WA","Hanford, CA","Leominster--Fitchburg, MA","San Juan, PR","Eugene, OR","Philadelphia, PA--NJ--DE--MD","San Jose, CA","Denver--Aurora, CO","Houston, TX","Wheeling, WV--OH","Boston, MA--NH","Bradenton--Sarasota--Venice, FL","Bradenton--Sarasota--Venice, FL","Parkersburg, WV--OH","Louisville/Jefferson County, KY--IN","Akron, OH","Denver--Aurora, CO","Lebanon, PA","Bradenton--Sarasota--Venice, FL","New York--Jersey City--Newark, NY--NJ","Kansas City, MO--KS","Ann Arbor, MI","San Jose, CA","Danbury, CT--NY","Milwaukee, WI","Fredericksburg, VA","Port Charlotte--North Port, FL","Peoria, IL","Buffalo, NY","Denton--Lewisville, TX","Bakersfield, CA","Maryland Non-UZA","Philadelphia, PA--NJ--DE--MD","Portland, ME","Los Angeles--Long Beach--Anaheim, CA","Cleveland, OH","Allentown--Bethlehem, PA--NJ","Tulsa, OK","Fort Collins, CO","La Crosse, WI--MN","Iowa City, IA","Tampa--St. Petersburg, FL","Flint, MI","Fairfield, CA","Fayetteville--Springdale--Rogers, AR--MO","Allentown--Bethlehem, PA--NJ","San Francisco--Oakland, CA","Port Charlotte--North Port, FL","Minneapolis--St. Paul, MN","Milwaukee, WI","La Crosse, WI--MN","Sumter, SC","Fayetteville--Springdale--Rogers, AR--MO","Durham, NC","Janesville, WI","Iowa City, IA","Corpus Christi, TX","Hartford, CT","Washington--Arlington, DC--VA--MD","Philadelphia, PA--NJ--DE--MD","Washington--Arlington, DC--VA--MD","Springfield, IL","Durham, NC","Lancaster--Manheim, PA","Baltimore, MD","Providence, RI--MA","Salisbury, MD--DE","Santa Fe, NM","Los Angeles--Long Beach--Anaheim, CA","College Station--Bryan, TX","Savannah, GA","San Francisco--Oakland, CA","Santa Rosa, CA","Des Moines, IA","Rome, GA","Gainesville, FL","San Francisco--Oakland, CA","Los Angeles--Long Beach--Anaheim, CA","State College, PA","Kansas City, MO--KS","Johnstown, PA","Peoria, IL","Sumter, SC","Durham, NC","Corpus Christi, TX","Dayton, OH","Appleton, WI","Palmdale--Lancaster, CA","Miami--Fort Lauderdale, FL","Morgantown, WV","Tampa--St. Petersburg, FL","Cincinnati, OH--KY","Baton Rouge, LA","Milwaukee, WI","Durham, NC","Appleton, WI","Boston, MA--NH","Fort Collins, CO","Wausau, WI","Washington--Arlington, DC--VA--MD","San Antonio, TX","New York--Jersey City--Newark, NY--NJ","Vacaville, CA","Chicago, IL--IN","San Francisco--Oakland, CA","New York--Jersey City--Newark, NY--NJ","Bend, OR","Laredo, TX","Norwich--New London, CT","Minneapolis--St. Paul, MN","Phoenix--Mesa--Scottsdale, AZ","Los Angeles--Long Beach--Anaheim, CA","San Francisco--Oakland, CA","Williamsburg, VA","Vallejo, CA","Yuba City, CA","Victorville--Hesperia--Apple Valley, CA","Missoula, MT","Victoria, TX","Bloomington--Normal, IL","Bismarck, ND","Oklahoma City, OK","Charleston, WV","Eugene, OR","Rome, GA","Milwaukee, WI","Frederick, MD","Miami--Fort Lauderdale, FL","Washington--Arlington, DC--VA--MD","Sherman--Denison, TX","Tampa--St. Petersburg, FL","Davenport, IA--IL","New York--Jersey City--Newark, NY--NJ","Altoona, PA","Seattle--Tacoma, WA","Minneapolis--St. Paul, MN","Spokane, WA","Miami--Fort Lauderdale, FL","Portland, ME","Cincinnati, OH--KY","Phoenix--Mesa--Scottsdale, AZ","Boston, MA--NH","Parkersburg, WV--OH","Evansville, IN","Louisville/Jefferson County, KY--IN","Salt Lake City, UT","New York--Jersey City--Newark, NY--NJ","Cincinnati, OH--KY","Napa, CA","Daytona Beach--Palm Coast--Port Orange, FL","Bremerton, WA","Athens-Clarke County, GA","Port St. Lucie, FL","Los Angeles--Long Beach--Anaheim, CA","Lansing, MI","New York--Jersey City--Newark, NY--NJ","Palmdale--Lancaster, CA","Olympia--Lacey, WA","Clarksville, TN--KY","Cape Coral, FL","Lafayette, LA","Port Huron, MI","Sacramento, CA","Bridgeport--Stamford, CT--NY","Los Angeles--Long Beach--Anaheim, CA","Santa Clarita, CA","Washington--Arlington, DC--VA--MD","Asheville, NC","Kokomo, IN","Beaumont, TX","Topeka, KS","Barnstable Town, MA","Portland, ME","Jacksonville, FL","Chicago, IL--IN","Valparaiso--Shorewood Forest, IN","Bremerton, WA","Chicago, IL--IN","Lubbock, TX","Atlantic City--Ocean City--Villas, NJ","Youngstown, OH","Winston-Salem, NC","Oxnard--San Buenaventura (Ventura), CA","Los Angeles--Long Beach--Anaheim, CA","Seaside--Monterey--Pacific Grove, CA","Detroit, MI","Gulfport--Biloxi, MS","New York--Jersey City--Newark, NY--NJ","Atlanta, GA","Redding, CA","San Francisco--Oakland, CA","Indianapolis, IN","Napa, CA","Winston-Salem, NC","Bay City, MI","Kalamazoo, MI","Rome, GA","Kansas City, MO--KS","New York--Jersey City--Newark, NY--NJ","Port St. Lucie, FL","Champaign, IL","Santa Rosa, CA","Boston, MA--NH","Lodi, CA","New York--Jersey City--Newark, NY--NJ","Seattle--Tacoma, WA","Wichita, KS","San Francisco--Oakland, CA","Fredericksburg, VA","Indianapolis, IN","Miami--Fort Lauderdale, FL","Bangor, ME","Oxnard--San Buenaventura (Ventura), CA","Olympia--Lacey, WA","Tampa--St. Petersburg, FL","Los Angeles--Long Beach--Anaheim, CA","Colorado Springs, CO","Las Vegas--Henderson--Paradise, NV","Fort Collins, CO","St. Cloud, MN","Miami--Fort Lauderdale, FL","Lansing, MI","Poughkeepsie--Newburgh, NY","Pennsylvania Non-UZA","Cleveland, OH","Champaign, IL","Flint, MI","Kennewick--Richland--Pasco, WA","Providence, RI--MA","New Orleans, LA","Sumter, SC","Colorado Springs, CO","Asheville, NC","Fort Wayne, IN","Stockton, CA","Washington--Arlington, DC--VA--MD","Indianapolis, IN","Olympia--Lacey, WA","Fayetteville, NC","Portland, OR--WA","San Francisco--Oakland, CA","Oklahoma City, OK","Savannah, GA","Green Bay, WI","Tallahassee, FL","Oklahoma City, OK","Wilmington, NC","San Angelo, TX","Denver--Aurora, CO","Miami--Fort Lauderdale, FL","Chicago, IL--IN","Washington--Arlington, DC--VA--MD","Mobile, AL","Portland, OR--WA","Daytona Beach--Palm Coast--Port Orange, FL","Grand Junction, CO","Bloomington--Normal, IL","Minneapolis--St. Paul, MN","Stockton, CA","Bradenton--Sarasota--Venice, FL","Virginia Beach--Norfolk, VA","Kansas City, MO--KS","Flint, MI","Palm Bay--Melbourne, FL","Miami--Fort Lauderdale, FL","Dallas--Fort Worth--Arlington, TX","Hartford, CT","Miami--Fort Lauderdale, FL","Gulfport--Biloxi, MS","Los Angeles--Long Beach--Anaheim, CA","Riverside--San Bernardino, CA","Fort Collins, CO","Dayton, OH","Killeen, TX","Santa Barbara, CA","Charlotte, NC--SC","Nashville-Davidson, TN","Mansfield, OH","Portland, OR--WA","Los Angeles--Long Beach--Anaheim, CA","Tampa--St. Petersburg, FL","Green Bay, WI","Virginia Beach--Norfolk, VA","Fayetteville, NC","Kansas City, MO--KS","Atlanta, GA","Shreveport, LA","Huntington, WV--KY--OH","San Francisco--Oakland, CA","Port Huron, MI","Charleston, WV","Pittsfield, MA","Los Angeles--Long Beach--Anaheim, CA","New York--Jersey City--Newark, NY--NJ","Washington--Arlington, DC--VA--MD","Detroit, MI","Jacksonville, FL","Dayton, OH","Hartford, CT","Wichita, KS","Ocala, FL","Atlanta, GA","St. Cloud, MN","Lincoln, NE","Oklahoma City, OK","Jacksonville, FL","Cincinnati, OH--KY","Elkhart, IN--MI","Manchester, NH","Milwaukee, WI","Youngstown, OH","Charleston, SC","Seaside--Monterey--Pacific Grove, CA","South Bend, IN--MI","Topeka, KS","Victorville--Hesperia--Apple Valley, CA","Chicago, IL--IN","Miami--Fort Lauderdale, FL","Dubuque, IA--IL","Antioch, CA","Indianapolis, IN","Cleveland, OH","Phoenix--Mesa--Scottsdale, AZ","Miami--Fort Lauderdale, FL","Salem, OR","Laredo, TX","Nashville-Davidson, TN","Milwaukee, WI","Seaside--Monterey--Pacific Grove, CA","Boston, MA--NH","Mount Vernon, WA","Beloit, WI--IL","Houston, TX","Spokane, WA","Indio--Palm Desert--Palm Springs, CA","Baltimore, MD","Albuquerque, NM","Phoenix--Mesa--Scottsdale, AZ","Pensacola, FL--AL","Muskegon--Norton Shores, MI","Albany--Schenectady, NY","Chicago, IL--IN","Portland, OR--WA","Denver--Aurora, CO","Napa, CA","Portland, OR--WA","Hartford, CT","Galveston--Texas City, TX","Springfield, MO","Antioch, CA","Albany, GA","Akron, OH","Savannah, GA","Albany, GA","Longview, WA--OR","Charleston, WV","Dover--Rochester, NH--ME","Lincoln, NE","San Juan, PR","Philadelphia, PA--NJ--DE--MD","San Francisco--Oakland, CA","Kankakee, IL","Poughkeepsie--Newburgh, NY","Sacramento, CA","Asheville, NC","Fredericksburg, VA","Macon-Bibb County, GA","Sacramento, CA","Hartford, CT","Yuma, AZ--CA"],["DR","MB","VP","DR","CR","MB","DR","DR","VP","MB","DR","CR","CR","MB","MB","DR","DR","VP","DR","DR","VP","DR","DR","MB","DR","DR","MB","MB","CB","CB","MB","DR","MB","DR","MB","DR","AR","DR","MB","MB","MB","DR","VP","MB","MB","MB","MB","VP","DR","MB","TB","CB","MB","DR","MB","DR","DR","DR","DR","MB","MB","MB","MB","DR","DR","DR","MB","MB","DR","DR","MB","MB","MB","DR","VP","MB","MB","MB","MB","MB","DR","CB","DR","HR","LR","LR","DR","VP","MB","DR","DR","DR","HR","HR","MB","MB","DR","CB","DR","MB","CR","DR","MB","DR","DR","CB","MB","DR","DR","DR","HR","VP","MB","DR","DR","VP","MB","DR","DR","DR","DR","CB","DR","IP","MB","DR","MB","DR","DR","MB","MB","MB","DR","DR","MB","DR","MB","DR","DR","MB","MB","MB","MB","DR","CB","MB","VP","VP","DR","HR","CB","DR","MB","DR","MB","MB","MB","YR","CB","DR","MB","DR","CB","MB","DR","DR","MB","DR","MB","MB","MB","MB","DR","HR","DR","DR","DR","MB","FB","MB","DR","DR","MB","MB","MB","DR","MB","CB","DR","DR","MB","MB","DR","DR","DR","DR","MB","DR","DR","MB","DR","DR","DR","MB","DR","DR","DR","DR","MB","MB","DR","RB","DR","CB","MB","DR","DR","MB","MB","DR","CB","DR","MB","DR","MB","DR","MB","MB","DR","DR","DR","MB","MB","DR","DR","FB","DR","MB","DR","DR","MB","MB","DR","DR","DR","DR","DR","DR","MB","DR","MB","MB","DR","MB","DR","MB","DR","MB","DR","DR","DR","DR","DR","DR","MB","MB","DR","MB","MB","MB","HR","CR","LR","DR","MB","MB","DR","MB","MB","MB","DR","MB","DR","DR","VP","MB","CR","DR","DR","DR","DR","VP","DR","MB","DR","MB","MB","SR","MB","DR","MB","DR","MB","DR","MB","VP","CB","VP","MB","DR","MB","DR","DR","DR","DR","DR","MB","TB","DR","MB","DR","DR","DR","MB","MB","MB","DR","MB","CR","DR","CB","MB","MB","DR","DR","DR","DR","RB","DR","LR","DR","VP","CB","MB","MB","VP","MB","MB","MB","MB","DR","DR","MB","DR","DR","DR","MB","MB","DR","TB","VP","DR","DR","DR","DR","DR","MB","MB","MB","FB","CR","VP","MB","DR","DR","FB","TB","DR","DR","DR","LR","LR","VP","DR","DR","DR","DR","SR","MB","VP","MB","DR","DR","DR","DR","LR","MB","DR","MB","FB","MB","DR","DR","MB","VP","DR","DR","MB","MB","DR","MB","DR","HR","CB","LR","SR","MB","DR","MB","DR","DR","RB","MB","DR","DR","CB","MB","MB","DR","MB","MB","MB","VP","MB","MB","FB","DR","MB","DR","RB","VP","LR","DR","MB","MB","IP","MB","MB","DR","MB","DR","DR","DR","MB","DR","DR","MB","MB","DR","MB","CR","DR","DR","DR","DR","DR","MB","MB","MB","DR","MB","DR","MB","MB","DR","DR","MB","MB","IP","DR","DR","DR","CB","MB","DR","MB","DR","DR","DR","MB","DR","CR","SR","DR","VP","MB","MB","FB","MB","MB","MB","DR","DR","MB","LR","MB","MB","VP","DR","DR","MB","DR","MB","CB","LR","MB","DR","DR","VP","CB","DR","DR","MB","MB","DR","LR","MB","CR","MB","DR","DR","MB","DR","VP","MB","DR","MB","MB","DR","DR","DR","DR","FB","DR","CB","MB","MB","DR","MB","MB","DR","CB","MB","MB","MB","DR","DR","MB","FB","DR","DR","DR","MB","MB","DR","DR","MB","DR","LR","DR","MB","MB","DR","MB","MB","VP","CR","MB","HR","DR","DR","DR","VP","DR","CB","LR","DR","DR","DR","MB","VP","DR","MB","MB","DR","MB","FB","DR","DR","DR","VP","MB","DR","DR","MB","MB","MB","MB","DR","MB","DR","DR","DR","DR","DR","MB","MB","DR","MB","MB","DR","CR","MB","DR","MB","DR","MB","MB","MB","DR","MB","MB","DR","DR","VP","MB","LR","DR","MB","DR","MB","DR","DR","DR","MB","DR","LR","MB","MB","CR","DR","MB","LR","DR","DR","MB","DR","MB","MB","DR","MB","MB","TB","FB","MB","DR","MB","MB","DR","MB","MB","MB","MB","DR","DR","DR","LR","DR","DR","DR","MB","MB","DR","MB","MB","MB","MB","DR","HR","HR","VP","MB","DR","DR","DR","MB","DR","MB","MB","MB","FB","MB","MB","DR","MB","DR","CC","CR","DR","DR","MB","DR","DR","MB","MB","MB","DR","MB","MB","MG","MB","MB","MB","DR","DR","DR","DR","RB","MB","MB","DR","FB","DR","DR","HR","MB","DR","MB","DR","CR","DR","DR","MB","DR","MB","CB","MB","DR","DR","DR","MB","MB","MB","DR","MB","DR","MB","MB","MB","DR","DR","MB","LR","MB","MB","CR","DR","MB","FB","DR","MB","MB","MB","DR","DR","CR","HR","DR","MB","MB","DR","MB","DR","DR","MB","VP","MB","VP","DR","DR","MB","DR","DR","DR","DR","DR","MB","DR","DR","MB","DR","DR","MB","DR","MB","MB","DR","DR","DR","DR","DR","MB","MB","DR","VP","DR","DR","CB","MB","DR","DR","DR","CB","DR","MB","MB","MB","DR","CB","DR","DR","DR","DR","MB","MB","FB","MB","DR","MB","DR","MB","MB","DR","CB","DR","MB","MB","MB","MB","MB","DR","DR","DR","DR","DR","MB","DR","DR","DR","DR","CB","DR","DR","DR","MB","MB","DR","MB","DR","DR","FB","FB","FB","DR","DR","DR","DR","DR","LR","MB","MB","MB","DR","LR","MB","MB","MB","LR","VP","DR","FB","DR","DR","VP","CR","MB","CR","MB","DR","VP","MB","DR","DR","DR","MB","DR","VP","DR","MB","HR","MB","MB","VP","MB","DR","MB","MB","MB","MB","CB","MB","DR","MB","CR","MB","DR","MB","DR","CR","MB","MB","MB","MB","MB","DR","MB","DR","MB","DR","DR","MB","MB","MB","DR","DR","MB","MB","HR","DR","DR","DR","HR","MB","MB","DR","MB","DR","CB","MB","MB","DR","MB","MB","DR","MB","FB","MB","DR","MB","MB","VP","DR","MB","CR","CB","DR","MB","SR","DR","MB","DR","DR","DR","DR","DR","DR","MB","MB","PB","MB","MB","MB","MB","DR","MB","MB","MB","MB","CR","MB"],["Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Rail","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Rail","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Rail","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Rail","Rail","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Rail","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Rail","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Rail","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Rail","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Rail","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Ferry","Ferry","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Rail","Bus","Bus","Ferry","Bus","Bus","Bus","Rail","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus"],["2008-05-01","2008-06-01","2022-03-01","2015-08-01","2012-03-01","2020-01-01","2014-01-01","2022-12-01","2006-12-01","2013-01-01","2017-05-01","2020-08-01","2022-05-01","2009-09-01","2022-05-01","2024-01-01","2023-11-01","2006-01-01","2020-08-01","2003-11-01","2012-05-01","2015-04-01","2004-05-01","2015-06-01","2002-11-01","2008-12-01","2016-02-01","2012-12-01","2018-10-01","2018-03-01","2008-02-01","2005-07-01","2018-06-01","2002-10-01","2005-03-01","2019-09-01","2021-07-01","2004-12-01","2018-07-01","2005-01-01","2022-08-01","2018-04-01","2024-06-01","2018-11-01","2014-05-01","2022-07-01","2012-02-01","2023-09-01","2021-04-01","2019-08-01","2021-05-01","2013-11-01","2011-10-01","2013-07-01","2004-10-01","2014-11-01","2021-09-01","2011-12-01","2014-02-01","2007-12-01","2018-01-01","2016-01-01","2013-12-01","2021-07-01","2011-02-01","2020-06-01","2017-09-01","2017-10-01","2014-10-01","2016-05-01","2008-03-01","2021-09-01","2010-05-01","2019-02-01","2024-01-01","2023-07-01","2005-08-01","2016-09-01","2015-02-01","2005-11-01","2004-06-01","2024-06-01","2003-03-01","2021-03-01","2016-08-01","2020-04-01","2002-02-01","2014-09-01","2011-05-01","2022-10-01","2020-11-01","2006-09-01","2014-04-01","2013-01-01","2021-08-01","2024-01-01","2022-12-01","2014-10-01","2015-08-01","2018-02-01","2003-06-01","2015-08-01","2006-05-01","2013-04-01","2010-05-01","2015-10-01","2012-08-01","2019-02-01","2018-05-01","2007-08-01","2011-11-01","2012-04-01","2013-10-01","2020-12-01","2017-07-01","2009-04-01","2009-04-01","2023-11-01","2006-12-01","2010-06-01","2024-06-01","2023-10-01","2022-04-01","2006-03-01","2006-07-01","2011-08-01","2015-12-01","2021-06-01","2011-11-01","2015-08-01","2016-09-01","2014-09-01","2018-04-01","2020-04-01","2016-01-01","2022-04-01","2006-11-01","2005-03-01","2024-02-01","2011-08-01","2021-10-01","2009-01-01","2007-07-01","2004-10-01","2023-03-01","2021-06-01","2007-08-01","2023-07-01","2021-03-01","2009-11-01","2024-05-01","2011-03-01","2016-05-01","2024-03-01","2021-03-01","2022-07-01","2008-12-01","2024-07-01","2023-03-01","2005-11-01","2006-11-01","2004-01-01","2018-08-01","2003-08-01","2023-10-01","2015-05-01","2008-11-01","2021-08-01","2005-02-01","2018-03-01","2010-10-01","2019-01-01","2020-08-01","2022-09-01","2011-06-01","2010-09-01","2011-12-01","2002-01-01","2021-06-01","2007-05-01","2019-01-01","2006-01-01","2010-12-01","2020-01-01","2003-01-01","2019-06-01","2018-04-01","2019-05-01","2014-03-01","2011-03-01","2022-08-01","2008-07-01","2007-11-01","2008-12-01","2004-09-01","2013-12-01","2003-08-01","2023-03-01","2019-09-01","2019-09-01","2024-05-01","2023-10-01","2010-04-01","2005-07-01","2018-11-01","2005-01-01","2008-02-01","2016-01-01","2010-07-01","2010-07-01","2022-06-01","2017-09-01","2023-10-01","2012-03-01","2019-10-01","2006-08-01","2005-06-01","2010-03-01","2020-05-01","2009-09-01","2017-12-01","2011-11-01","2016-02-01","2008-06-01","2011-05-01","2011-10-01","2020-11-01","2018-06-01","2020-11-01","2007-12-01","2006-06-01","2008-11-01","2014-07-01","2005-05-01","2010-09-01","2018-04-01","2018-06-01","2020-03-01","2020-04-01","2002-07-01","2021-01-01","2023-04-01","2019-09-01","2011-02-01","2005-01-01","2009-09-01","2012-01-01","2018-01-01","2024-04-01","2011-11-01","2004-05-01","2007-01-01","2021-11-01","2012-10-01","2011-07-01","2007-10-01","2013-01-01","2009-04-01","2015-08-01","2018-09-01","2015-11-01","2004-02-01","2006-09-01","2017-05-01","2012-04-01","2021-12-01","2013-05-01","2006-05-01","2010-05-01","2013-06-01","2016-05-01","2020-08-01","2021-05-01","2013-03-01","2009-07-01","2012-03-01","2016-10-01","2021-08-01","2019-02-01","2023-12-01","2019-11-01","2010-07-01","2011-06-01","2016-09-01","2008-04-01","2014-01-01","2015-01-01","2018-06-01","2002-04-01","2004-03-01","2012-10-01","2005-03-01","2003-04-01","2004-01-01","2016-05-01","2015-08-01","2008-12-01","2012-02-01","2003-09-01","2002-03-01","2019-08-01","2016-07-01","2012-07-01","2020-10-01","2017-04-01","2007-10-01","2021-07-01","2019-01-01","2010-08-01","2022-06-01","2016-09-01","2017-10-01","2023-02-01","2008-04-01","2010-05-01","2011-04-01","2003-08-01","2017-11-01","2018-04-01","2012-08-01","2017-09-01","2021-05-01","2010-07-01","2018-01-01","2015-02-01","2016-09-01","2022-04-01","2022-05-01","2022-03-01","2012-02-01","2019-12-01","2022-02-01","2020-08-01","2021-11-01","2023-12-01","2008-07-01","2018-02-01","2024-05-01","2007-10-01","2017-12-01","2012-06-01","2008-10-01","2019-08-01","2011-08-01","2005-03-01","2010-08-01","2012-06-01","2007-06-01","2007-11-01","2006-01-01","2003-03-01","2021-06-01","2007-09-01","2004-03-01","2018-02-01","2013-08-01","2015-06-01","2011-09-01","2010-04-01","2016-10-01","2020-04-01","2023-05-01","2022-09-01","2002-12-01","2015-11-01","2024-06-01","2021-03-01","2010-03-01","2018-04-01","2022-09-01","2022-11-01","2003-03-01","2023-06-01","2014-08-01","2008-07-01","2007-05-01","2021-08-01","2012-04-01","2006-03-01","2004-01-01","2022-10-01","2008-12-01","2007-10-01","2012-04-01","2007-06-01","2012-07-01","2016-11-01","2021-04-01","2012-12-01","2020-09-01","2017-08-01","2009-07-01","2017-09-01","2009-09-01","2016-09-01","2007-01-01","2016-03-01","2006-11-01","2018-02-01","2018-02-01","2013-02-01","2022-08-01","2015-05-01","2004-12-01","2011-10-01","2002-01-01","2023-02-01","2018-08-01","2005-01-01","2003-01-01","2007-11-01","2017-05-01","2012-01-01","2019-02-01","2016-12-01","2016-09-01","2007-09-01","2009-11-01","2024-01-01","2020-04-01","2006-04-01","2022-11-01","2007-08-01","2011-05-01","2018-05-01","2013-11-01","2013-11-01","2016-03-01","2016-09-01","2018-11-01","2021-01-01","2013-03-01","2022-02-01","2012-04-01","2021-03-01","2019-02-01","2005-10-01","2013-06-01","2003-09-01","2015-05-01","2022-07-01","2010-03-01","2008-11-01","2008-05-01","2013-06-01","2021-03-01","2023-12-01","2009-10-01","2013-01-01","2012-01-01","2017-05-01","2008-05-01","2010-05-01","2019-02-01","2021-09-01","2009-08-01","2023-03-01","2017-11-01","2023-10-01","2014-02-01","2022-08-01","2002-09-01","2014-08-01","2017-12-01","2023-06-01","2007-06-01","2024-05-01","2004-05-01","2009-09-01","2012-06-01","2012-12-01","2010-08-01","2017-06-01","2011-06-01","2023-04-01","2012-03-01","2002-03-01","2023-03-01","2012-07-01","2012-03-01","2022-03-01","2007-02-01","2023-07-01","2011-03-01","2024-04-01","2010-01-01","2022-02-01","2014-11-01","2014-10-01","2015-03-01","2023-06-01","2014-11-01","2017-09-01","2009-10-01","2014-07-01","2023-05-01","2016-02-01","2021-06-01","2023-02-01","2010-08-01","2010-03-01","2009-01-01","2019-12-01","2024-07-01","2009-07-01","2020-06-01","2012-10-01","2016-12-01","2022-12-01","2015-12-01","2011-09-01","2017-03-01","2007-11-01","2014-05-01","2003-06-01","2002-02-01","2013-10-01","2012-02-01","2020-12-01","2023-10-01","2020-06-01","2009-06-01","2014-05-01","2004-08-01","2014-10-01","2011-02-01","2008-01-01","2006-11-01","2002-12-01","2016-12-01","2018-07-01","2012-09-01","2009-04-01","2014-06-01","2009-06-01","2009-07-01","2008-06-01","2022-08-01","2008-06-01","2013-11-01","2011-03-01","2008-10-01","2022-09-01","2017-05-01","2017-07-01","2016-07-01","2007-06-01","2013-04-01","2017-01-01","2005-07-01","2010-12-01","2022-06-01","2023-07-01","2015-02-01","2015-03-01","2022-03-01","2016-08-01","2002-09-01","2022-04-01","2020-05-01","2007-06-01","2015-12-01","2020-03-01","2010-02-01","2016-08-01","2016-03-01","2019-06-01","2013-03-01","2021-12-01","2006-03-01","2006-12-01","2022-11-01","2021-09-01","2019-08-01","2006-12-01","2004-05-01","2011-03-01","2021-05-01","2018-08-01","2018-06-01","2010-12-01","2014-07-01","2016-12-01","2006-01-01","2015-11-01","2014-06-01","2021-08-01","2006-05-01","2007-06-01","2016-04-01","2013-08-01","2011-11-01","2007-02-01","2003-02-01","2003-01-01","2007-08-01","2023-12-01","2008-04-01","2013-07-01","2011-12-01","2017-01-01","2006-03-01","2019-04-01","2010-08-01","2023-01-01","2019-03-01","2005-07-01","2022-05-01","2010-11-01","2009-07-01","2017-10-01","2011-02-01","2017-11-01","2002-08-01","2020-04-01","2006-12-01","2011-03-01","2009-05-01","2017-04-01","2005-11-01","2012-03-01","2011-01-01","2018-02-01","2021-09-01","2021-10-01","2021-07-01","2004-11-01","2014-04-01","2012-07-01","2020-02-01","2007-03-01","2011-11-01","2017-12-01","2023-07-01","2017-02-01","2007-11-01","2009-08-01","2007-05-01","2020-02-01","2006-03-01","2022-05-01","2014-02-01","2005-02-01","2011-12-01","2014-08-01","2004-03-01","2005-01-01","2007-01-01","2004-05-01","2014-10-01","2023-10-01","2002-05-01","2007-11-01","2009-03-01","2018-09-01","2004-06-01","2021-09-01","2013-08-01","2018-01-01","2024-03-01","2018-11-01","2007-02-01","2008-08-01","2004-11-01","2014-11-01","2022-06-01","2006-03-01","2008-09-01","2014-01-01","2014-03-01","2019-08-01","2007-09-01","2005-11-01","2013-01-01","2017-08-01","2006-03-01","2011-07-01","2008-09-01","2020-03-01","2010-05-01","2006-06-01","2022-04-01","2005-08-01","2007-07-01","2013-12-01","2003-06-01","2018-11-01","2012-03-01","2005-08-01","2009-02-01","2024-04-01","2002-11-01","2015-07-01","2018-07-01","2021-11-01","2006-01-01","2010-12-01","2013-03-01","2013-05-01","2007-12-01","2015-11-01","2008-12-01","2017-07-01","2020-01-01","2021-12-01","2010-03-01","2016-03-01","2009-01-01","2008-07-01","2004-02-01","2016-06-01","2017-05-01","2005-10-01","2019-10-01","2006-02-01","2018-08-01","2004-05-01","2010-09-01","2022-12-01","2024-04-01","2013-12-01","2020-09-01","2002-12-01","2022-05-01","2010-07-01","2013-10-01","2008-03-01","2018-01-01","2004-02-01","2020-08-01","2009-07-01","2016-06-01","2010-07-01","2012-02-01","2011-12-01","2021-12-01","2017-12-01","2007-01-01","2009-01-01","2019-07-01","2020-10-01","2024-02-01","2022-07-01","2019-12-01","2012-01-01","2015-09-01","2011-06-01","2018-04-01","2022-05-01","2021-03-01","2012-03-01","2010-04-01","2013-09-01","2003-11-01","2022-11-01","2013-12-01","2005-07-01","2010-02-01","2014-12-01","2018-11-01","2012-03-01","2023-12-01","2010-12-01","2018-06-01","2023-04-01","2010-06-01","2022-09-01","2012-01-01","2019-03-01","2005-06-01","2012-02-01","2009-11-01","2004-01-01","2022-03-01","2010-08-01","2024-01-01","2004-04-01","2022-12-01","2014-07-01","2024-05-01","2019-09-01","2013-05-01","2020-02-01","2018-05-01","2014-03-01","2015-11-01","2014-02-01","2004-06-01","2002-09-01","2018-11-01","2018-10-01","2020-06-01","2009-03-01","2020-05-01","2017-12-01","2015-12-01","2004-08-01","2018-03-01","2013-02-01","2020-07-01","2020-12-01","2015-12-01","2020-01-01","2013-01-01","2017-02-01","2015-05-01","2019-01-01","2015-06-01","2016-04-01","2024-06-01","2007-03-01","2012-02-01","2023-10-01","2020-07-01","2022-08-01","2015-11-01","2016-01-01","2018-02-01","2010-12-01","2007-08-01","2008-02-01","2002-11-01","2020-10-01","2012-04-01","2021-06-01","2011-05-01","2014-04-01","2021-01-01","2023-08-01","2015-03-01","2021-09-01","2002-01-01","2021-03-01","2006-04-01","2010-08-01","2004-01-01","2003-05-01","2008-03-01","2006-03-01","2023-06-01","2018-03-01","2010-06-01","2019-03-01","2019-07-01","2024-06-01","2013-03-01","2020-11-01","2007-03-01","2004-11-01","2019-12-01","2017-06-01","2014-03-01","2016-06-01","2022-09-01","2005-03-01","2012-12-01","2019-01-01","2011-04-01","2009-03-01","2016-10-01","2022-02-01","2005-01-01","2020-10-01","2007-05-01","2017-12-01","2015-11-01","2005-03-01","2016-01-01","2008-07-01","2022-06-01","2011-12-01","2023-09-01","2024-02-01","2018-02-01","2008-04-01","2018-02-01","2003-01-01","2019-01-01","2013-05-01","2007-04-01","2022-01-01","2004-12-01","2011-08-01","2004-06-01","2023-01-01","2007-01-01","2020-08-01","2021-03-01","2019-04-01","2008-12-01","2015-04-01","2012-11-01","2004-11-01","2007-02-01","2011-03-01","2009-02-01","2005-05-01","2005-02-01","2011-07-01","2011-07-01","2005-04-01","2014-04-01","2020-04-01","2011-01-01","2021-03-01","2022-06-01","2016-05-01","2003-04-01","2003-09-01","2003-06-01","2020-09-01","2015-06-01","2017-11-01","2017-12-01","2011-10-01","2023-10-01","2004-07-01","2011-05-01","2013-03-01","2013-09-01","2005-12-01","2004-05-01","2008-07-01","2023-05-01","2010-08-01","2016-12-01","2006-04-01","2023-08-01","2023-02-01","2016-12-01","2014-03-01","2015-06-01","2003-03-01","2013-05-01","2009-11-01","2008-03-01","2016-08-01","2014-09-01","2009-01-01","2022-06-01","2014-03-01","2008-10-01","2010-01-01","2006-05-01","2017-01-01","2021-04-01","2006-03-01","2006-01-01","2008-03-01","2007-04-01","2016-03-01","2008-11-01","2023-03-01","2014-07-01","2008-10-01","2014-09-01","2018-09-01","2018-10-01","2010-11-01","2018-11-01","2010-09-01","2010-08-01","2022-03-01","2010-05-01","2005-10-01","2023-01-01","2023-12-01","2021-08-01","2004-01-01","2007-11-01","2017-04-01","2018-05-01","2003-10-01","2020-10-01","2019-05-01","2016-07-01","2006-08-01","2023-11-01","2024-03-01","2003-07-01","2019-09-01","2022-12-01","2020-08-01","2017-12-01","2012-11-01","2020-12-01","2007-01-01","2023-07-01","2012-12-01","2018-02-01","2012-03-01","2006-06-01","2015-07-01","2007-04-01","2022-05-01","2008-05-01","2005-09-01","2006-05-01","2004-03-01","2023-07-01"],[95634,95745,1006,7263,3137360,18276,11132,953,21710,7261329,15339,86880,6634,138719,80310,8501,10456,136548,1418,1850,23197,5592,878,260003,1543,16579,364402,36986,11868,316714,71915,140800,66561,36270,238529,286734,50894,40317,84715,125856,18791,17586,101790,142417,43740,71864,688064,1161,2436,252780,155551,3024,32367,13669,26910324,600,4952,948,12307,62715,320700,112862,87374,5023,2011,2702,22234,28525,35777,187277,469185,9178,535462,56567,1259,50929,257518,1675415,46934,48477,6505,81017,8749,128791,1358120,0,9270,6904,743479,4433,35,701,3964253,5945786,15457,8449,37091,26343,1269,16674,198246,2508,484724,8746,31402,11036,2680014,22886,9754,7447,874486,4910,140644,24,749,93078,166371,10649,1010,7817,3275,39761,11771,37420,179595,16278,125911,18247,4003,1329458,284691,14116191,4588,2801,10815676,1436,938111,13178,4953,12590,4618,109195,6865,7811,39902,86173,11161,4179,2256,6230019,1711,493088,52036,82319,157803,236689,5319556,10296,63043,8185,278824,1205,96144,148641,192256,2173,12316,11395,83488,4292,335741,778728,1350,164236619,32469,8821,41406,4755,891030,57283,18563,66607,28253,291326,54174,5928,113523,38956,6871,10326,38190,130815,2780,2951,5109,40860,56243,62336,8504,88162,24964,20168,8810,399994,19013,143,9140,7263,43045,26620,24286,132554,17121,1037035,20435,2148,173,36843,2933,14952,48917,1097,313918,2780,142700,13363,197149,147452,242,3131,4537,31135,252287,31440,3887,48296,7227,64518,4134,93715,1013239,125197,16783,386,5374,10964,12896,8398,2112204,2901,564386,24546427,15506,364909,2728,375762,5319,375503,6548,4652,1450,12929,454,21158,588622,209107,10209,79618,129933,25859,1009507,1473865,222460,11679,336435,826750,2348,87133,42226,38944,3433,36281,188,1967,12391,820302,20768,1432,9557,41595,2452,4311,4018,117951,10140,250133,47671,835,1965,9010,131912,23346,73759,742,77637,48760,2753,14418,4743000,2965,862,27970,4975,23824,13793,154135,696624,1560342,46434,275448,26786,768,4077,5773,80479,166175,14387,10325,1454652,210750,45877,237789,6179,18907,7091,2285,5587,37788,1234,73229,852,10286,93958,331621,208089,15207,296884,789497,405874,4837033,680,45405,267435,42236,13923,4318,72417,345636,7382,568111,4082,15763,47801,8724,5059,7896,42469,202987,191817,1645344,6701156,59450,161309,2603,4943,48576,743959,3080,2812,1402,3252478,1920681,25168,1779,146261,13742,1374,63911,116544,38177,2205503,80610,22223,1375,15694,617349,8698569,3301,15648,38321,43220,5753,541,32767,6766,6699,947,290849,6964025,15036,41482,9004,3825552,80108,906245,4768,121991,125445,138740,10204,3819,32089,14109,2222,8017,77515,73994,1085173,19840,349347,51331,1399,18046,803295,37118,41375,3542,145419,26017,56501,29303,423836,1857,18726,151777,0,23452,135568,23069,984646,4528,13271,13595,227490,13983,417,52282,193108,3870,67755,725998,5531,548521,4728,18672,8460,9019,185417,52258,10114,25754,4728,54023,107949,13959,3061,112624,30163,84788,9642,3508,10838,1995,59299,583,4088427,14744,2416,7818,81112,10211,6663830,11123,1036,22616,222036,142532,0,7820601,100172,109765,2570,17709,599875,4957366,12133,183767,37879,9169,4122,211494,1273,515965,538748,843454,494386,36219,7792,398,15922,3011,5363,59946,112430,9410,3374196,201269,120109,423422,28995,13486,3866891,34228,6605,74243,5191,357247,209,421865,2280,4100,5216,63775,183018,15456,5831,105038,3511,240680,19933,2497,3394,88353,180886,164272,17668,11732,388141,197238,1914,10152,215,23912,384545,39607,29836,197379,16499,364787,3107,145449,38556,19359,394843,0,34280,313865,1409,1632471,12564,1914,1870,14623,469,1465,432536,5294,0,38455,91104,34614,62273,56328,484775,16315,122612,45323,1655,7459,2362,178075,17458,12147,12064,242703,843576,125457,474490,5346,7530,147235,9168,17052,57997,1990,58656,172425,5241,277927,5072386,12323,5916958,52489658,7977,184588,998,114609,782825,29690,4301,188190,62766,30582,4574,3290,2656,867301,100089,4096796,438,10775,7083,7803,404,1217875,8870,799659,19873,139594,8760005,6473,317211,787707,6142,36378,23047,127,308492,1527426,1964,524597,3680,436432,49847,2300995,339,433886,250450,2715,111530,35683,832324,393050,1963,2346,47813,4379511,6118,1900,5803,76813,5401,692,72102,35453,85807,383897,30474,22867096,808643,56271,114270,4736,29632,2194,2021849,6678,93372,1239532,27926,74274,36955,136616,8043,8617,3925,455125,929175,2999,17802,93714,12364,14138,751506,368577,637871,10221,257080,10798,157467,77666,540459,556543,5743,2240,12853,1441,116085,67873,24484,46861,17303,1219,882,9504591,7592,4185,317735,191,66838,1155,8044,212369,1120,117078,12968,133210,2788,4092,5049,12334,243739,231378,9324,13024,36834,930,8270622,10540846,3332,13501,673,407549,33426,440998,68385,12976,9407,44928,2805,747158,226965,18332,4145,32608,328795,181289621,5260,63984,181673,301,382390,6299,5425,1075400,55142,272506,23412,3154,11520,126681,4727,2037,1518,657,7306,195739,9213,5500,24488,1031,7667,173423,32758,19900788,11140,25490,3188,7902,5721,2079,297513,4009,946,0,884,3402,37010,322950,7131,92903,12783,4014,13737,0,181449,105494,3428,789503,808,2964,2100,6446,22396,65812031,1599393,155652,26967,29654,1942,26903,70450,9915,18358,12721,1180901,124954,5588476,182746,110596,71714,13487,1686,8498,9372,48124,43718,29278,36871,6680,263,9159,5783,3990,217304,263052,12273,338932,3520,3758,158247,370,49622,2921,5313,3826,226,7207,2302148,10067479,834806,663284,9414,2668600,172381,55294,136080,868072,20755,7214,21182,14226,57322,10889,365862,3427544,33974,676244,5544,79609,13711,2993,955,12335,219682,14375,11316,3680,563852,2691616,66582,104936,9735,105865,23851,90333,225524,70153,26966,2023,172145,3682,58873,5888866,99283,7089,844355,5778,12617,98889,38221,234312,143218,149801,3324,835159,8500,40604,947,755,147100,380977,20230,2955,1990,50647,26587686,1472936,4438,8757,26412,759515,1608070,9798,42627,276280,24620,9604,26988,14709,6344,15814,680586,22102,304695,10167,1433,3051,116110,47769,2093,18488,5744800,54152,9914,11573,1161000,471,1410,0,1415,4401,7241,1025,4622,1450,28883,115345,2168938,16035,94608,34552,36067,3341,1831,38948,0,3924,36276,22051],[901077,78540,15986,43271,2017312,34847,104854,5149,99668,1010370,276270,512679,12931,107023,26912,69075,58763,781733,7927,8333,100456,44641,11979,229309,9316,166956,260654,43312,33192,572309,71799,0,64547,441973,258649,2623797,208230,242044,2172961,52174,39134,704408,1134870,86115,59040,64027,195398,12197,25518,171342,132550,22764,19442,104010,5586895,1688,35104,8295,33634,96635,250622,95215,71571,130359,20261,28340,42411,45895,479685,1632750,134316,67900,283460,453557,16793,87699,112768,1029884,45749,51022,69503,198899,48020,389705,230135,0,30065,38522,250844,21440,17756,4818,581097,1538045,40086,29946,352833,56499,13156,40314,50477,19147,314814,57575,311444,19686,1613055,209978,81672,19898,363419,42635,130056,136733,9697,671297,70722,62127,99837,40786,35051,114392,219777,1636,200015,67557,131303,180232,28588,6206709,111229,3314555,49168,26038,6553716,744410,928300,79349,27282,682928,28703,651975,7616,38056,89669,168307,88965,23103,17287,1749903,22473,5286789,36515,648344,132722,229765,1888396,6408,82721,40751,272253,11933,173815,120231,2146963,22632,16610,68128,52855,12418,84444,606643,13331,28320025,381815,69570,737186,240114,15283,21613,231773,499558,33735,82871,52750,40315,699545,136899,76989,38833,63907,74302,16671,34687,37619,165644,45569,875458,55255,84046,301077,139863,37165,211692,203729,1427,48689,29344,29075,53192,724513,55443,283179,983798,264848,11131,0,11433,9451,123025,201494,5854,175410,10945,147451,69818,198236,84333,1788,27355,16739,14556,222940,125077,39415,4534,67226,61659,24356,929018,1192843,188670,123993,1036,29079,87745,115640,44290,1206104,12052,311456,5759184,87979,223120,17507,290738,24860,219212,106250,42124,22129,245998,7465,234779,147431,183850,53083,60927,92698,61475,413637,3422626,271009,54729,160389,400711,16478,248060,356464,10921,10497,37640,2116,17550,104280,365297,15810,9817,58067,192236,18555,74257,35882,86462,116035,211520,39090,449,122318,93332,163378,210759,60681,63988,106053,238517,19368,67075,1742721,34129,108804,282414,41980,153550,113913,850422,877065,257863,814695,138657,134992,263096,41723,600410,123980,71808,43548,23269,2068430,1651436,198825,169110,25582,367170,38766,6538,32408,42886,5674,32561,87555,87676,175030,128059,189527,107646,123008,586576,190117,2267915,31885,502119,108855,865492,121743,17367,99153,161949,34235,61671,57604,171179,302186,58810,26838,170203,74356,142956,233248,63044,5131321,313250,83085,22613,14542,1391,232420,9481,25317,12071,1073549,437636,1402544,10788,948003,54682,5247,16667,88582,413751,720660,275035,159189,9193,439322,176424,1152145,40592,19494,5612,65376,39968,3902,35980,54197,0,14011,193717,1658088,208670,37071,41052,510548,138132,360672,4399,68824,1003395,130959,111844,21894,14669,27991,9566,212874,302028,85195,662817,89885,269338,98604,237881,118386,538198,85641,4474,16344,87971,297920,30025,293242,45577,16080,23624,112553,0,15655,68040,236034,735515,47199,43091,51558,242545,210118,2812,67803,74520,16641,60562,537873,13983,4362172,51779,127244,77644,30120,223722,48420,426828,523369,22747,67106,95485,108386,18855,108952,79211,1220,119270,359697,35174,19449,50508,8030,3094560,325430,19785,52605,73056,73613,5578621,7624,3604,84757,130865,133703,0,2897583,90245,64738,17379,63983,522050,376894,35531,184209,244905,71083,17227,115434,9205,349033,660118,298391,468232,235899,55189,6268,40095,28397,33701,100642,69702,45544,612745,201467,47066,342410,217927,59129,1633073,446970,39567,63674,27427,99395,560025,4640862,26521,23892,25983,15730,1895926,16638,19765,90310,27852,140421,25817,11259,17812,107425,215124,128846,215277,87506,332786,31019,14507,312771,29645,6842,239598,235646,137750,208474,94058,311102,17483,244400,1793862,241647,158962,0,194840,290286,33596,694512,74870,11321,11442,101788,1551,7796,84602,38104,0,318431,83968,377081,493739,50753,269863,169961,100699,8126,891,44881,12872,733151,16897,246063,63680,230356,464613,47659,328746,28901,750992,1388021,27255,149305,594521,11766,54469,76616,28699,157533,1833643,104063,4510967,6643633,54219,240723,1684,70890,479762,33825,14663,110842,48286,205233,34717,31016,3806091,254265,682384,2862741,2859,21491,75589,50258,1847,587800,40897,318924,34431,136642,5771696,209039,226910,279154,41266,213367,40170,37534,160467,696326,322542,312915,24415,76870,4630,550116,27011,241973,232749,16706,65829,17031,589044,228635,16237,22811,356819,447518,40184,10671,62444,61503,23111,2695,167479,42383,43696,296190,253006,4970550,351898,576164,88020,22970,266307,1038120,634206,51374,72877,888099,32942,1421,40117,83012,61149,21052,30654,24238,899341,11762,38926,89623,77158,116713,169894,204584,473748,59657,223804,13534,59958,99936,687519,157710,69928,27124,76050,6772,26172,45483,35363,800559,4308,5812,5080,5386943,18947,26811,152623,3187,51881,5751,68938,241617,10200,165690,26731,153857,13751,25315,24399,26463,202897,192426,56742,21106,216108,5401,2239274,3300270,35033,247847,5437,309302,35349,482439,56284,173371,1156419,6235,49585,489681,120000,34234,20860,364257,330380,28290737,33498,89560,462904,117708,25276,33763,102016,269588,336565,164177,114130,22975,128098,70455,83881,9111,6899,1519,49572,175957,70203,18943,62344,12302,472051,122930,359627,4044459,17297,112577,448778,49810,21718,16671,126746,10284,1926,0,4826,20421,170946,326917,38520,304874,108171,33923,62149,0,118118,44631,150802,853250,7093,29832,14192,54803,23544,8128629,75353,112581,242442,75407,137964,23467,47936,66327,44871,170203,6200415,137296,1430097,58868,107014,793962,261084,13954,59442,238394,40928,391548,175538,247242,23621,4542,52098,41169,23322,110202,239216,121320,190288,23125,48060,14317,485,1010,20306,36234,38714,1885,67971,949131,2963231,1829143,633941,59125,318876,229466,58577,103268,418896,148864,45701,1482,312000,353586,88746,245859,2097714,46829,515044,27222,506683,17306,19023,6983,81284,183555,136007,51500,12434,309411,545687,130241,92301,48994,110132,344794,174427,180188,77210,1592997,7806,205392,14487,20750,5254170,135096,249814,820820,64930,111697,136779,41773,197432,81258,122372,38368,830887,82584,48804,5168,3326,100133,267792,313867,15852,24187,278563,5757309,873743,15721,49379,256440,130370,1723820,1254073,293914,141658,256973,28681,320533,14134,30170,26861,2902408,222039,152092,2655,11873,16909,124558,33932,12792,2864458,2082077,524443,47970,615079,624535,114,12492,0,9235,125055,81246,7154,13778,17070,37186,115105,1861222,601371,100491,51859,80313,13557,10590,82672,0,94335,49984,58139]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>NTD ID<\/th>\n      <th>Agency<\/th>\n      <th>metro_area<\/th>\n      <th>Mode<\/th>\n      <th>3 Mode<\/th>\n      <th>month<\/th>\n      <th>UPT<\/th>\n      <th>VRM<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,7,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"NTD ID","targets":1},{"name":"Agency","targets":2},{"name":"metro_area","targets":3},{"name":"Mode","targets":4},{"name":"3 Mode","targets":5},{"name":"month","targets":6},{"name":"UPT","targets":7},{"name":"VRM","targets":8}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Next, the <code>mutate</code> function is used to recode <code>Mode</code> column for better clarity for transportation systems. And, <code>case_when()</code> function replace abbreviations<br>
AR -&gt; Alaska Railroad etc. The <code>distinct</code> function checks correct transformation for unique modes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>USAGE <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Mode=</span><span class="fu">case_when</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"AR"</span> <span class="sc">~</span> <span class="st">"Alaska Railroad"</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"CB"</span> <span class="sc">~</span> <span class="st">"Commuter Bus"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"Cable Car"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"CR"</span> <span class="sc">~</span> <span class="st">"Commuter Rail"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"DR"</span> <span class="sc">~</span> <span class="st">"Demand Response"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"FB"</span> <span class="sc">~</span> <span class="st">"Ferryboat"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"HR"</span> <span class="sc">~</span> <span class="st">"Heavy Rail"</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"Inclined Plane"</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"LR"</span> <span class="sc">~</span> <span class="st">"Light Rail"</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"MB"</span> <span class="sc">~</span> <span class="st">"Bus"</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"MG"</span> <span class="sc">~</span> <span class="st">"Monorail/Automated Guideway"</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"PB"</span> <span class="sc">~</span> <span class="st">"Publico"</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"RB"</span> <span class="sc">~</span> <span class="st">"Bus Rapid Transit"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"SR"</span> <span class="sc">~</span> <span class="st">"Streercar Rail"</span>,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"TB"</span> <span class="sc">~</span> <span class="st">"Trolleybus"</span>,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Aerial Tramway"</span>,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"VP"</span> <span class="sc">~</span> <span class="st">"Vanpool"</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"YR"</span> <span class="sc">~</span> <span class="st">"Hybrid Rail"</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Unknown"</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="fu">distinct</span>(USAGE, Mode)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 × 1
   Mode                       
   &lt;chr&gt;                      
 1 Demand Response            
 2 Ferryboat                  
 3 Bus                        
 4 Streercar Rail             
 5 Trolleybus                 
 6 Vanpool                    
 7 Commuter Bus               
 8 Bus Rapid Transit          
 9 Light Rail                 
10 Hybrid Rail                
11 Monorail/Automated Guideway
12 Commuter Rail              
13 Alaska Railroad            
14 Aerial Tramway             
15 Heavy Rail                 
16 Inclined Plane             
17 Publico                    
18 Cable Car                  </code></pre>
</div>
</div>
</section>
</section>
<section id="part-2.-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="part-2.-data-analysis">Part 2. Data Analysis</h2>
<section id="question-1.-what-transit-agency-had-the-most-total-vrm-in-our-data-set" class="level3">
<h3 class="anchored" data-anchor-id="question-1.-what-transit-agency-had-the-most-total-vrm-in-our-data-set"><u>Question 1.</u> What transit agency had the most total VRM in our data set?</h3>
<p>To get this answer, the total vehicle miles traveled by agency are aggregated (ensure to remove empty rows, and get only one agency with the highest VRM):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>most_vrm_agency <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Agency) <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_VRM =</span> <span class="fu">sum</span>(VRM, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_VRM)) <span class="sc">|&gt;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="co">#top result</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>most_vrm_agency</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  Agency                      total_VRM
  &lt;chr&gt;                           &lt;dbl&gt;
1 MTA New York City Transit 10832855350</code></pre>
</div>
</div>
</section>
<section id="question-2.-what-transit-mode-had-the-most-total-vrm-in-our-data-set" class="level3">
<h3 class="anchored" data-anchor-id="question-2.-what-transit-mode-had-the-most-total-vrm-in-our-data-set"><u>Question 2.</u> What transit mode had the most total VRM in our data set?</h3>
<p>This question is pretty simple. We need to update the code above to a ‘Mode’ instead of ‘Agency’</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>most_vrm_mode <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Mode) <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_VRM =</span> <span class="fu">sum</span>(VRM, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_VRM)) <span class="sc">|&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="co">#top result</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>most_vrm_mode</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  Mode    total_VRM
  &lt;chr&gt;       &lt;dbl&gt;
1 Bus   49444494088</code></pre>
</div>
</div>
</section>
<section id="question-3.-how-many-trips-were-taken-on-the-nyc-subway-heavy-rail-in-may-2024" class="level3">
<h3 class="anchored" data-anchor-id="question-3.-how-many-trips-were-taken-on-the-nyc-subway-heavy-rail-in-may-2024"><u>Question 3.</u> How many trips were taken on the NYC Subway (Heavy Rail) in May 2024?</h3>
<p>The code below calculates MTA NYC Transit trips taken by Heavy Rail mode for the month of May 2024. The <code>summarize()</code> function is used to create a new variable <code>total_trips</code>, sum sums the values in the <code>UPT</code> column and <code>na.rm</code> ignores missing values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>nyc_subway_may2024 <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Agency <span class="sc">==</span> <span class="st">"MTA New York City Transit"</span>, Mode <span class="sc">==</span> <span class="st">"Heavy Rail"</span>, month <span class="sc">==</span> <span class="st">"2024-05-01"</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_trips =</span> <span class="fu">sum</span>(UPT, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>nyc_subway_may2024</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  total_trips
        &lt;dbl&gt;
1   180458819</code></pre>
</div>
</div>
</section>
<section id="question-4.-how-much-did-nyc-subway-ridership-fall-between-april-2019-and-april-2020" class="level3">
<h3 class="anchored" data-anchor-id="question-4.-how-much-did-nyc-subway-ridership-fall-between-april-2019-and-april-2020"><u>Question 4.</u> How much did NYC subway ridership fall between April 2019 and April 2020?</h3>
<p>The code filters only “MTA New York City Transit” for the dates mentioned, then sums the UPT for each month. After that, the percentage drop in ridership is calculated to reflect the impact of the COVID-19 on public transportation usage during the pandemic.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>nyc_subway_april_ridership <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Agency <span class="sc">==</span> <span class="st">"MTA New York City Transit"</span>, </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>         Mode <span class="sc">==</span> <span class="st">"Heavy Rail"</span>, </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>         month <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"2019-04-01"</span>, <span class="st">"2020-04-01"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month) <span class="sc">|&gt;</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_trips =</span> <span class="fu">sum</span>(UPT, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="co">#ridership fall</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>ridership_fall <span class="ot">&lt;-</span> nyc_subway_april_ridership <span class="sc">|&gt;</span> <span class="co"># % fall </span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">fall =</span> <span class="dv">100</span><span class="sc">*</span> (total_trips[month <span class="sc">==</span> <span class="st">"2020-04-01"</span>] <span class="sc">-</span> total_trips[month <span class="sc">==</span> <span class="st">"2019-04-01"</span>]) <span class="sc">/</span> total_trips[month <span class="sc">==</span> <span class="st">"2019-04-01"</span>])</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>ridership_fall</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
   fall
  &lt;dbl&gt;
1 -91.3</code></pre>
</div>
</div>
</section>
</section>
<section id="more-interesting-transit-facts" class="level2">
<h2 class="anchored" data-anchor-id="more-interesting-transit-facts">More interesting transit facts</h2>
<p><u>1.</u> Which transit agency had the most trips in a single month?</p>
<p>Let’s find out the transit agency with the most trips in a single month by grouping the data by agency and month, summing the total trips, sorting in descending order and getting the top result.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>most_trip_single_month <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Agency, month) <span class="sc">|&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_trips =</span> <span class="fu">sum</span>(UPT,<span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_trips)) <span class="sc">|&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>most_trip_single_month</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  Agency                    month      total_trips
  &lt;chr&gt;                     &lt;date&gt;           &lt;dbl&gt;
1 MTA New York City Transit 2014-10-01   322725962</code></pre>
</div>
</div>
<p><u>2.</u> Which mode of transit had the highest trip length in 2024?</p>
<p>This code filters <code>2024</code> by using <code>grepl</code> function for <code>month</code> column. Then, groups <code>Mode</code> and calculates the average trip length by diving totals of VRM and UPT.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>longest_avg_trip_2024 <span class="ot">&lt;-</span>USAGE <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"2024"</span>, month)) <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Mode) <span class="sc">|&gt;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_trip_length =</span> <span class="fu">sum</span>(VRM, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> <span class="fu">sum</span>(UPT, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_trip_length)) <span class="sc">|&gt;</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>longest_avg_trip_2024</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  Mode            avg_trip_length
  &lt;chr&gt;                     &lt;dbl&gt;
1 Demand Response            12.8</code></pre>
</div>
</div>
<p><u>3.</u> Which transit agency had the largest vehicle fleet(VRM) in 2024? This code provides the agency with the most distance(VRM) with its fleet in 2024.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>largest_fleet_2024 <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"2024"</span>, month)) <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Agency) <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_VRM =</span> <span class="fu">sum</span>(VRM, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_VRM)) <span class="sc">|&gt;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>largest_fleet_2024</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  Agency                    total_VRM
  &lt;chr&gt;                         &lt;dbl&gt;
1 MTA New York City Transit 273222702</code></pre>
</div>
</div>
</section>
<section id="part-3.-table-summarization" class="level2">
<h2 class="anchored" data-anchor-id="part-3.-table-summarization">Part 3. Table Summarization</h2>
<p>This code is responsible for creating an annual summary of public transit usage and financial data for 2022 - <code>USAGE_2022_ANNUAL</code>, steps</p>
<p>1) Filtering and summarizing transit data for 2022.</p>
<p>2) Updating Financial data mode labels.</p>
<p>3) Join the <code>USAGE_AND_FINANCIALS</code> and making sure that modes aren’t abbreviated.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Task 5 table summarization</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate) <span class="co">#year function</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>USAGE_2022_ANNUAL <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(month) <span class="sc">==</span> <span class="dv">2022</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>, Agency, metro_area, Mode) <span class="sc">|&gt;</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">UPT =</span> <span class="fu">sum</span>(UPT, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">VRM =</span> <span class="fu">sum</span>(VRM, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>USAGE_2022_ANNUAL</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,141 × 6
   `NTD ID` Agency                                metro_area Mode     UPT    VRM
      &lt;int&gt; &lt;chr&gt;                                 &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1        1 King County                           Seattle--… Bus   5.40e7 6.16e7
 2        1 King County                           Seattle--… Dema… 6.63e5 1.29e7
 3        1 King County                           Seattle--… Ferr… 4.00e5 5.12e4
 4        1 King County                           Seattle--… Stre… 1.12e6 1.80e5
 5        1 King County                           Seattle--… Trol… 9.58e6 2.64e6
 6        1 King County                           Seattle--… Vanp… 7.03e5 4.41e6
 7        2 Spokane Transit Authority             Spokane, … Bus   6.60e6 6.49e6
 8        2 Spokane Transit Authority             Spokane, … Dema… 3.10e5 4.04e6
 9        2 Spokane Transit Authority             Spokane, … Vanp… 9.06e4 9.06e5
10        3 Pierce County Transportation Benefit… Seattle--… Bus   4.95e6 4.23e6
# ℹ 1,131 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>FINANCIALS_mode_updated <span class="ot">&lt;-</span> FINANCIALS <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Mode =</span><span class="fu">case_when</span>(</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"AR"</span> <span class="sc">~</span> <span class="st">"Alaska Railroad"</span>, </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"CB"</span> <span class="sc">~</span> <span class="st">"Commuter Bus"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"Cable Car"</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"CR"</span> <span class="sc">~</span> <span class="st">"Commuter Rail"</span>,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"DR"</span> <span class="sc">~</span> <span class="st">"Demand Response"</span>,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"FB"</span> <span class="sc">~</span> <span class="st">"Ferryboat"</span>,</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"HR"</span> <span class="sc">~</span> <span class="st">"Heavy Rail"</span>,</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"Inclined Plane"</span>,</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"LR"</span> <span class="sc">~</span> <span class="st">"Light Rail"</span>,</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"MB"</span> <span class="sc">~</span> <span class="st">"Bus"</span>,</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"MG"</span> <span class="sc">~</span> <span class="st">"Monorail/Automated Guideway"</span>,</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"PB"</span> <span class="sc">~</span> <span class="st">"Publico"</span>,</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"RB"</span> <span class="sc">~</span> <span class="st">"Bus Rapid Transit"</span>,</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"SR"</span> <span class="sc">~</span> <span class="st">"Streercar Rail"</span>,</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"TB"</span> <span class="sc">~</span> <span class="st">"Trolleybus"</span>,</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Aerial Tramway"</span>,</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"VP"</span> <span class="sc">~</span> <span class="st">"Vanpool"</span>,</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"YR"</span> <span class="sc">~</span> <span class="st">"Hybrid Rail"</span>,</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Unknown"</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>FINANCIALS_mode_updated</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,173 × 5
   `NTD ID` `Agency Name`                           Mode  `Total Fares` Expenses
      &lt;dbl&gt; &lt;chr&gt;                                   &lt;chr&gt;         &lt;dbl&gt;    &lt;dbl&gt;
 1        1 King County Department of Metro Transit Comm…       5216912   0     
 2        1 King County Department of Metro Transit Dema…        832327   6.05e7
 3        1 King County Department of Metro Transit Ferr…       1715265   8.90e6
 4        1 King County Department of Metro Transit Ligh…      29386480   0     
 5        1 King County Department of Metro Transit Bus        56846337   6.72e8
 6        1 King County Department of Metro Transit Stre…        588495   1.25e7
 7        1 King County Department of Metro Transit Trol…      10123486   8.42e7
 8        1 King County Department of Metro Transit Vanp…       5484481   8.91e6
 9        2 Spokane Transit Authority               Dema…        531284   1.80e7
10        2 Spokane Transit Authority               Bus         6135110   7.53e7
# ℹ 1,163 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>USAGE_AND_FINANCIALS <span class="ot">&lt;-</span> <span class="fu">left_join</span>(USAGE_2022_ANNUAL, </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>                                  FINANCIALS_mode_updated, </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">join_by</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>, Mode)) <span class="sc">|&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="part-4.-farebox-recovery-among-major-systems" class="level2">
<h2 class="anchored" data-anchor-id="part-4.-farebox-recovery-among-major-systems">Part 4. Farebox Recovery Among Major Systems</h2>
<section id="which-transit-system-agency-and-mode-had-the-most-upt-in-2022" class="level3">
<h3 class="anchored" data-anchor-id="which-transit-system-agency-and-mode-had-the-most-upt-in-2022">1. Which transit system (agency and mode) had the most UPT in 2022?</h3>
<p>The metric of Unlinked Passengers Trips or UPT provides insight into how many time passengers boarded a transit vehicle. The high UPT equals to more frequent trips. To filter the busiest system, we set 400,000 UPT at least in 2022 and sorted by the highest total.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>most_upt_2022 <span class="ot">&lt;-</span> USAGE_AND_FINANCIALS <span class="sc">|&gt;</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(UPT <span class="sc">&gt;=</span> <span class="dv">400000</span>) <span class="sc">|&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(UPT)) <span class="sc">|&gt;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>most_upt_2022</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 9
  `NTD ID` Agency     metro_area Mode     UPT    VRM `Agency Name` `Total Fares`
     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;
1    20008 MTA New Y… New York-… Heav… 1.79e9 3.38e8 MTA New York…    2326782567
# ℹ 1 more variable: Expenses &lt;dbl&gt;</code></pre>
</div>
</div>
<p><strong>Result:</strong> It’s no surprise that <strong>MTA New York City Transit - Heavy Rail</strong> leads with <strong>1.79 billion</strong> UPT. The immense number of people rely on it every day, both New Yorkers and tourists.</p>
</section>
<section id="which-transit-system-agency-and-mode-had-the-highest-farebox-recovery-defined-as-the-highest-ratio-of-total-fares-to-expenses" class="level3">
<h3 class="anchored" data-anchor-id="which-transit-system-agency-and-mode-had-the-highest-farebox-recovery-defined-as-the-highest-ratio-of-total-fares-to-expenses">2. Which transit system (agency and mode) had the highest <em>farebox recovery</em>, defined as the highest ratio of Total Fares to Expenses?</h3>
<p>The farebox recovery ratio measures the percentage of operating expenses covered by fare revenue. In this research we will take only a glimpse how financially self-sustaining a transit system is.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>highest_farebox_recovery <span class="ot">&lt;-</span> USAGE_AND_FINANCIALS <span class="sc">|&gt;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(UPT <span class="sc">&gt;=</span> <span class="dv">400000</span>) <span class="sc">|&gt;</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">farebox_recovery =</span> <span class="st">`</span><span class="at">Total Fares</span><span class="st">`</span> <span class="sc">/</span> Expenses) <span class="sc">|&gt;</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(farebox_recovery)) <span class="sc">|&gt;</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>highest_farebox_recovery</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 10
  `NTD ID` Agency     metro_area Mode     UPT    VRM `Agency Name` `Total Fares`
     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;
1    20190 Port Impe… New York-… Ferr… 3.76e6 504037 Port Imperia…      33443241
# ℹ 2 more variables: Expenses &lt;dbl&gt;, farebox_recovery &lt;dbl&gt;</code></pre>
</div>
</div>
<p><strong>Result: Port Imperial Ferry (New York-New Jersey area)</strong> is on the top of the chart with <strong>66.3% farebox recovery ratio</strong>. This higher ratio means that it’s less reliant on subsidies from local or federal governments.</p>
</section>
<section id="which-transit-system-agency-and-mode-has-the-lowest-expenses-per-upt" class="level3">
<h3 class="anchored" data-anchor-id="which-transit-system-agency-and-mode-has-the-lowest-expenses-per-upt">3. Which transit system (agency and mode) has the lowest expenses per UPT?</h3>
<p>With <strong>Expenses per UPT</strong> we measure how much it costs to transport a single pasenger for a trip. Lower expenses per trip indicate better services at reduced cost.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>lower_expenses_per_upt <span class="ot">&lt;-</span> USAGE_AND_FINANCIALS <span class="sc">|&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(UPT <span class="sc">&gt;=</span> <span class="dv">400000</span>) <span class="sc">|&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">expenses_per_upt =</span> Expenses <span class="sc">/</span> UPT) <span class="sc">|&gt;</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(expenses_per_upt) <span class="sc">|&gt;</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>lower_expenses_per_upt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 10
  `NTD ID` Agency     metro_area Mode     UPT    VRM `Agency Name` `Total Fares`
     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;
1    40147 North Car… Raleigh, … Bus   2.31e6 531555 North Caroli…             0
# ℹ 2 more variables: Expenses &lt;dbl&gt;, expenses_per_upt &lt;dbl&gt;</code></pre>
</div>
</div>
<p><strong>Result</strong>: The <strong>North Carolina Department of Transportation’s Bus system</strong> in <strong>Raleigh</strong> leads this chart with the lowest expenses per trip.</p>
</section>
<section id="which-transit-system-agency-and-mode-has-the-highest-total-fares-per-upt" class="level3">
<h3 class="anchored" data-anchor-id="which-transit-system-agency-and-mode-has-the-highest-total-fares-per-upt">4. Which transit system (agency and mode) has the highest total fares per UPT?</h3>
<p>Total fares per UPT provide an indicator how much revenue the system is generating from each passenger trip. Higher fares can be due to the distances or premium services.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>highest_fares_per_upt <span class="ot">&lt;-</span> USAGE_AND_FINANCIALS <span class="sc">|&gt;</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(UPT <span class="sc">&gt;=</span> <span class="dv">400000</span>) <span class="sc">|&gt;</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fares_per_upt =</span> <span class="st">`</span><span class="at">Total Fares</span><span class="st">`</span> <span class="sc">/</span> UPT) <span class="sc">|&gt;</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(fares_per_upt)) <span class="sc">|&gt;</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>highest_fares_per_upt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 10
  `NTD ID` Agency     metro_area Mode     UPT    VRM `Agency Name` `Total Fares`
     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;
1    20217 Hampton J… New York-… Comm… 521577 2.04e6 Hampton Jitn…      21539188
# ℹ 2 more variables: Expenses &lt;dbl&gt;, fares_per_upt &lt;dbl&gt;</code></pre>
</div>
</div>
<p><strong>Result</strong>: <strong>Hampton Jitney(Commuter Bus)</strong> in the <strong>New York City</strong> are had the highest total <strong>$41.29 per UPT</strong> and is the combination of long-distance and premium services for people who want to spend the vacation in Hamptons.</p>
</section>
<section id="which-transit-system-agency-and-mode-has-the-lowest-expenses-per-vrm" class="level3">
<h3 class="anchored" data-anchor-id="which-transit-system-agency-and-mode-has-the-lowest-expenses-per-vrm">5. Which transit system (agency and mode) has the lowest expenses per VRM?</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>lowest_expenses_per_vrm <span class="ot">&lt;-</span>USAGE_AND_FINANCIALS <span class="sc">|&gt;</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(UPT <span class="sc">&gt;=</span> <span class="dv">400000</span>) <span class="sc">|&gt;</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">expenses_per_vrm =</span> Expenses <span class="sc">/</span> VRM) <span class="sc">|&gt;</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(expenses_per_vrm) <span class="sc">|&gt;</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>lowest_expenses_per_vrm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 10
  `NTD ID` Agency     metro_area Mode     UPT    VRM `Agency Name` `Total Fares`
     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;
1    90094 Metropoli… San Franc… Vanp… 1.02e6 1.23e7 Metropolitan…       6504406
# ℹ 2 more variables: Expenses &lt;dbl&gt;, expenses_per_vrm &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="which-transit-system-agency-and-mode-has-the-highest-total-fares-per-vrm" class="level3">
<h3 class="anchored" data-anchor-id="which-transit-system-agency-and-mode-has-the-highest-total-fares-per-vrm">6. Which transit system (agency and mode) has the highest total fares per VRM?</h3>
<p>Now we are interested how much revenue is being generated for each mile traveled and the higher fare revenue is the more expensive/premium services are or efficient fare collection.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>highest_fares_per_vrm <span class="ot">&lt;-</span> USAGE_AND_FINANCIALS <span class="sc">|&gt;</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(UPT <span class="sc">&gt;=</span> <span class="dv">400000</span>) <span class="sc">|&gt;</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fares_per_vrm =</span> <span class="st">`</span><span class="at">Total Fares</span><span class="st">`</span> <span class="sc">/</span> VRM) <span class="sc">|&gt;</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(fares_per_vrm)) <span class="sc">|&gt;</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>highest_fares_per_vrm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 10
  `NTD ID` Agency      metro_area Mode     UPT   VRM `Agency Name` `Total Fares`
     &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;
1    40040 Jacksonvil… Jacksonvi… Ferr… 416129  9084 Jacksonville…       1432549
# ℹ 2 more variables: Expenses &lt;dbl&gt;, fares_per_vrm &lt;dbl&gt;</code></pre>
</div>
</div>
<p><strong>Result</strong>: <strong>Jacksonville Transportation Authority’s Ferry</strong> <strong>service</strong> generates <strong>$157.71 per VTM</strong>. Meaning, ferry service in that location, has significantly higher fares compared to bus or rail, due to specific travel needs.<br>
</p>
<p><br>
This mini-project provides valuable insights into the operational, financial efficiency and sustainability of various U.S. transit systems; and gives a great glimpse into the data how well certain transit agencies manage the cost efficiency and revenue generation from fares.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/whaleron\.github\.io\/STA9750-2024-FALL\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>