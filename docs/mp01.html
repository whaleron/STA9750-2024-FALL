<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Mini-Project#01: Fiscal Characteristics of Major US Public Transit Systems – STA 9750 2024 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 2024 Submission Material</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="././mp01.html"> 
<span class="menu-text">Mini-project 1</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Mini-Project#01: Fiscal Characteristics of Major US Public Transit Systems</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This project is inspired from <a href="https://www.youtube.com/@CityNerd">CityNerd Youtube channel</a> and focuses on farebox recovery - the percentage of a transit system’s revenue that comes from fares instead of taxes. The data for this analysis comes from the <a href="https://www.transit.dot.gov/ntd">National Transit Database</a>(NTD). This mini-project analyzes farebox revenues, total trips, vehicle miles traveled and operating expenses for public transit systems in the U.S. in 2022.</p>
<p>Key data sources:</p>
<ul>
<li><p><a href="https://www.transit.dot.gov/ntd/data-product/2022-annual-database-fare-revenues">2022 Fare Revenue Table</a></p></li>
<li><p><a href="https://www.transit.dot.gov/ntd/data-product/monthly-module-adjusted-data-release">Latest Monthly Ridership Tables</a></p></li>
<li><p><a href="https://www.transit.dot.gov/ntd/data-product/2022-operating-expenses">2022 Operating Expenses Reports</a></p></li>
</ul>
<section id="part-1.-data-downloading-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="part-1.-data-downloading-cleaning">Part 1. Data Downloading &amp; Cleaning</h2>
<p>The first step is to install the <a href="https://github.com/tidyverse">tidyverse</a> package, as it provides useful data manipulation tools such as:</p>
<ul>
<li><p><code>dplyr</code> for data manipulation functions (e.g.<code>mutate()</code>, <code>select()</code>, <code>group_by()</code>)</p></li>
<li><p><code>ggplot2</code> for data visualization (e.g.&nbsp;bar charts, line charts, scatter plots)</p></li>
<li><p><code>readr</code> for reading and writing data (e.g.<code>read_csv()</code>, <code>write_csv()</code>)</p></li>
</ul>
<section id="a-fare-revenue-data" class="level3">
<h3 class="anchored" data-anchor-id="a-fare-revenue-data">a) Fare Revenue Data</h3>
<ul>
<li>This dataset contains information on the total fare revenues for transit agencies. All files in downloading steps are taken directly from the official website. After the <code>FARES</code> data is cleaned, only important columns are selected and data is filtered by the rows where <code>Expense Type</code> is <code>Funds Earned During Period</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(<span class="st">"tidyverse"</span>)) <span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's start with Fare Revenue</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">file.exists</span>(<span class="st">"2022_fare_revenue.xlsx"</span>)){</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This should work _in theory_ but in practice it's still a bit finicky</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If it doesn't work for you, download this file 'by hand' in your</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># browser and save it as "2022_fare_revenue.xlsx" in your project</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># directory.</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">download.file</span>(<span class="st">"http://www.transit.dot.gov/sites/fta.dot.gov/files/2024-04/2022%20Fare%20Revenue.xlsx"</span>, </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">destfile=</span><span class="st">"2022_fare_revenue.xlsx"</span>, </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>                  <span class="at">quiet=</span><span class="cn">FALSE</span>, </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>                  <span class="at">method=</span><span class="st">"wget"</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>FARES <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">"2022_fare_revenue.xlsx"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">State/Parent NTD ID</span><span class="st">`</span>, </span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="st">`</span><span class="at">Reporter Type</span><span class="st">`</span>,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="st">`</span><span class="at">Reporting Module</span><span class="st">`</span>,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="st">`</span><span class="at">TOS</span><span class="st">`</span>,</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="st">`</span><span class="at">Passenger Paid Fares</span><span class="st">`</span>,</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="st">`</span><span class="at">Organization Paid Fares</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="st">`</span><span class="at">Expense Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Funds Earned During Period"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">Expense Type</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>,       <span class="co"># Sum over different `TOS` for the same `Mode`</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>             <span class="st">`</span><span class="at">Agency Name</span><span class="st">`</span>,  <span class="co"># These are direct operated and sub-contracted </span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>             <span class="st">`</span><span class="at">Mode</span><span class="st">`</span>) <span class="sc">|&gt;</span>      <span class="co"># of the same transit modality</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>                             <span class="co"># Not a big effect in most munis (significant DO</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>                             <span class="co"># tends to get rid of sub-contractors), but we'll sum</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>                             <span class="co"># to unify different passenger experiences</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="st">`</span><span class="at">Total Fares</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Total Fares</span><span class="st">`</span>)) <span class="sc">|&gt;</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="b-expenses-data" class="level3">
<h3 class="anchored" data-anchor-id="b-expenses-data">b) Expenses Data</h3>
<ul>
<li>This step involves getting the 2022 operating expenses data. The expenses are grouped by <code>NTD ID</code>, <code>Agency</code>, <code>Total</code> and <code>Mode</code> to calculate total operating costs for each agency and transportation mode.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">file.exists</span>(<span class="st">"2022_expenses.csv"</span>)){</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This should work _in theory_ but in practice it's still a bit finicky</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If it doesn't work for you, download this file 'by hand' in your</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># browser and save it as "2022_expenses.csv" in your project</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># directory.</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">download.file</span>(<span class="st">"https://data.transportation.gov/api/views/dkxx-zjd6/rows.csv?date=20231102&amp;accessType=DOWNLOAD&amp;bom=true&amp;format=true"</span>, </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">destfile=</span><span class="st">"2022_expenses.csv"</span>, </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">quiet=</span><span class="cn">FALSE</span>, </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">method=</span><span class="st">"wget"</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>EXPENSES <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"2022_expenses.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>, </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">Agency</span><span class="st">`</span>,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">Total</span><span class="st">`</span>, </span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">Mode</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.integer</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">Expenses =</span> Total) <span class="sc">|&gt;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>, <span class="st">`</span><span class="at">Mode</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">Expenses =</span> <span class="fu">sum</span>(Expenses)) <span class="sc">|&gt;</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="c-merging-financial-data" class="level3">
<h3 class="anchored" data-anchor-id="c-merging-financial-data">c) Merging Financial Data</h3>
<p><code>FINANCIALS = FARES + EXPENSES</code></p>
<p>To combine the fare revenue and expenses by <code>NTD ID</code> and <code>Mode</code> – the <code>inner_join()</code> function is used.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>FINANCIALS <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(FARES, EXPENSES, <span class="fu">join_by</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>, <span class="st">`</span><span class="at">Mode</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="d-ridership-data" class="level3">
<h3 class="anchored" data-anchor-id="d-ridership-data">d) Ridership Data</h3>
<p>In this part, the monthly ridership data is downloaded and necessary columns are kept, especially we are interested in this data:</p>
<ul>
<li><p>UPT - Unlinked Passenger Trips</p></li>
<li><p>VRM - Vehicle Revenue Miles</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">file.exists</span>(<span class="st">"ridership.xlsx"</span>)){</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This should work _in theory_ but in practice it's still a bit finicky</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># If it doesn't work for you, download this file 'by hand' in your</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># browser and save it as "ridership.xlsx" in your project</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># directory.</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(<span class="st">"https://www.transit.dot.gov/sites/fta.dot.gov/files/2024-09/July%202024%20Complete%20Monthly%20Ridership%20%28with%20adjustments%20and%20estimates%29_240903.xlsx"</span>, </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">destfile=</span><span class="st">"ridership.xlsx"</span>, </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">quiet=</span><span class="cn">FALSE</span>, </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">method=</span><span class="st">"wget"</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>TRIPS <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">"ridership.xlsx"</span>, <span class="at">sheet=</span><span class="st">"UPT"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Mode/Type of Service Status</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Active"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">Legacy NTD ID</span><span class="st">`</span>, </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">Reporter Type</span><span class="st">`</span>, </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">Mode/Type of Service Status</span><span class="st">`</span>, </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">UACE CD</span><span class="st">`</span>, </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">TOS</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">metro_area =</span> <span class="st">`</span><span class="at">UZA Name</span><span class="st">`</span>) <span class="sc">|&gt;</span> <span class="co">#task1</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">3 Mode</span><span class="st">`</span>, metro_area), </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to=</span><span class="st">"month"</span>, </span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to=</span><span class="st">"UPT"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month=</span><span class="fu">my</span>(month)) <span class="co"># Parse _m_onth _y_ear date specs</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>MILES <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">"ridership.xlsx"</span>, <span class="at">sheet=</span><span class="st">"VRM"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Mode/Type of Service Status</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Active"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">Legacy NTD ID</span><span class="st">`</span>, </span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">Reporter Type</span><span class="st">`</span>, </span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">Mode/Type of Service Status</span><span class="st">`</span>, </span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">UACE CD</span><span class="st">`</span>, </span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span><span class="st">`</span><span class="at">TOS</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">3 Mode</span><span class="st">`</span>), </span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to=</span><span class="st">"month"</span>, </span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to=</span><span class="st">"VRM"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">metro_area =</span><span class="st">`</span><span class="at">UZA Name</span><span class="st">`</span>) <span class="sc">|&gt;</span> <span class="co">#task1</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>, <span class="st">`</span><span class="at">Agency</span><span class="st">`</span>, metro_area, </span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">Mode</span><span class="st">`</span>, <span class="st">`</span><span class="at">3 Mode</span><span class="st">`</span>, month) <span class="sc">|&gt;</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">VRM =</span> <span class="fu">sum</span>(VRM)) <span class="sc">|&gt;</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month=</span><span class="fu">my</span>(month)) <span class="co"># Parse _m_onth _y_ear date specs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="e-merging-ridership-data" class="level3">
<h3 class="anchored" data-anchor-id="e-merging-ridership-data">e) Merging Ridership Data</h3>
<p>The <code>inner_join()</code> function is used again for <code>TRIPS</code> and <code>MILES</code> to get them together into <code>USAGE</code> dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>USAGE <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(TRIPS, MILES) <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.integer</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(<span class="st">"DT"</span>)) <span class="fu">install.packages</span>(<span class="st">"DT"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="f-glimpse-of-the-main-dataset-and-improving-mode-column" class="level3">
<h3 class="anchored" data-anchor-id="f-glimpse-of-the-main-dataset-and-improving-mode-column">f) Glimpse of the Main Dataset and Improving <code>Mode</code> column</h3>
<ul>
<li><p><code>sample_n(USAGE, 1000)</code> selects a random sample of 1000 records from the <code>USAGE</code> dataset;</p></li>
<li><p><code>mutate</code> helps to convert the <code>month</code> column to a character format, ensuring it’s one format for further analysis;</p></li>
<li><p><code>DT::datatable()</code> gives a web-like interactive table for a sampled dataset for filtering, sorting etc., ensure that <code>DT</code> library is installed, if not use <code>install.packages("DT")</code> function from the previous step;</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample_n</span>(USAGE, <span class="dv">1000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month=</span><span class="fu">as.character</span>(month)) <span class="sc">|&gt;</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-7a22c041a69a8c972973" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7a22c041a69a8c972973">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803","804","805","806","807","808","809","810","811","812","813","814","815","816","817","818","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","834","835","836","837","838","839","840","841","842","843","844","845","846","847","848","849","850","851","852","853","854","855","856","857","858","859","860","861","862","863","864","865","866","867","868","869","870","871","872","873","874","875","876","877","878","879","880","881","882","883","884","885","886","887","888","889","890","891","892","893","894","895","896","897","898","899","900","901","902","903","904","905","906","907","908","909","910","911","912","913","914","915","916","917","918","919","920","921","922","923","924","925","926","927","928","929","930","931","932","933","934","935","936","937","938","939","940","941","942","943","944","945","946","947","948","949","950","951","952","953","954","955","956","957","958","959","960","961","962","963","964","965","966","967","968","969","970","971","972","973","974","975","976","977","978","979","980","981","982","983","984","985","986","987","988","989","990","991","992","993","994","995","996","997","998","999","1000"],[40078,60026,90149,30075,20010,90162,10183,40027,30096,40038,10130,20002,50104,99423,40047,21,40019,90015,40014,40138,40043,50099,50199,50113,70006,90015,40021,70005,90093,8,50183,20175,30006,80003,30019,40037,60024,90229,30088,50052,55311,40026,20,90023,30094,30111,90014,1,90013,80003,21,20,60056,50096,8,18,50029,40042,50117,40009,30013,40022,50024,20071,30026,30027,70014,90147,1,20080,40104,40032,20003,50096,40191,40063,50021,10003,30054,40029,40008,10040,28,90012,20076,60056,30030,50149,20072,1,40019,70012,90023,90306,10014,70018,90087,50005,40244,30007,90001,50042,40037,30009,10004,40146,60011,60056,20204,80011,90010,10130,50003,7,50017,40068,50060,30027,30075,90154,44,50103,90032,50158,30077,50027,50012,60103,70015,30129,3,30112,90091,40108,40158,40027,5,30026,50051,90175,60051,30080,60056,18,30085,90219,60033,40015,40026,90154,40012,30034,40031,60015,50198,90232,30085,40,40027,12,40159,40018,10105,70006,60007,20080,90013,40028,40008,90015,3,30205,90090,60080,30030,60090,40009,50057,40028,70014,70007,60048,7,22,50026,70019,90175,40004,90079,30042,30034,40094,90003,40138,50057,80007,40009,90029,3,40032,40025,90001,10183,50184,10064,90157,90219,70014,50040,40141,90154,40035,90233,70006,30077,40100,90090,10013,50022,50149,90154,50057,90146,60032,40172,90171,10107,90003,90023,60086,50052,60017,80020,90147,40004,50009,10008,40035,20,70035,33,90045,50149,90041,10014,12,90091,50092,90134,20008,50096,34,60007,80011,90121,40008,40093,43,50159,70003,90042,60059,50166,40008,40032,50149,60056,60016,90062,90015,50057,40036,50031,25,10088,50005,50342,90012,60024,40078,50174,60008,90045,50171,50036,40012,40035,90041,30015,2,90030,40244,10002,50015,50027,50118,20003,40044,30022,30019,18,40031,40034,10048,58,1,40074,40100,8,50058,70003,80011,40063,50016,90036,40058,30096,10064,30011,70043,90147,50174,50054,90015,30012,90121,90147,40029,80001,20018,40008,50096,40007,30025,90144,20078,90024,50029,50031,20002,30202,70045,40224,2,90182,40029,20113,90088,40074,20,60016,50174,40056,30205,11,90022,70018,90162,60049,90171,10087,90026,19,30022,50157,30034,40077,70003,60006,40045,40029,50110,50160,40012,50096,10130,70030,90027,60011,50022,90154,30034,80012,20,90154,60091,50010,30083,50026,70010,10066,60048,90023,10005,10050,20196,90029,30085,57,40035,41,40003,90079,50003,40017,40094,50032,90175,50001,20193,40035,20018,90039,40036,90006,20072,90148,30019,90142,30010,90233,40180,40043,50198,44,40025,40191,60090,60108,10066,90010,60010,30022,20196,60011,30030,40063,20018,90026,25,60009,20004,30070,40144,28,19,40040,50119,90121,40138,30019,50117,40228,90031,90017,50209,30040,18,50119,90162,30030,20004,40029,20006,60017,40024,40021,18,20075,3,20,50026,40002,40,60091,70008,60048,40036,30027,20100,10107,40038,40105,40104,20006,90136,20190,10066,10005,50032,50041,90061,90010,40063,80001,80003,90022,20197,70015,10105,50113,40019,60097,50093,60077,40244,30014,50005,50104,20,10086,40003,30112,50171,70010,1,90208,50060,40028,50027,40196,90062,40051,50015,30075,10013,60059,10050,90004,90302,50039,20008,2,30129,24,6,50092,20071,40100,90062,70019,40063,40027,30027,20018,20002,90036,90016,40110,30058,80010,40019,90148,30078,90087,60008,40138,30055,40051,3,40,24,90043,80001,40040,50028,20,47,50034,40032,10045,40077,50001,40008,90002,40017,50060,10048,50003,90013,90093,10066,80001,90147,50159,40003,57,20135,40036,70016,40100,70013,70012,30083,90029,60102,90017,25,30010,90032,90023,10053,90012,70005,10008,40042,90154,30034,40002,50006,60001,70010,10003,30009,1,50044,30077,50025,90214,40004,50154,40077,5,80016,43,20084,50006,30202,30072,40104,90045,40094,40031,30019,80009,50003,10003,40147,90061,40077,20113,30055,40041,50160,20008,50040,30076,50171,50043,20072,10102,70019,20002,20135,20082,50103,40051,40023,10014,60101,30019,30025,60111,60016,30057,99423,50015,50010,90002,90091,80001,40040,40035,50211,20005,50110,90022,10064,10087,60097,57,30036,90157,30074,40022,40073,70041,80008,90001,80009,50104,90200,70035,90161,1,40063,60095,50119,10006,50009,50171,50104,40037,60068,90036,50016,50182,60049,50053,90182,44929,40051,50035,60062,10055,50003,30027,40082,90159,40003,50118,40080,40172,40001,20075,30074,40040,70048,40047,40180,18,40,3,40053,50022,40171,30083,50058,20188,60077,50009,70006,20003,10118,80005,50148,50037,40171,40078,10183,40042,90062,50039,40128,40094,90157,90022,22,80001,50148,50148,90147,60019,50010,20004,40027,20006,50015,90016,90012,40053,60051,40040,16,50032,30014,90095,40078,40093,50165,2,50051,20076,90016,20192,40028,90062,10115,30022,41199,10005,60006,90091,30027,40138,30078,10086,90302,90092,40009,90013,90162,30006,90091,50091,60134,8,40008,30015,29,40046,90050,90140,20018,60130,40043,50032,30051,30075,30022,40051,90015,50184,80012,40105,20203,40078,40108,50149,7,50001,30202,50021,10005,376,30083,40021,30091,60025,10006,11,40047,90136,10049,10001,30083,10183,90208,50058,30072,30083,29,40034,70014,10066,70010,60068,40031,40029,90092,50176,50017,70014,50157,90023,70045,80001,10056,40057,30012,80012,99424,30027,50118,90078,18,30014,10003,20080,50154,20080,30019,40053,50141,90092,90157,10088,60008,40027,91092,90036,40100,20080,30012,16,70030,90022,20008,40068,90017,99423,50039,50146,30080,90026,50039,90079,60062,30007,50033,30013,40128,18,20080,50044,40040,50026,40141,50051,30001,60111,40036,30096,10115,90015,90008,30073,50053,50176,50032,30019,20008,40080,50057,20018,70005,60048,20178,40141,10053,50028,40224,90033,90030,30072,90156,80004,80011,40191,30019,50045,8,40028,40074,50039,30026,80001,40015,50016,2,90026,60008,40022,7,90026,90031,40051,50032,20096,28,60111,20100,50017,40056,40023,10014,90087,70271,80001,70008,90019,70035,90175,10003,28,50021,20078,50027,90043,30034,40043,40012,10003,70044,40101,50522,10004,50028,30087,40008],["Cobb County","City of Monroe","City of Lompoc","Delaware Transit Corporation","Dutchess County","The Eastern Contra Costa Transit Authority","Woods Hole, Martha's Vineyard and Nantucket Steamship Authority","Pinellas Suncoast Transit Authority","The Tri-County Council for the Lower Eastern Shore of Maryland","Escambia County Board of County Commissioners, FL","Connecticut Department of Transportation -CTTRANSIT New Britain","Capital District Transportation Authority","Northern Indiana Commuter Transportation District","City of Glendale","Athens-Clarke County Unified Government","Whatcom Transportation Authority","Transit Authority of Northern Kentucky","City and County of San Francisco","Ms Coast Transportation Authority","Gwinnett County Board of Commissioners","City of Mobile","City of Eau Claire","Delaware County Transit Board","Pace, the Suburban Bus Division of the Regional Transportation Authority","Bi-State Development Agency of the Missouri-Illinois Metropolitan District","City and County of San Francisco","City of Albany","Kansas City Area Transportation Authority","Redding Area Bus Authority","Tri-County Metropolitan Transportation District of Oregon","City of Valparaiso","Private Transportation Corporation","Greater Richmond Transit Company","City of Fargo","Southeastern Pennsylvania Transportation Authority","Board of County Commissioners, Palm Beach County","City of Shreveport","El Dorado County Transit Authority","County Commissioners of Charles County, MD","South Bend Public Transportation Corporation","City of Cincinnati","Manatee County Board of County Commissioners","Kitsap County Public Transportation Benefit Area Authority","Long Beach Transit","City of Harrisonburg","Washington County Transportation Authority","Alameda-Contra Costa Transit District","King County","Santa Clara Valley Transportation Authority","City of Fargo","Whatcom Transportation Authority","Kitsap County Public Transportation Benefit Area Authority","Dallas Area Rapid Transit","City of Waukesha","Tri-County Metropolitan Transportation District of Oregon","Ben Franklin Transit","Bay Metropolitan Transit Authority","Birmingham-Jefferson County Transit Authority","Laketran","City of Fayetteville","Erie Metropolitan Transit Authority","Metropolitan Atlanta Rapid Transit Authority","Western Reserve Transit Authority","Town of Huntington","River Valley Transit Authority","Central Pennsylvania Transportation Authority","Topeka Metropolitan Transit Authority","City of Los Angeles","King County","New Jersey Transit Corporation","Indian River County","County of Volusia","Broome County","City of Waukesha","Transit Authority of Central Kentucky","Brevard Board of County Commissioners","Portage Area Regional Transportation Authority","Massachusetts Bay Transportation Authority","Centre Area Transportation Authority","Broward County Board of County Commissioners","City of Charlotte North Carolina","Southeast Area Transit District","County of Pierce","San Joaquin Regional Transit District","Westchester County","Dallas Area Rapid Transit","Washington Metropolitan Area Transit Authority","Michiana Area Council of Governments","Suffolk County","King County","Transit Authority of Northern Kentucky","City of Sioux City","Long Beach Transit","Stanislaus Regional Transit Authority","Worcester Regional Transit Authority","City of Iowa City","City of Santa Maria","City of Madison","Spartanburg Regional Health Services, Inc.","Greater Roanoke Transit Company","Regional Transportation Commission of Washoe County","City of East Chicago","Board of County Commissioners, Palm Beach County","City of Petersburg","Brockton Area Transit Authority","Hernando County Board of County Commissioners","VIA Metropolitan Transit","Dallas Area Rapid Transit","Senior Citizens United Community Services of Camden County, Inc.","City of Fort Collins","City of Torrance","Connecticut Department of Transportation -CTTRANSIT New Britain","City of Kenosha","Lane Transit District","Greater Dayton Regional Transit Authority","Northwest Alabama Council of Local Governments","Champaign-Urbana Mass Transit District","Central Pennsylvania Transportation Authority","Delaware Transit Corporation","Los Angeles County Metropolitan Transportation Authority","Skagit Transit","North Township of Lake County","City of Phoenix","University of Michigan Parking and Transportation Services","Borough of Pottstown","Metro Transit","Southwest Ohio Regional Transit Authority","Fort Bend County, Texas","City of Wichita","Anne Arundel County","Pierce County Transportation Benefit Area Authority","District Department of Transportation","City of Visalia","Research Triangle Regional Public Transportation Authority","Lake County Board of County Commissioners","Pinellas Suncoast Transit Authority","City of Everett","River Valley Transit Authority","Greater Lafayette Public Transportation Corporation","City of Lodi","Corpus Christi Regional Transportation Authority","Arlington County, Virginia","Dallas Area Rapid Transit","Ben Franklin Transit","Prince George's County, Maryland","Northern Arizona Intergovernmental Public Transportation Authority","Rock Region Metropolitan Transit Authority","City of Jackson, MS","Manatee County Board of County Commissioners","Los Angeles County Metropolitan Transportation Authority","City of Winston Salem","Maryland Transit Administration","Lakeland Area Mass Transit District","City of Galveston","Medina County","Solano County Transit","Prince George's County, Maryland","Central Puget Sound Regional Transit Authority","Pinellas Suncoast Transit Authority","Municipality of Anchorage","Regional Transportation Authority","Transit Authority of River City","Cape Cod Regional Transit Authority","Bi-State Development Agency of the Missouri-Illinois Metropolitan District","Fort Worth Transportation Authority","New Jersey Transit Corporation","Santa Clara Valley Transportation Authority","Lee County","City of Charlotte North Carolina","City and County of San Francisco","Pierce County Transportation Benefit Area Authority","Transit Management of Central Maryland, Inc.","Yolo County Transportation District","Terrebonne Parish Consolidated Government","Washington Metropolitan Area Transit Authority","Lower Rio Grande Valley Development Council","City of Fayetteville","Rock Island County Metropolitan Mass Transit District","Lee County","Topeka Metropolitan Transit Authority","City of Bettendorf","Capital Metropolitan Transportation Authority","Lane Transit District","City of Pocatello","City of Moorhead","University of Iowa","City of Lodi","Metropolitan Transit Authority","SunLine Transit Agency","Washington County","Maryland Transit Administration","Alternativa de Transporte Integrado","San Francisco Bay Area Rapid Transit District","Gwinnett County Board of Commissioners","Rock Island County Metropolitan Mass Transit District","City of Pueblo","City of Fayetteville","Omnitrans","Pierce County Transportation Benefit Area Authority","County of Volusia","Chatham Area Transit Authority","Regional Transportation Commission of Washoe County","Woods Hole, Martha's Vineyard and Nantucket Steamship Authority","Macatawa Area Express Transportation Authority","Greater Attleboro-Taunton Regional Transit Authority","Access Services","Northern Arizona Intergovernmental Public Transportation Authority","Topeka Metropolitan Transit Authority","Ann Arbor Area Transportation Authority","Central Midlands Regional Transportation Authority","Los Angeles County Metropolitan Transportation Authority","Central Florida Regional Transportation Authority","Yuma County Intergovernmental Public Transportation Authority","Bi-State Development Agency of the Missouri-Illinois Metropolitan District","Borough of Pottstown","Santee Wateree Regional Transportation Authority","Yolo County Transportation District","Merrimack Valley Regional Transit Authority","Toledo Area Regional Transit Authority","Michiana Area Council of Governments","Los Angeles County Metropolitan Transportation Authority","Rock Island County Metropolitan Mass Transit District","Foothill Transit","New Orleans Regional Transit Authority","Western Piedmont Regional Transit Authority","City of Santa Clarita","Milford Transit District","San Francisco Bay Area Rapid Transit District","Long Beach Transit","City of Fort Smith","South Bend Public Transportation Corporation","Central Oklahoma Transportation and Parking Authority","The City of Cheyenne","City of Los Angeles","Metropolitan Transit Authority","City of Oshkosh, Wisconsin","Pioneer Valley Transit Authority","Central Florida Regional Transportation Authority","Kitsap County Public Transportation Benefit Area Authority","Johnson County Kansas","Senior Services of Snohomish County","Regional Transportation Commission of Southern Nevada","Michiana Area Council of Governments","City of Montebello","Worcester Regional Transit Authority","Municipality of Anchorage","City of Visalia","City of Rochester, Minnesota","Peninsula Corridor Joint Powers Board","MTA New York City Transit","City of Waukesha","Rogue Valley Transportation District","Fort Worth Transportation Authority","City of Fort Collins","Antelope Valley Transit Authority","City of Charlotte North Carolina","City of Greensboro","Chelan Douglas PTBA","River Valley Metro Mass Transit District","City of Springfield","City of Gardena","Brazos Transit District","Clermont County, Ohio","City of Charlotte North Carolina","County of Volusia","Michiana Area Council of Governments","Dallas Area Rapid Transit","City of Beaumont","Monterey-Salinas Transit","City and County of San Francisco","Rock Island County Metropolitan Mass Transit District","City of Tallahassee","Suburban Mobility Authority for Regional Transportation","Salem Area Mass Transit District","Casco Bay Island Transit District","City of Madison","Hendricks County Sycamore Services","San Joaquin Regional Transit District","City of Shreveport","Cobb County","City of Danville","Metropolitan Transit Authority of Harris County, Texas","Regional Transportation Commission of Southern Nevada","Fond du Lac, Wisconsin","Capital Area Transportation Authority","City of Winston Salem","Central Florida Regional Transportation Authority","City of Montebello","Luzerne County Transportation Authority","Spokane Transit Authority","North County Transit District","Spartanburg Regional Health Services, Inc.","Manchester Transit Authority","The Greater Cleveland Regional Transit Authority","Metro Transit","Northeast Illinois Regional Commuter Railroad Corporation","Broome County","City of Montgomery","Pittsburgh Regional Transit","Southeastern Pennsylvania Transportation Authority","Ben Franklin Transit","Lakeland Area Mass Transit District","County of Miami-Dade","Connecticut Department of Transportation - CTTRANSIT - Hartford Division","City of Portland","King County","Pasco County Board of County Commissioners","Santee Wateree Regional Transportation Authority","Tri-County Metropolitan Transportation District of Oregon","Rockford Mass Transit District","City of Springfield","City of Fort Collins","Brevard Board of County Commissioners","Central Ohio Transit Authority","Orange County Transportation Authority","City of Rome","The Tri-County Council for the Lower Eastern Shore of Maryland","Greater Attleboro-Taunton Regional Transit Authority","Altoona Metro Transit","City of Jefferson","City of Los Angeles","City of Danville","Muncie Indiana Transit System","City and County of San Francisco","Cambria County Transit Authority","Antelope Valley Transit Authority","City of Los Angeles","Broward County Board of County Commissioners","Utah Transit Authority","Central New York Regional Transportation Authority","City of Charlotte North Carolina","City of Waukesha","City of Raleigh","County of Lackawanna Transit System","Livermore / Amador Valley Transit Authority","Metro-North Commuter Railroad Company, dba: MTA Metro-North Railroad","City of La Mirada","Bay Metropolitan Transit Authority","Suburban Mobility Authority for Regional Transportation","Capital District Transportation Authority","South Central Transit Authority","County of Johnson, Iowa","Buncombe County","Spokane Transit Authority","Altamont Corridor Express","Broward County Board of County Commissioners","Regional Transit Service","Napa Valley Transportation Authority","Pasco County Board of County Commissioners","Kitsap County Public Transportation Benefit Area Authority","City of Beaumont","City of Danville","Pee Dee Regional Transportation Authority","Transit Management of Central Maryland, Inc.","Valley Regional Transit","City of Norwalk","City of Iowa City","The Eastern Contra Costa Transit Authority","City of Las Cruces NM","City of Santa Clarita","City of Nashua","San Diego Metropolitan Transit System","Intercity Transit","Pittsburgh Regional Transit","Butler County Regional Transit Authority","Maryland Transit Administration","South Florida Regional Transportation Authority","City of Springfield","City of El Paso","Tuscaloosa County Parking and Transit Authority","Broward County Board of County Commissioners","Bloomington Public Transportation Corporation","County of Washington","City of Winston Salem","City of Waukesha","Connecticut Department of Transportation -CTTRANSIT New Britain","City of Coralville","City of Fresno","VIA Metropolitan Transit","Toledo Area Regional Transit Authority","Los Angeles County Metropolitan Transportation Authority","Maryland Transit Administration","Great Falls Transit District","Kitsap County Public Transportation Benefit Area Authority","Los Angeles County Metropolitan Transportation Authority","Hill Country Transit District","METRO Regional Transit Authority","Transportation District Commission of Hampton Roads","City of Moorhead","Des Moines Area Regional Transit Authority","Green Mountain Transit Authority","Capital Metropolitan Transportation Authority","Long Beach Transit","Lowell Regional Transit Authority","Greater Bridgeport Transit Authority","Middlesex County","Omnitrans","Prince George's County, Maryland","Central Oregon Intergovernmental Council","Central Florida Regional Transportation Authority","Alaska Railroad Corporation","City of Memphis","SunLine Transit Agency","City of Kenosha","Lexington Transit Authority","Alternativa de Transporte Integrado","Mass Transportation Authority","City of Lodi","City of Appleton","Cumberland County","Central Florida Regional Transportation Authority","Central New York Regional Transportation Authority","City of Culver City","City of Tallahassee","Santa Cruz Metropolitan Transit District","Suffolk County","Victor Valley Transit Authority","Southeastern Pennsylvania Transportation Authority","University of California, Davis","Lehigh and Northampton Transportation Authority","Yuma County Intergovernmental Public Transportation Authority","University of Georgia","City of Mobile","Medina County","Skagit Transit","Chatham Area Transit Authority","Transit Authority of Central Kentucky","Lower Rio Grande Valley Development Council","Harris County","Green Mountain Transit Authority","City of Torrance","City of Lubbock","Pittsburgh Regional Transit","Middlesex County","VIA Metropolitan Transit","Washington Metropolitan Area Transit Authority","Brevard Board of County Commissioners","Central New York Regional Transportation Authority","San Diego Metropolitan Transit System","Salem Area Mass Transit District","City of Laredo","Niagara Frontier Transportation Authority","Potomac and Rappahannock Transportation Commission","City of Gainesville","County of Pierce","Intercity Transit","Jacksonville Transportation Authority","City of Detroit","Antelope Valley Transit Authority","Gwinnett County Board of Commissioners","Southeastern Pennsylvania Transportation Authority","Laketran","Mecklenburg County","Riverside Transit Agency","City of Santa Rosa","Central Indiana Regional Transportation Authority","City of Annapolis","Ben Franklin Transit","City of Detroit","The Eastern Contra Costa Transit Authority","Washington Metropolitan Area Transit Authority","Niagara Frontier Transportation Authority","Broward County Board of County Commissioners","City of Long Beach","Central Oklahoma Transportation and Parking Authority","Columbus Consolidated Government","City of Albany","Ben Franklin Transit","Port Authority Transit Corporation","Pierce County Transportation Benefit Area Authority","Kitsap County Public Transportation Benefit Area Authority","City of Moorhead","City of Knoxville","Central Puget Sound Regional Transit Authority","Hill Country Transit District","City of Cedar Rapids","Capital Metropolitan Transportation Authority","City of Tallahassee","Central Pennsylvania Transportation Authority","MTA Long Island Rail Road","Milford Transit District","Escambia County Board of County Commissioners, FL","Puerto Rico Highway and Transportation Authority – Público","Indian River County","City of Long Beach","Regional Public Transportation Authority","Port Imperial Ferry Corporation","Green Mountain Transit Authority","Lowell Regional Transit Authority","Mass Transportation Authority","City of Anderson","Yuba-Sutter Transit Authority","City of Torrance","Brevard Board of County Commissioners","Utah Transit Authority","City of Fargo","City of Norwalk","Meadowlands Transportation Brokerage Corporation","City of Wichita","Cape Cod Regional Transit Authority","Pace, the Suburban Bus Division of the Regional Transportation Authority","Transit Authority of Northern Kentucky","Midland-Odessa Urban Transit District","Lima Allen County Regional Transit Authority","City of Santa Fe","Spartanburg Regional Health Services, Inc.","Cumberland Dauphin-Harrisburg Transit Authority","City of Madison","Northern Indiana Commuter Transportation District","Kitsap County Public Transportation Benefit Area Authority","Cooperative Alliance for Seacoast Transportation","City of Memphis","District Department of Transportation","Fond du Lac, Wisconsin","Des Moines Area Regional Transit Authority","King County","Butte County Association of Governments","Champaign-Urbana Mass Transit District","Lee County","Metro Transit","Kentuckiana Regional Planning and Development Agency","Monterey-Salinas Transit","Town of Chapel Hill","The Greater Cleveland Regional Transit Authority","Delaware Transit Corporation","Merrimack Valley Regional Transit Authority","Brazos Transit District","Greater Bridgeport Transit Authority","Golden Empire Transit District","San Bernardino County Transportation Authority","Saginaw Transit Authority Regional Service","MTA New York City Transit","Spokane Transit Authority","Anne Arundel County","Clark County Public Transportation Benefit Area Authority","City of Yakima","City of Rochester, Minnesota","Town of Huntington","Santee Wateree Regional Transportation Authority","Monterey-Salinas Transit","University of Iowa","Brevard Board of County Commissioners","Pinellas Suncoast Transit Authority","Central Pennsylvania Transportation Authority","Central New York Regional Transportation Authority","Capital District Transportation Authority","Orange County Transportation Authority","Golden Gate Bridge, Highway and Transportation District","Charleston Area Regional Transportation Authority","City of Fairfax","Greeley, City Of","Transit Authority of Northern Kentucky","Victor Valley Transit Authority","Southwestern Pennsylvania Commission","City of Santa Maria","Metropolitan Transit Authority of Harris County, Texas","Gwinnett County Board of Commissioners","Mercer County Regional Council of Governments","Town of Chapel Hill","Pierce County Transportation Benefit Area Authority","Central Puget Sound Regional Transit Authority","Clark County Public Transportation Benefit Area Authority","City of Commerce","Utah Transit Authority","Jacksonville Transportation Authority","St. Cloud Metropolitan Transit Commission","Kitsap County Public Transportation Benefit Area Authority","City of Corvallis","City of Jackson Transportation Authority","County of Volusia","Connecticut Department of Transportation - CTTransit New Britain -Dattco.","South Florida Regional Transportation Authority","City of Appleton","City of Charlotte North Carolina","City and County of Honolulu","Lexington Transit Authority","Champaign-Urbana Mass Transit District","Connecticut Department of Transportation - CTTRANSIT - Hartford Division","City of Kenosha","Santa Clara Valley Transportation Authority","Redding Area Bus Authority","Green Mountain Transit Authority","Utah Transit Authority","City of Los Angeles","River Valley Metro Mass Transit District","City of Memphis","Central Oregon Intergovernmental Council","Monsey New Square Trails Corporation","City of Tallahassee","City of Columbia","Santee Wateree Regional Transportation Authority","Metropolitan Transit Authority of Black Hawk County","City of Sioux City","Transportation District Commission of Hampton Roads","Omnitrans","Concho Valley Transit District","City of Santa Rosa","Salem Area Mass Transit District","Lehigh and Northampton Transportation Authority","City of Phoenix","Long Beach Transit","Cape Ann Transportation Authority","San Joaquin Regional Transit District","Kansas City Area Transportation Authority","Pioneer Valley Transit Authority","Birmingham-Jefferson County Transit Authority","Los Angeles County Metropolitan Transportation Authority","Maryland Transit Administration","City of Knoxville","City of Racine, Wisconsin","City of Amarillo","Des Moines Area Regional Transit Authority","Massachusetts Bay Transportation Authority","City of Petersburg","King County","Fort Wayne Public Transportation Corporation","Borough of Pottstown","Duluth Transit Authority","City of Redondo Beach","Metropolitan Transit Authority","Metropolitan Council","South Florida Regional Transportation Authority","City of Everett","County of Mesa","Chelan Douglas PTBA","County of Rockland","City of Racine, Wisconsin","South Central Transit Authority","Frederick County, Maryland","Indian River County","Regional Transportation Commission of Southern Nevada","Alternativa de Transporte Integrado","Lakeland Area Mass Transit District","Southeastern Pennsylvania Transportation Authority","Missoula Urban Transportation District","City of Kenosha","Massachusetts Bay Transportation Authority","North Carolina State University","Yuba-Sutter Transit Authority","South Florida Regional Transportation Authority","Regional Transit Service","Mercer County Regional Council of Governments","Hillsborough Area Regional Transit Authority","County of Washington","MTA New York City Transit","Ann Arbor Area Transportation Authority","Williamsburg Area Transit Authority","Fond du Lac, Wisconsin","City of Evansville","Suffolk County","Connecticut Department of Transportation","University of Iowa","Capital District Transportation Authority","Monsey New Square Trails Corporation","New York City Department of Transportation","North Township of Lake County","Town of Chapel Hill","Augusta Richmond County Transit Department","Worcester Regional Transit Authority","Denton County Transportation Authority","Southeastern Pennsylvania Transportation Authority","County of Lackawanna Transit System","Rio Metro Regional Transit District","City of Beaumont","Pennsylvania Department of Transportation","City of Glendale","The Greater Cleveland Regional Transit Authority","METRO Regional Transit Authority","City and County of Honolulu","City of Visalia","Utah Transit Authority","Jacksonville Transportation Authority","Central Florida Regional Transportation Authority","Rides Mass Transit District","Chemung County","Bloomington Public Transportation Corporation","City of Norwalk","Greater Attleboro-Taunton Regional Transit Authority","City of Nashua","Midland-Odessa Urban Transit District","Central Oregon Intergovernmental Council","City of Charlottesville","Access Services","Harford County Maryland","Metropolitan Atlanta Rapid Transit Authority","Lee-Russell Council of Governments","Ames Transit Agency","City of Grand Forks","Regional Transportation Commission of Washoe County","Missoula Urban Transportation District","Northern Indiana Commuter Transportation District","Kings County Area Public Transit Agency","Johnson County Kansas","City of Union City","King County","Brevard Board of County Commissioners","Golden Crescent Regional Planning Commission","City of Detroit","Southeastern Regional Transit Authority","City of Oshkosh, Wisconsin","Fond du Lac, Wisconsin","Northern Indiana Commuter Transportation District","Board of County Commissioners, Palm Beach County","City of Grand Prairie","Orange County Transportation Authority","Central Ohio Transit Authority","Pace, the Suburban Bus Division of the Regional Transportation Authority","City of Las Cruces NM","City of Terre Haute","Altamont Corridor Express","City of Fort Lauderdale","Town of Chapel Hill","Central County Transportation Authority","University of Arkansas, Fayetteville","Connecticut Department of Transportation - CTTRANSIT New Haven Division","City of Kenosha","Central Pennsylvania Transportation Authority","County of Douglas","Western Contra Costa Transit Authority","City of Memphis","Northeast Illinois Regional Commuter Railroad Corporation","City of Kingsport","Western Piedmont Regional Transit Authority","Chattanooga Area Regional Transportation Authority","Port Authority Transit Corporation","Harford County Maryland","Jacksonville Transportation Authority","City of Lawrence","Athens-Clarke County Unified Government","University of Georgia","Ben Franklin Transit","Central Puget Sound Regional Transit Authority","Pierce County Transportation Benefit Area Authority","Greenville Transit Authority","Toledo Area Regional Transit Authority","Knoxville-Knox County Community Action Committee","Transportation District Commission of Hampton Roads","Rockford Mass Transit District","MTA Bus Company","City of Santa Fe","City of Oshkosh, Wisconsin","Bi-State Development Agency of the Missouri-Illinois Metropolitan District","Broome County","MetroWest Regional Transit Authority","City of Colorado Springs","Blue Water Area Transportation Commission","County of Muskegon","Knoxville-Knox County Community Action Committee","Cobb County","Woods Hole, Martha's Vineyard and Nantucket Steamship Authority","Birmingham-Jefferson County Transit Authority","Monterey-Salinas Transit","Saginaw Transit Authority Regional Service","Okaloosa County Board of County Commissioners","Alternativa de Transporte Integrado","Access Services","City of Norwalk","City of Pocatello","Utah Transit Authority","Blue Water Area Transportation Commission","Blue Water Area Transportation Commission","City of Los Angeles","City of Albuquerque","METRO Regional Transit Authority","Niagara Frontier Transportation Authority","Pinellas Suncoast Transit Authority","City of Long Beach","The Greater Cleveland Regional Transit Authority","Golden Gate Bridge, Highway and Transportation District","San Joaquin Regional Transit District","Greenville Transit Authority","Corpus Christi Regional Transportation Authority","Jacksonville Transportation Authority","City of Longview","Mass Transportation Authority","Cumberland Dauphin-Harrisburg Transit Authority","San Diego Association of Governments","Cobb County","City of Greensboro","Greene County Transit Board","Spokane Transit Authority","Greater Lafayette Public Transportation Corporation","Westchester County","Golden Gate Bridge, Highway and Transportation District","Bergen County","Lee County","Monterey-Salinas Transit","Northern New England Passenger Rail Authority","Pittsburgh Regional Transit","Board of County Commissioners of St. Lucie County","Lowell Regional Transit Authority","City of El Paso","City of Visalia","Central Pennsylvania Transportation Authority","Gwinnett County Board of Commissioners","Southwestern Pennsylvania Commission","Cooperative Alliance for Seacoast Transportation","San Bernardino County Transportation Authority","City of Fairfield, California","City of Fayetteville","Santa Clara Valley Transportation Authority","The Eastern Contra Costa Transit Authority","Greater Richmond Transit Company","City of Visalia","City of Wausau, Wisconsin","The Woodlands Township","Tri-County Metropolitan Transportation District of Oregon","City of Charlotte North Carolina","Luzerne County Transportation Authority","Snohomish County Public Transportation Benefit Area Corporation","Sarasota County","City of Simi Valley","City of Peoria","Central New York Regional Transportation Authority","Alamo Area Council of Governments","City of Mobile","Mass Transportation Authority","Montgomery County, Maryland","Delaware Transit Corporation","Pittsburgh Regional Transit","Town of Chapel Hill","City and County of San Francisco","Macatawa Area Express Transportation Authority","Great Falls Transit District","Puerto Rico Highway and Transportation Authority – Público","Cape May County","Cobb County","Research Triangle Regional Public Transportation Authority","Michiana Area Council of Governments","Lane Transit District","City of Appleton","South Central Transit Authority","Portage Area Regional Transportation Authority","Lowell Regional Transit Authority","Ride Connection, Inc.","Transportation District Commission of Hampton Roads","City of Albany","Town of Blacksburg","City of Alexandria","Southeastern Regional Transit Authority","Valley Regional Transit","Athens-Clarke County Unified Government","Regional Public Transportation Authority","Greater New Haven Transit District","Rhode Island Public Transit Authority","Transportation District Commission of Hampton Roads","Woods Hole, Martha's Vineyard and Nantucket Steamship Authority","Butte County Association of Governments","Rockford Mass Transit District","Frederick County, Maryland","Transportation District Commission of Hampton Roads","Snohomish County Public Transportation Benefit Area Corporation","County of Miami-Dade","Topeka Metropolitan Transit Authority","Green Mountain Transit Authority","Des Moines Area Regional Transit Authority","City of Grand Prairie","Lakeland Area Mass Transit District","Broward County Board of County Commissioners","City of Fairfield, California","City of DeKalb","Greater Dayton Regional Transit Authority","Topeka Metropolitan Transit Authority","Butler County Regional Transit Authority","Long Beach Transit","County of Johnson, Iowa","Utah Transit Authority","Connecticut Department of Transportation - CTTRANSIT Stamford Division","Jackson Transit Authority","Cambria County Transit Authority","Great Falls Transit District","City of Pasadena","Central Pennsylvania Transportation Authority","Northeast Illinois Regional Commuter Railroad Corporation","Central Contra Costa Transit Authority","Ben Franklin Transit","Cumberland Dauphin-Harrisburg Transit Authority","Massachusetts Bay Transportation Authority","New Jersey Transit Corporation","Metropolitan Council","New Jersey Transit Corporation","Southeastern Pennsylvania Transportation Authority","Greenville Transit Authority","Detroit Transportation Corporation","City of Fairfield, California","Access Services","Casco Bay Island Transit District","Metropolitan Transit Authority of Harris County, Texas","Pinellas Suncoast Transit Authority","Tahoe Transportation District","Orange County Transportation Authority","Santee Wateree Regional Transportation Authority","New Jersey Transit Corporation","Cambria County Transit Authority","City of Longview","City of Coralville","City of Norwalk","MTA New York City Transit","Northwest Alabama Council of Local Governments","City of Santa Rosa","City of Glendale","Saginaw Transit Authority Regional Service","Madison County Transit District","Arlington County, Virginia","San Diego Metropolitan Transit System","Saginaw Transit Authority Regional Service","SunLine Transit Agency","University of Arkansas, Fayetteville","Greater Roanoke Transit Company","Interurban Transit Partnership","Erie Metropolitan Transit Authority","Okaloosa County Board of County Commissioners","Ben Franklin Transit","New Jersey Transit Corporation","Fort Wayne Public Transportation Corporation","Jacksonville Transportation Authority","City of Moorhead","Central Midlands Regional Transportation Authority","Greater Lafayette Public Transportation Corporation","Kanawha Valley Regional Transportation Authority","Rio Metro Regional Transit District","City of Tallahassee","The Tri-County Council for the Lower Eastern Shore of Maryland","Northern New England Passenger Rail Authority","City and County of San Francisco","City of Santa Monica","Virginia Railway Express","City of Terre Haute","City of DeKalb","Mass Transportation Authority","Southeastern Pennsylvania Transportation Authority","MTA New York City Transit","City of Kingsport","Rock Island County Metropolitan Mass Transit District","Central New York Regional Transportation Authority","Kansas City Area Transportation Authority","Capital Metropolitan Transportation Authority","Ulster County","Central Midlands Regional Transportation Authority","Cape Ann Transportation Authority","St. Cloud Metropolitan Transit Commission","Buncombe County","City of Tucson","North County Transit District","Frederick County, Maryland","City of San Luis Obispo","City of Billings","City of Fort Collins","Transit Authority of Central Kentucky","Southeastern Pennsylvania Transportation Authority","Gary Public Transportation Corporation","Tri-County Metropolitan Transportation District of Oregon","Lee County","Pasco County Board of County Commissioners","Saginaw Transit Authority Regional Service","River Valley Transit Authority","Utah Transit Authority","City of Jackson, MS","Central Ohio Transit Authority","Spokane Transit Authority","San Diego Metropolitan Transit System","Metropolitan Transit Authority of Harris County, Texas","Metropolitan Atlanta Rapid Transit Authority","Lane Transit District","San Diego Metropolitan Transit System","Riverside Transit Agency","Town of Chapel Hill","Mass Transportation Authority","Putnam County","County of Pierce","Rio Metro Regional Transit District","MTA Long Island Rail Road","Greater Dayton Regional Transit Authority","Pee Dee Regional Transportation Authority","Augusta Richmond County Transit Department","Worcester Regional Transit Authority","City of Santa Maria","Kansas City, City of Missouri","Utah Transit Authority","City of Cedar Rapids","Sacramento Regional Transit District","Johnson County Kansas","City of Lodi","Massachusetts Bay Transportation Authority","County of Pierce","Portage Area Regional Transportation Authority","Metro-North Commuter Railroad Company, dba: MTA Metro-North Railroad","Metro Transit","City of Commerce","Maryland Transit Administration","City of Mobile","City of Winston Salem","Massachusetts Bay Transportation Authority","University of Kansas","City of Spartanburg South Carolina","Lake Erie Transportation Commission","Brockton Area Transit Authority","St. Cloud Metropolitan Transit Commission","County of Fayette","City of Charlotte North Carolina"],["Atlanta, GA","Monroe, LA","Lompoc, CA","Philadelphia, PA--NJ--DE--MD","Poughkeepsie--Newburgh, NY","Antioch, CA","Barnstable Town, MA","Tampa--St. Petersburg, FL","Salisbury, MD--DE","Pensacola, FL--AL","Hartford, CT","Albany--Schenectady, NY","Chicago, IL--IN","Los Angeles--Long Beach--Anaheim, CA","Athens-Clarke County, GA","Bellingham, WA","Cincinnati, OH--KY","San Francisco--Oakland, CA","Gulfport--Biloxi, MS","Atlanta, GA","Mobile, AL","Eau Claire, WI","Columbus, OH","Chicago, IL--IN","St. Louis, MO--IL","San Francisco--Oakland, CA","Albany, GA","Kansas City, MO--KS","Redding, CA","Portland, OR--WA","Valparaiso--Shorewood Forest, IN","New York--Jersey City--Newark, NY--NJ","Richmond, VA","Fargo, ND--MN","Philadelphia, PA--NJ--DE--MD","Miami--Fort Lauderdale, FL","Shreveport, LA","Sacramento, CA","Waldorf, MD","South Bend, IN--MI","Cincinnati, OH--KY","Bradenton--Sarasota--Venice, FL","Bremerton, WA","Los Angeles--Long Beach--Anaheim, CA","Harrisonburg, VA","Pittsburgh, PA","San Francisco--Oakland, CA","Seattle--Tacoma, WA","San Jose, CA","Fargo, ND--MN","Bellingham, WA","Bremerton, WA","Dallas--Fort Worth--Arlington, TX","Milwaukee, WI","Portland, OR--WA","Kennewick--Richland--Pasco, WA","Bay City, MI","Birmingham, AL","Cleveland, OH","Fayetteville, NC","Erie, PA","Atlanta, GA","Youngstown, OH","New York--Jersey City--Newark, NY--NJ","Williamsport, PA","York, PA","Topeka, KS","Los Angeles--Long Beach--Anaheim, CA","Seattle--Tacoma, WA","New York--Jersey City--Newark, NY--NJ","Vero Beach--Sebastian, FL","Daytona Beach--Palm Coast--Port Orange, FL","Binghamton, NY","Milwaukee, WI","Elizabethtown--Radcliff, KY","Palm Bay--Melbourne, FL","Akron, OH","Boston, MA--NH","State College, PA","Miami--Fort Lauderdale, FL","Charlotte, NC--SC","Norwich--New London, CT","Seattle--Tacoma, WA","Stockton, CA","New York--Jersey City--Newark, NY--NJ","Dallas--Fort Worth--Arlington, TX","Washington--Arlington, DC--VA--MD","Elkhart, IN--MI","New York--Jersey City--Newark, NY--NJ","Seattle--Tacoma, WA","Cincinnati, OH--KY","Sioux City, IA--NE--SD","Los Angeles--Long Beach--Anaheim, CA","Modesto, CA","Worcester, MA--CT","Iowa City, IA","Santa Maria, CA","Madison, WI","Spartanburg, SC","Roanoke, VA","Reno, NV--CA","Chicago, IL--IN","Miami--Fort Lauderdale, FL","Richmond, VA","Boston, MA--NH","Spring Hill, FL","San Antonio, TX","Dallas--Fort Worth--Arlington, TX","Philadelphia, PA--NJ--DE--MD","Fort Collins, CO","Los Angeles--Long Beach--Anaheim, CA","Hartford, CT","Kenosha, WI","Eugene, OR","Dayton, OH","Florence, AL","Champaign, IL","York, PA","Philadelphia, PA--NJ--DE--MD","Los Angeles--Long Beach--Anaheim, CA","Mount Vernon, WA","Chicago, IL--IN","Phoenix--Mesa--Scottsdale, AZ","Ann Arbor, MI","Philadelphia, PA--NJ--DE--MD","Minneapolis--St. Paul, MN","Cincinnati, OH--KY","Houston, TX","Wichita, KS","Baltimore, MD","Seattle--Tacoma, WA","Washington--Arlington, DC--VA--MD","Visalia, CA","Durham, NC","Leesburg--Eustis--Tavares, FL","Tampa--St. Petersburg, FL","Seattle--Tacoma, WA","Williamsport, PA","Lafayette, IN","Lodi, CA","Corpus Christi, TX","Washington--Arlington, DC--VA--MD","Dallas--Fort Worth--Arlington, TX","Kennewick--Richland--Pasco, WA","Washington--Arlington, DC--VA--MD","Flagstaff, AZ","Little Rock, AR","Jackson, MS","Bradenton--Sarasota--Venice, FL","Los Angeles--Long Beach--Anaheim, CA","Winston-Salem, NC","Baltimore, MD","Lakeland, FL","Galveston--Texas City, TX","Cleveland, OH","Vallejo, CA","Washington--Arlington, DC--VA--MD","Seattle--Tacoma, WA","Tampa--St. Petersburg, FL","Anchorage, AK","Nashville-Davidson, TN","Louisville/Jefferson County, KY--IN","Barnstable Town, MA","St. Louis, MO--IL","Dallas--Fort Worth--Arlington, TX","New York--Jersey City--Newark, NY--NJ","San Jose, CA","Cape Coral, FL","Charlotte, NC--SC","San Francisco--Oakland, CA","Seattle--Tacoma, WA","Baltimore, MD","Sacramento, CA","Houma, LA","Washington--Arlington, DC--VA--MD","McAllen, TX","Fayetteville, NC","Davenport, IA--IL","Cape Coral, FL","Topeka, KS","Davenport, IA--IL","Austin, TX","Eugene, OR","Pocatello, ID","Fargo, ND--MN","Iowa City, IA","Lodi, CA","Nashville-Davidson, TN","Indio--Palm Desert--Palm Springs, CA","Hagerstown, MD--WV--PA--VA","Baltimore, MD","San Juan, PR","San Francisco--Oakland, CA","Atlanta, GA","Davenport, IA--IL","Pueblo, CO","Fayetteville, NC","Riverside--San Bernardino, CA","Seattle--Tacoma, WA","Daytona Beach--Palm Coast--Port Orange, FL","Savannah, GA","Reno, NV--CA","Barnstable Town, MA","Holland, MI","Providence, RI--MA","Los Angeles--Long Beach--Anaheim, CA","Flagstaff, AZ","Topeka, KS","Ann Arbor, MI","Columbia, SC","Los Angeles--Long Beach--Anaheim, CA","Orlando, FL","Yuma, AZ--CA","St. Louis, MO--IL","Philadelphia, PA--NJ--DE--MD","Sumter, SC","Sacramento, CA","Boston, MA--NH","Toledo, OH--MI","Elkhart, IN--MI","Los Angeles--Long Beach--Anaheim, CA","Davenport, IA--IL","Los Angeles--Long Beach--Anaheim, CA","New Orleans, LA","Hickory, NC","Santa Clarita, CA","Bridgeport--Stamford, CT--NY","San Francisco--Oakland, CA","Los Angeles--Long Beach--Anaheim, CA","Fort Smith, AR--OK","South Bend, IN--MI","Oklahoma City, OK","Cheyenne, WY","Los Angeles--Long Beach--Anaheim, CA","Nashville-Davidson, TN","Oshkosh, WI","Springfield, MA--CT","Orlando, FL","Bremerton, WA","Kansas City, MO--KS","Seattle--Tacoma, WA","Las Vegas--Henderson--Paradise, NV","Elkhart, IN--MI","Los Angeles--Long Beach--Anaheim, CA","Worcester, MA--CT","Anchorage, AK","Visalia, CA","Rochester, MN","San Francisco--Oakland, CA","New York--Jersey City--Newark, NY--NJ","Milwaukee, WI","Medford, OR","Dallas--Fort Worth--Arlington, TX","Fort Collins, CO","Palmdale--Lancaster, CA","Charlotte, NC--SC","Greensboro, NC","Wenatchee, WA","Kankakee, IL","Springfield, MO","Los Angeles--Long Beach--Anaheim, CA","College Station--Bryan, TX","Cincinnati, OH--KY","Charlotte, NC--SC","Daytona Beach--Palm Coast--Port Orange, FL","Elkhart, IN--MI","Dallas--Fort Worth--Arlington, TX","Beaumont, TX","Seaside--Monterey--Pacific Grove, CA","San Francisco--Oakland, CA","Davenport, IA--IL","Tallahassee, FL","Detroit, MI","Salem, OR","Portland, ME","Madison, WI","Indianapolis, IN","Stockton, CA","Shreveport, LA","Atlanta, GA","Champaign, IL","Houston, TX","Las Vegas--Henderson--Paradise, NV","Fond du Lac, WI","Lansing, MI","Winston-Salem, NC","Orlando, FL","Los Angeles--Long Beach--Anaheim, CA","Scranton, PA","Spokane, WA","San Diego, CA","Spartanburg, SC","Manchester, NH","Cleveland, OH","Minneapolis--St. Paul, MN","Chicago, IL--IN","Binghamton, NY","Montgomery, AL","Pittsburgh, PA","Philadelphia, PA--NJ--DE--MD","Kennewick--Richland--Pasco, WA","Lakeland, FL","Miami--Fort Lauderdale, FL","Hartford, CT","Portland, OR--WA","Seattle--Tacoma, WA","Tampa--St. Petersburg, FL","Sumter, SC","Portland, OR--WA","Rockford, IL","Springfield, MO","Fort Collins, CO","Palm Bay--Melbourne, FL","Columbus, OH","Los Angeles--Long Beach--Anaheim, CA","Rome, GA","Salisbury, MD--DE","Providence, RI--MA","Altoona, PA","Jefferson City, MO","Los Angeles--Long Beach--Anaheim, CA","Champaign, IL","Muncie, IN","San Francisco--Oakland, CA","Johnstown, PA","Palmdale--Lancaster, CA","Los Angeles--Long Beach--Anaheim, CA","Miami--Fort Lauderdale, FL","Salt Lake City, UT","Syracuse, NY","Charlotte, NC--SC","Milwaukee, WI","Raleigh, NC","Scranton, PA","Livermore--Pleasanton--Dublin, CA","New York--Jersey City--Newark, NY--NJ","Los Angeles--Long Beach--Anaheim, CA","Bay City, MI","Detroit, MI","Albany--Schenectady, NY","Lancaster--Manheim, PA","Iowa City, IA","Asheville, NC","Spokane, WA","Stockton, CA","Miami--Fort Lauderdale, FL","Rochester, NY","Napa, CA","Tampa--St. Petersburg, FL","Bremerton, WA","Beaumont, TX","Champaign, IL","Florence, SC","Baltimore, MD","Boise City, ID","Los Angeles--Long Beach--Anaheim, CA","Iowa City, IA","Antioch, CA","Las Cruces, NM","Santa Clarita, CA","Nashua, NH--MA","San Diego, CA","Olympia--Lacey, WA","Pittsburgh, PA","Cincinnati, OH--KY","Baltimore, MD","Miami--Fort Lauderdale, FL","Springfield, MO","El Paso, TX--NM","Tuscaloosa, AL","Miami--Fort Lauderdale, FL","Bloomington, IN","Milwaukee, WI","Winston-Salem, NC","Milwaukee, WI","Hartford, CT","Iowa City, IA","Fresno, CA","San Antonio, TX","Toledo, OH--MI","Los Angeles--Long Beach--Anaheim, CA","Baltimore, MD","Great Falls, MT","Bremerton, WA","Los Angeles--Long Beach--Anaheim, CA","Killeen, TX","Akron, OH","Virginia Beach--Norfolk, VA","Fargo, ND--MN","Des Moines, IA","Burlington, VT","Austin, TX","Los Angeles--Long Beach--Anaheim, CA","Boston, MA--NH","Bridgeport--Stamford, CT--NY","New York--Jersey City--Newark, NY--NJ","Riverside--San Bernardino, CA","Washington--Arlington, DC--VA--MD","Bend, OR","Orlando, FL","Anchorage, AK","Memphis, TN--MS--AR","Indio--Palm Desert--Palm Springs, CA","Kenosha, WI","Lexington-Fayette, KY","San Juan, PR","Flint, MI","Lodi, CA","Appleton, WI","Vineland, NJ","Orlando, FL","Syracuse, NY","Los Angeles--Long Beach--Anaheim, CA","Tallahassee, FL","Santa Cruz, CA","New York--Jersey City--Newark, NY--NJ","Victorville--Hesperia--Apple Valley, CA","Philadelphia, PA--NJ--DE--MD","Davis, CA","Allentown--Bethlehem, PA--NJ","Yuma, AZ--CA","Athens-Clarke County, GA","Mobile, AL","Cleveland, OH","Mount Vernon, WA","Savannah, GA","Elizabethtown--Radcliff, KY","McAllen, TX","Houston, TX","Burlington, VT","Los Angeles--Long Beach--Anaheim, CA","Lubbock, TX","Pittsburgh, PA","New York--Jersey City--Newark, NY--NJ","San Antonio, TX","Washington--Arlington, DC--VA--MD","Palm Bay--Melbourne, FL","Syracuse, NY","San Diego, CA","Salem, OR","Laredo, TX","Buffalo, NY","Washington--Arlington, DC--VA--MD","Gainesville, GA","Seattle--Tacoma, WA","Olympia--Lacey, WA","Jacksonville, FL","Detroit, MI","Palmdale--Lancaster, CA","Atlanta, GA","Philadelphia, PA--NJ--DE--MD","Cleveland, OH","Charlotte, NC--SC","Riverside--San Bernardino, CA","Santa Rosa, CA","Indianapolis, IN","Baltimore, MD","Kennewick--Richland--Pasco, WA","Detroit, MI","Antioch, CA","Washington--Arlington, DC--VA--MD","Buffalo, NY","Miami--Fort Lauderdale, FL","New York--Jersey City--Newark, NY--NJ","Oklahoma City, OK","Columbus, GA--AL","Albany, GA","Kennewick--Richland--Pasco, WA","Philadelphia, PA--NJ--DE--MD","Seattle--Tacoma, WA","Bremerton, WA","Fargo, ND--MN","Knoxville, TN","Seattle--Tacoma, WA","Killeen, TX","Cedar Rapids, IA","Austin, TX","Tallahassee, FL","York, PA","New York--Jersey City--Newark, NY--NJ","Bridgeport--Stamford, CT--NY","Pensacola, FL--AL","San Juan, PR","Vero Beach--Sebastian, FL","New York--Jersey City--Newark, NY--NJ","Phoenix--Mesa--Scottsdale, AZ","New York--Jersey City--Newark, NY--NJ","Burlington, VT","Boston, MA--NH","Flint, MI","Anderson, IN","Yuba City, CA","Los Angeles--Long Beach--Anaheim, CA","Palm Bay--Melbourne, FL","Salt Lake City, UT","Fargo, ND--MN","Los Angeles--Long Beach--Anaheim, CA","New York--Jersey City--Newark, NY--NJ","Wichita, KS","Barnstable Town, MA","Chicago, IL--IN","Cincinnati, OH--KY","Odessa, TX","Lima, OH","Santa Fe, NM","Spartanburg, SC","Harrisburg, PA","Madison, WI","Chicago, IL--IN","Bremerton, WA","Dover--Rochester, NH--ME","Memphis, TN--MS--AR","Washington--Arlington, DC--VA--MD","Fond du Lac, WI","Des Moines, IA","Seattle--Tacoma, WA","Chico, CA","Champaign, IL","Cape Coral, FL","Minneapolis--St. Paul, MN","Louisville/Jefferson County, KY--IN","Seaside--Monterey--Pacific Grove, CA","Durham, NC","Cleveland, OH","Philadelphia, PA--NJ--DE--MD","Boston, MA--NH","College Station--Bryan, TX","Bridgeport--Stamford, CT--NY","Bakersfield, CA","Riverside--San Bernardino, CA","Saginaw, MI","New York--Jersey City--Newark, NY--NJ","Spokane, WA","Baltimore, MD","Portland, OR--WA","Yakima, WA","Rochester, MN","New York--Jersey City--Newark, NY--NJ","Sumter, SC","Seaside--Monterey--Pacific Grove, CA","Iowa City, IA","Palm Bay--Melbourne, FL","Tampa--St. Petersburg, FL","York, PA","Syracuse, NY","Albany--Schenectady, NY","Los Angeles--Long Beach--Anaheim, CA","San Francisco--Oakland, CA","Charleston, SC","Washington--Arlington, DC--VA--MD","Greeley, CO","Cincinnati, OH--KY","Victorville--Hesperia--Apple Valley, CA","Pittsburgh, PA","Santa Maria, CA","Houston, TX","Atlanta, GA","Pennsylvania Non-UZA","Durham, NC","Seattle--Tacoma, WA","Seattle--Tacoma, WA","Portland, OR--WA","Los Angeles--Long Beach--Anaheim, CA","Salt Lake City, UT","Jacksonville, FL","St. Cloud, MN","Bremerton, WA","Corvallis, OR","Jackson, MI","Daytona Beach--Palm Coast--Port Orange, FL","Hartford, CT","Miami--Fort Lauderdale, FL","Appleton, WI","Charlotte, NC--SC","Honolulu, HI","Lexington-Fayette, KY","Champaign, IL","Hartford, CT","Kenosha, WI","San Jose, CA","Redding, CA","Burlington, VT","Salt Lake City, UT","Los Angeles--Long Beach--Anaheim, CA","Kankakee, IL","Memphis, TN--MS--AR","Bend, OR","New York--Jersey City--Newark, NY--NJ","Tallahassee, FL","Columbia, MO","Sumter, SC","Waterloo, IA","Sioux City, IA--NE--SD","Virginia Beach--Norfolk, VA","Riverside--San Bernardino, CA","San Angelo, TX","Santa Rosa, CA","Salem, OR","Allentown--Bethlehem, PA--NJ","Phoenix--Mesa--Scottsdale, AZ","Los Angeles--Long Beach--Anaheim, CA","Boston, MA--NH","Stockton, CA","Kansas City, MO--KS","Springfield, MA--CT","Birmingham, AL","Los Angeles--Long Beach--Anaheim, CA","Baltimore, MD","Knoxville, TN","Racine, WI","Amarillo, TX","Des Moines, IA","Boston, MA--NH","Richmond, VA","Seattle--Tacoma, WA","Fort Wayne, IN","Philadelphia, PA--NJ--DE--MD","Duluth, MN--WI","Los Angeles--Long Beach--Anaheim, CA","Nashville-Davidson, TN","Minneapolis--St. Paul, MN","Miami--Fort Lauderdale, FL","Seattle--Tacoma, WA","Grand Junction, CO","Wenatchee, WA","New York--Jersey City--Newark, NY--NJ","Racine, WI","Lancaster--Manheim, PA","Frederick, MD","Vero Beach--Sebastian, FL","Las Vegas--Henderson--Paradise, NV","San Juan, PR","Lakeland, FL","Philadelphia, PA--NJ--DE--MD","Missoula, MT","Kenosha, WI","Boston, MA--NH","Raleigh, NC","Yuba City, CA","Miami--Fort Lauderdale, FL","Rochester, NY","Pennsylvania Non-UZA","Tampa--St. Petersburg, FL","Milwaukee, WI","New York--Jersey City--Newark, NY--NJ","Ann Arbor, MI","Williamsburg, VA","Fond du Lac, WI","Evansville, IN","New York--Jersey City--Newark, NY--NJ","Hartford, CT","Iowa City, IA","Albany--Schenectady, NY","New York--Jersey City--Newark, NY--NJ","New York--Jersey City--Newark, NY--NJ","Chicago, IL--IN","Durham, NC","Augusta-Richmond County, GA--SC","Worcester, MA--CT","Denton--Lewisville, TX","Philadelphia, PA--NJ--DE--MD","Scranton, PA","Albuquerque, NM","Beaumont, TX","Philadelphia, PA--NJ--DE--MD","Los Angeles--Long Beach--Anaheim, CA","Cleveland, OH","Akron, OH","Honolulu, HI","Visalia, CA","Salt Lake City, UT","Jacksonville, FL","Orlando, FL","Illinois Non-UZA","Elmira, NY","Bloomington, IN","Los Angeles--Long Beach--Anaheim, CA","Providence, RI--MA","Nashua, NH--MA","Odessa, TX","Bend, OR","Charlottesville, VA","Los Angeles--Long Beach--Anaheim, CA","Bel Air--Aberdeen, MD","Atlanta, GA","Auburn, AL","Ames, IA","Grand Forks, ND--MN","Reno, NV--CA","Missoula, MT","Chicago, IL--IN","Hanford, CA","Kansas City, MO--KS","San Francisco--Oakland, CA","Seattle--Tacoma, WA","Palm Bay--Melbourne, FL","Victoria, TX","Detroit, MI","New Bedford, MA","Oshkosh, WI","Fond du Lac, WI","Chicago, IL--IN","Miami--Fort Lauderdale, FL","Dallas--Fort Worth--Arlington, TX","Los Angeles--Long Beach--Anaheim, CA","Columbus, OH","Chicago, IL--IN","Las Cruces, NM","Terre Haute, IN","Stockton, CA","Miami--Fort Lauderdale, FL","Durham, NC","Kalamazoo, MI","Fayetteville--Springdale--Rogers, AR--MO","New Haven, CT","Kenosha, WI","York, PA","Atlanta, GA","San Francisco--Oakland, CA","Memphis, TN--MS--AR","Chicago, IL--IN","Kingsport, TN--VA","Hickory, NC","Chattanooga, TN--GA","Philadelphia, PA--NJ--DE--MD","Bel Air--Aberdeen, MD","Jacksonville, FL","Lawrence, KS","Athens-Clarke County, GA","Athens-Clarke County, GA","Kennewick--Richland--Pasco, WA","Seattle--Tacoma, WA","Seattle--Tacoma, WA","Greenville, SC","Toledo, OH--MI","Knoxville, TN","Virginia Beach--Norfolk, VA","Rockford, IL","New York--Jersey City--Newark, NY--NJ","Santa Fe, NM","Oshkosh, WI","St. Louis, MO--IL","Binghamton, NY","Boston, MA--NH","Colorado Springs, CO","Port Huron, MI","Muskegon--Norton Shores, MI","Knoxville, TN","Atlanta, GA","Barnstable Town, MA","Birmingham, AL","Seaside--Monterey--Pacific Grove, CA","Saginaw, MI","Navarre--Miramar Beach--Destin, FL","San Juan, PR","Los Angeles--Long Beach--Anaheim, CA","Los Angeles--Long Beach--Anaheim, CA","Pocatello, ID","Salt Lake City, UT","Port Huron, MI","Port Huron, MI","Los Angeles--Long Beach--Anaheim, CA","Albuquerque, NM","Akron, OH","Buffalo, NY","Tampa--St. Petersburg, FL","New York--Jersey City--Newark, NY--NJ","Cleveland, OH","San Francisco--Oakland, CA","Stockton, CA","Greenville, SC","Corpus Christi, TX","Jacksonville, FL","Longview, WA--OR","Flint, MI","Harrisburg, PA","San Diego, CA","Atlanta, GA","Greensboro, NC","Dayton, OH","Spokane, WA","Lafayette, IN","New York--Jersey City--Newark, NY--NJ","San Francisco--Oakland, CA","New York--Jersey City--Newark, NY--NJ","Cape Coral, FL","Seaside--Monterey--Pacific Grove, CA","Portland, ME","Pittsburgh, PA","Port St. Lucie, FL","Boston, MA--NH","El Paso, TX--NM","Visalia, CA","York, PA","Atlanta, GA","Pittsburgh, PA","Dover--Rochester, NH--ME","Riverside--San Bernardino, CA","Fairfield, CA","Fayetteville, NC","San Jose, CA","Antioch, CA","Richmond, VA","Visalia, CA","Wausau, WI","The Woodlands--Conroe, TX","Portland, OR--WA","Charlotte, NC--SC","Scranton, PA","Seattle--Tacoma, WA","Bradenton--Sarasota--Venice, FL","Simi Valley, CA","Phoenix--Mesa--Scottsdale, AZ","Syracuse, NY","New Braunfels, TX","Mobile, AL","Flint, MI","Washington--Arlington, DC--VA--MD","Philadelphia, PA--NJ--DE--MD","Pittsburgh, PA","Durham, NC","San Francisco--Oakland, CA","Holland, MI","Great Falls, MT","San Juan, PR","Atlantic City--Ocean City--Villas, NJ","Atlanta, GA","Durham, NC","Elkhart, IN--MI","Eugene, OR","Appleton, WI","Lancaster--Manheim, PA","Akron, OH","Boston, MA--NH","Portland, OR--WA","Virginia Beach--Norfolk, VA","Albany, GA","Blacksburg--Christiansburg, VA","Alexandria, LA","New Bedford, MA","Boise City, ID","Athens-Clarke County, GA","Phoenix--Mesa--Scottsdale, AZ","New Haven, CT","Providence, RI--MA","Virginia Beach--Norfolk, VA","Barnstable Town, MA","Chico, CA","Rockford, IL","Frederick, MD","Virginia Beach--Norfolk, VA","Seattle--Tacoma, WA","Miami--Fort Lauderdale, FL","Topeka, KS","Burlington, VT","Des Moines, IA","Dallas--Fort Worth--Arlington, TX","Lakeland, FL","Miami--Fort Lauderdale, FL","Fairfield, CA","DeKalb, IL","Dayton, OH","Topeka, KS","Cincinnati, OH--KY","Los Angeles--Long Beach--Anaheim, CA","Iowa City, IA","Salt Lake City, UT","Bridgeport--Stamford, CT--NY","Jackson, TN","Johnstown, PA","Great Falls, MT","Los Angeles--Long Beach--Anaheim, CA","York, PA","Chicago, IL--IN","Concord--Walnut Creek, CA","Kennewick--Richland--Pasco, WA","Harrisburg, PA","Boston, MA--NH","New York--Jersey City--Newark, NY--NJ","Minneapolis--St. Paul, MN","New York--Jersey City--Newark, NY--NJ","Philadelphia, PA--NJ--DE--MD","Greenville, SC","Detroit, MI","Fairfield, CA","Los Angeles--Long Beach--Anaheim, CA","Portland, ME","Houston, TX","Tampa--St. Petersburg, FL","Lake Tahoe, CA-NV","Los Angeles--Long Beach--Anaheim, CA","Sumter, SC","New York--Jersey City--Newark, NY--NJ","Johnstown, PA","Longview, WA--OR","Iowa City, IA","Los Angeles--Long Beach--Anaheim, CA","New York--Jersey City--Newark, NY--NJ","Florence, AL","Santa Rosa, CA","Los Angeles--Long Beach--Anaheim, CA","Saginaw, MI","St. Louis, MO--IL","Washington--Arlington, DC--VA--MD","San Diego, CA","Saginaw, MI","Indio--Palm Desert--Palm Springs, CA","Fayetteville--Springdale--Rogers, AR--MO","Roanoke, VA","Grand Rapids, MI","Erie, PA","Navarre--Miramar Beach--Destin, FL","Kennewick--Richland--Pasco, WA","New York--Jersey City--Newark, NY--NJ","Fort Wayne, IN","Jacksonville, FL","Fargo, ND--MN","Columbia, SC","Lafayette, IN","Charleston, WV","Albuquerque, NM","Tallahassee, FL","Salisbury, MD--DE","Portland, ME","San Francisco--Oakland, CA","Los Angeles--Long Beach--Anaheim, CA","Washington--Arlington, DC--VA--MD","Terre Haute, IN","DeKalb, IL","Flint, MI","Philadelphia, PA--NJ--DE--MD","New York--Jersey City--Newark, NY--NJ","Kingsport, TN--VA","Davenport, IA--IL","Syracuse, NY","Kansas City, MO--KS","Austin, TX","Poughkeepsie--Newburgh, NY","Columbia, SC","Boston, MA--NH","St. Cloud, MN","Asheville, NC","Tucson, AZ","San Diego, CA","Frederick, MD","San Luis Obispo, CA","Billings, MT","Fort Collins, CO","Elizabethtown--Radcliff, KY","Philadelphia, PA--NJ--DE--MD","Chicago, IL--IN","Portland, OR--WA","Cape Coral, FL","Tampa--St. Petersburg, FL","Saginaw, MI","Williamsport, PA","Salt Lake City, UT","Jackson, MS","Columbus, OH","Spokane, WA","San Diego, CA","Houston, TX","Atlanta, GA","Eugene, OR","San Diego, CA","Riverside--San Bernardino, CA","Durham, NC","Flint, MI","New York--Jersey City--Newark, NY--NJ","Seattle--Tacoma, WA","Albuquerque, NM","New York--Jersey City--Newark, NY--NJ","Dayton, OH","Florence, SC","Augusta-Richmond County, GA--SC","Worcester, MA--CT","Santa Maria, CA","Kansas City, MO--KS","Salt Lake City, UT","Cedar Rapids, IA","Sacramento, CA","Kansas City, MO--KS","Lodi, CA","Boston, MA--NH","Seattle--Tacoma, WA","Akron, OH","New York--Jersey City--Newark, NY--NJ","Minneapolis--St. Paul, MN","Los Angeles--Long Beach--Anaheim, CA","Baltimore, MD","Mobile, AL","Winston-Salem, NC","Boston, MA--NH","Lawrence, KS","Spartanburg, SC","Monroe, MI","Boston, MA--NH","St. Cloud, MN","Pennsylvania Non-UZA","Charlotte, NC--SC"],["MB","DR","DR","MB","MB","MB","FB","DR","MB","DR","MB","DR","CR","MB","DR","DR","DR","TB","DR","DR","DR","MB","DR","DR","DR","TB","MB","DR","DR","LR","MB","MB","VP","DR","HR","MB","DR","MB","MB","MB","SR","DR","VP","MB","MB","DR","MB","DR","DR","MB","VP","MB","LR","MB","LR","DR","DR","DR","DR","DR","MB","MB","MB","DR","MB","MB","DR","CB","DR","DR","MB","MB","DR","MB","VP","MB","MB","MB","DR","MB","CB","DR","FB","MB","MB","DR","MB","MB","DR","FB","DR","DR","MB","MB","DR","MB","DR","DR","DR","DR","DR","DR","MB","DR","DR","MB","DR","CR","DR","DR","MB","MB","MB","DR","MB","DR","MB","MB","DR","RB","CB","DR","MB","MB","MB","MB","DR","DR","MB","DR","VP","SR","DR","DR","DR","DR","DR","DR","DR","MB","DR","DR","VP","DR","DR","MB","MB","DR","DR","LR","DR","DR","DR","MB","MB","DR","DR","CB","DR","DR","CR","MB","MB","MB","DR","YR","MB","DR","LR","MB","VP","DR","MB","DR","DR","MB","DR","MB","MB","MB","MB","YR","VP","MB","DR","DR","DR","DR","DR","MB","LR","HR","HR","DR","DR","MB","DR","MB","DR","DR","FB","DR","MB","DR","DR","DR","DR","DR","MB","MB","MB","MB","VP","LR","MB","DR","DR","DR","MB","DR","HR","MB","MB","FB","DR","CB","MB","HR","MB","MB","MB","DR","DR","MB","MB","DR","MB","MB","MB","MB","DR","MB","DR","DR","DR","MB","CB","MB","CR","MB","MB","DR","MB","DR","MB","DR","DR","DR","DR","MB","MB","MB","MB","SR","DR","MB","CR","MB","MB","CC","MB","MB","DR","VP","FB","MB","DR","MB","MB","DR","MB","MB","MB","MB","MB","DR","DR","MB","MB","MB","MB","DR","DR","RB","LR","CR","DR","MB","DR","CR","VP","MB","HR","MB","SR","TB","DR","MB","YR","MB","MB","DR","VP","MB","MB","DR","DR","MB","DR","MB","CB","DR","MB","CC","MB","DR","MB","MB","LR","DR","DR","MB","MB","MB","MB","MB","DR","MB","MB","DR","DR","DR","MB","DR","CR","DR","DR","MB","MB","MB","MB","DR","MB","DR","DR","MB","MB","MB","DR","DR","DR","LR","CB","MB","MB","CR","CR","DR","DR","MB","MB","DR","DR","DR","CB","MB","MB","DR","DR","VP","MB","DR","DR","MB","VP","MB","DR","VP","DR","VP","MB","MB","MB","DR","DR","DR","MB","MB","CB","RB","AR","DR","DR","DR","VP","MB","DR","DR","MB","DR","MB","DR","MB","DR","MB","MB","MB","TB","MB","DR","MB","DR","MB","DR","MB","FB","VP","DR","DR","CB","DR","DR","MB","DR","MB","DR","DR","DR","MB","VP","DR","LR","CB","DR","FB","VP","DR","DR","DR","DR","CR","CB","DR","MB","MB","MB","MB","MB","MB","DR","DR","MB","MB","MB","FB","MB","MB","DR","HR","DR","FB","DR","DR","CB","MB","DR","DR","DR","DR","CR","DR","DR","PB","MB","MB","MB","FB","DR","DR","DR","MB","CB","DR","DR","MB","DR","DR","DR","MB","DR","DR","DR","MB","DR","DR","DR","DR","DR","CR","MB","MB","DR","SR","MB","MB","TB","DR","DR","DR","LR","VP","MB","MB","MB","DR","MB","MB","DR","DR","VP","DR","DR","DR","MB","MB","CB","DR","DR","DR","DR","MB","VP","DR","CB","DR","DR","MB","FB","CB","MB","MB","DR","CB","VP","MB","MB","MB","DR","DR","DR","CR","DR","DR","DR","CB","MB","MB","MB","MB","DR","CB","MB","MB","MB","DR","VP","DR","MB","DR","MB","MB","CB","DR","DR","DR","MB","DR","CB","DR","DR","DR","DR","DR","DR","MB","MB","MB","DR","MB","DR","MB","DR","MB","RB","DR","MB","HR","MB","DR","MB","DR","DR","FB","MB","SR","DR","MB","MB","MB","MB","DR","MB","DR","DR","DR","MB","MB","DR","DR","DR","DR","HR","MB","MB","MB","DR","HR","MB","CB","CR","DR","MB","DR","DR","MB","DR","DR","MB","DR","MB","CB","MB","CB","CB","FB","DR","MB","DR","DR","YR","DR","MB","CR","MB","CR","DR","MB","DR","MB","MB","DR","CB","MB","MB","DR","DR","MB","MB","MB","DR","DR","MB","DR","DR","MB","DR","MB","MB","DR","DR","CR","DR","MB","MB","VP","MB","CB","DR","DR","DR","DR","CR","MB","DR","DR","MB","DR","MB","DR","CR","FB","MB","MB","DR","MB","MB","MB","MB","MB","SR","CR","MB","DR","DR","HR","DR","DR","DR","DR","MB","DR","LR","VP","DR","MB","DR","VP","DR","MB","DR","MB","LR","DR","MB","MB","CB","MB","DR","DR","MB","MB","DR","MB","MB","MB","DR","MB","DR","LR","CB","CB","DR","MB","DR","LR","MB","MB","HR","MB","DR","MB","VP","DR","MB","MB","DR","VP","MB","DR","DR","VP","MB","DR","MB","MB","DR","MB","CR","MB","DR","MB","MB","CB","MB","DR","VP","DR","VP","MB","MB","MB","DR","VP","DR","MB","CB","LR","MB","MB","CB","MB","MB","DR","MB","DR","MB","MB","DR","MB","IP","MB","CC","DR","MB","PB","DR","MB","DR","DR","MB","DR","DR","MB","DR","DR","LR","MB","DR","DR","MB","MB","MB","DR","DR","MB","VP","MB","MB","MB","DR","MB","MB","MB","DR","DR","MB","DR","MB","MB","DR","DR","DR","DR","CB","MB","DR","MB","MB","MB","IP","DR","MB","DR","CR","DR","DR","DR","HR","DR","DR","MB","DR","MB","MG","MB","DR","FB","DR","DR","MB","MB","DR","MB","DR","MB","MB","MB","MB","DR","DR","MB","DR","DR","DR","CB","DR","DR","MB","DR","DR","DR","MB","MB","CR","MB","DR","MB","DR","MB","DR","DR","DR","MB","CR","CC","MB","CR","MB","DR","DR","SR","DR","DR","DR","DR","MB","VP","MB","CB","DR","CB","DR","DR","DR","MB","MB","DR","MB","DR","CR","DR","MB","MB","DR","MB","DR","MB","MB","DR","MB","DR","CB","HR","RB","DR","CB","MB","MB","DR","FB","CB","CR","MB","MB","MB","DR","MB","SR","DR","DR","DR","MB","DR","MB","FB","DR","CR","LR","MB","DR","MB","DR","HR","MB","MB","MB","MB","DR","DR","VP"],["Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Rail","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Ferry","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Rail","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Rail","Bus","Bus","Bus","Rail","Bus","Bus","Rail","Bus","Rail","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Rail","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Rail","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Rail","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Rail","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Ferry","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Rail","Bus","Rail","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Ferry","Bus","Rail","Rail","Bus","Bus","Bus","Bus","Rail","Bus","Bus","Bus","Bus","Bus","Bus","Bus"],["2011-01-01","2008-01-01","2009-11-01","2018-06-01","2013-01-01","2018-09-01","2022-09-01","2017-12-01","2016-03-01","2023-01-01","2021-07-01","2012-03-01","2008-01-01","2019-08-01","2017-02-01","2021-03-01","2017-04-01","2013-11-01","2015-12-01","2017-01-01","2021-01-01","2011-05-01","2018-09-01","2010-05-01","2003-10-01","2004-12-01","2021-04-01","2010-01-01","2007-12-01","2023-05-01","2012-01-01","2008-03-01","2003-06-01","2002-07-01","2008-05-01","2003-11-01","2019-10-01","2019-03-01","2023-06-01","2007-10-01","2020-05-01","2007-10-01","2011-09-01","2006-03-01","2018-09-01","2018-10-01","2006-10-01","2011-10-01","2020-09-01","2020-02-01","2016-04-01","2017-07-01","2005-02-01","2012-04-01","2012-02-01","2007-01-01","2021-08-01","2016-10-01","2011-05-01","2022-06-01","2013-09-01","2023-08-01","2022-03-01","2023-01-01","2006-02-01","2018-07-01","2019-09-01","2022-03-01","2013-10-01","2021-09-01","2017-07-01","2022-12-01","2018-10-01","2015-02-01","2019-03-01","2021-08-01","2024-04-01","2014-02-01","2018-03-01","2005-06-01","2019-11-01","2013-12-01","2009-02-01","2009-04-01","2023-03-01","2020-05-01","2019-03-01","2012-01-01","2007-01-01","2019-04-01","2021-11-01","2006-09-01","2014-05-01","2022-01-01","2012-07-01","2009-12-01","2009-04-01","2022-10-01","2015-04-01","2008-06-01","2018-10-01","2014-10-01","2023-07-01","2004-05-01","2015-07-01","2006-07-01","2018-06-01","2024-06-01","2022-06-01","2015-06-01","2022-07-01","2015-12-01","2024-03-01","2010-11-01","2022-10-01","2022-09-01","2009-11-01","2019-07-01","2005-05-01","2022-07-01","2020-10-01","2010-12-01","2002-06-01","2012-09-01","2019-09-01","2022-03-01","2022-02-01","2014-07-01","2018-07-01","2022-07-01","2004-03-01","2019-06-01","2022-03-01","2003-08-01","2009-08-01","2011-05-01","2004-07-01","2020-11-01","2006-03-01","2008-03-01","2013-12-01","2014-07-01","2019-08-01","2021-12-01","2017-07-01","2017-01-01","2003-03-01","2020-08-01","2004-10-01","2003-09-01","2011-06-01","2017-01-01","2021-10-01","2008-07-01","2013-09-01","2018-11-01","2012-03-01","2013-10-01","2021-10-01","2023-05-01","2014-08-01","2014-04-01","2007-10-01","2019-12-01","2003-01-01","2020-10-01","2012-05-01","2011-10-01","2021-02-01","2016-11-01","2024-01-01","2024-06-01","2022-10-01","2005-02-01","2019-07-01","2022-10-01","2003-10-01","2004-12-01","2010-07-01","2013-02-01","2003-09-01","2017-07-01","2015-07-01","2004-10-01","2023-11-01","2005-07-01","2011-03-01","2012-04-01","2015-07-01","2005-07-01","2022-02-01","2015-05-01","2015-07-01","2017-10-01","2011-08-01","2011-10-01","2005-06-01","2012-11-01","2009-01-01","2023-08-01","2018-06-01","2019-02-01","2022-04-01","2023-06-01","2018-11-01","2010-08-01","2017-11-01","2003-03-01","2022-04-01","2016-05-01","2011-01-01","2023-09-01","2020-09-01","2004-08-01","2014-10-01","2021-07-01","2019-08-01","2002-05-01","2004-11-01","2020-04-01","2015-02-01","2020-01-01","2016-08-01","2021-09-01","2019-03-01","2018-07-01","2009-12-01","2006-08-01","2002-08-01","2008-09-01","2017-09-01","2015-10-01","2004-10-01","2020-01-01","2024-03-01","2011-01-01","2006-10-01","2022-10-01","2005-12-01","2015-04-01","2003-02-01","2006-11-01","2024-05-01","2010-01-01","2017-02-01","2006-09-01","2020-10-01","2006-06-01","2021-06-01","2011-02-01","2008-01-01","2020-03-01","2009-10-01","2017-01-01","2009-08-01","2002-12-01","2003-09-01","2008-01-01","2020-06-01","2007-01-01","2020-07-01","2004-05-01","2023-01-01","2023-10-01","2010-04-01","2023-01-01","2005-01-01","2014-06-01","2007-10-01","2002-08-01","2012-11-01","2020-04-01","2015-07-01","2010-11-01","2005-04-01","2012-01-01","2022-09-01","2021-07-01","2022-08-01","2003-03-01","2006-09-01","2006-07-01","2009-10-01","2008-05-01","2006-02-01","2018-04-01","2023-09-01","2005-12-01","2005-07-01","2017-10-01","2010-11-01","2015-11-01","2008-09-01","2018-08-01","2019-12-01","2020-11-01","2013-07-01","2022-03-01","2011-01-01","2008-12-01","2003-01-01","2019-03-01","2015-04-01","2011-05-01","2018-01-01","2011-07-01","2007-06-01","2005-12-01","2022-06-01","2017-06-01","2014-08-01","2008-10-01","2024-03-01","2005-01-01","2021-02-01","2012-08-01","2024-06-01","2012-05-01","2008-04-01","2006-12-01","2024-04-01","2010-01-01","2023-04-01","2024-01-01","2023-09-01","2014-03-01","2024-07-01","2008-02-01","2015-10-01","2024-06-01","2023-12-01","2003-06-01","2019-10-01","2007-12-01","2019-08-01","2016-12-01","2024-01-01","2011-11-01","2012-01-01","2024-01-01","2016-11-01","2017-08-01","2014-05-01","2008-11-01","2011-03-01","2024-06-01","2024-07-01","2023-02-01","2004-06-01","2010-03-01","2017-05-01","2010-07-01","2008-04-01","2024-04-01","2007-04-01","2010-09-01","2013-04-01","2008-05-01","2009-12-01","2006-09-01","2006-04-01","2012-06-01","2016-02-01","2022-10-01","2016-01-01","2006-07-01","2016-12-01","2008-12-01","2018-10-01","2009-02-01","2024-07-01","2014-04-01","2012-10-01","2018-07-01","2019-03-01","2023-01-01","2015-11-01","2013-04-01","2022-07-01","2024-05-01","2019-04-01","2007-04-01","2010-06-01","2014-04-01","2013-06-01","2003-12-01","2010-06-01","2021-03-01","2017-01-01","2022-04-01","2007-09-01","2010-06-01","2011-10-01","2023-02-01","2013-05-01","2016-11-01","2014-04-01","2011-07-01","2020-06-01","2013-11-01","2012-10-01","2022-07-01","2016-12-01","2015-05-01","2024-02-01","2009-06-01","2002-08-01","2008-03-01","2017-04-01","2018-10-01","2010-12-01","2023-03-01","2005-07-01","2020-12-01","2015-06-01","2012-10-01","2003-07-01","2024-06-01","2011-02-01","2023-09-01","2020-08-01","2013-09-01","2013-01-01","2022-01-01","2023-11-01","2021-12-01","2016-03-01","2020-06-01","2021-11-01","2014-06-01","2015-11-01","2012-05-01","2016-08-01","2011-03-01","2005-05-01","2008-09-01","2009-03-01","2003-02-01","2011-04-01","2011-10-01","2023-01-01","2017-01-01","2021-09-01","2012-09-01","2019-02-01","2017-02-01","2009-06-01","2011-06-01","2003-08-01","2022-06-01","2023-05-01","2022-07-01","2022-01-01","2013-03-01","2008-12-01","2023-06-01","2005-04-01","2017-04-01","2004-05-01","2010-09-01","2018-09-01","2022-11-01","2003-06-01","2010-07-01","2019-01-01","2011-09-01","2007-01-01","2023-10-01","2005-03-01","2008-08-01","2018-03-01","2013-12-01","2002-02-01","2021-05-01","2020-03-01","2008-09-01","2023-02-01","2002-05-01","2014-05-01","2002-12-01","2014-12-01","2018-06-01","2012-02-01","2023-12-01","2017-01-01","2021-06-01","2023-02-01","2024-02-01","2020-08-01","2016-08-01","2012-10-01","2019-12-01","2021-06-01","2016-02-01","2016-01-01","2016-05-01","2014-04-01","2012-01-01","2018-03-01","2013-02-01","2024-01-01","2008-10-01","2007-04-01","2006-11-01","2023-06-01","2014-12-01","2011-02-01","2019-08-01","2010-03-01","2005-02-01","2005-01-01","2005-06-01","2021-07-01","2007-04-01","2003-04-01","2008-05-01","2012-08-01","2007-02-01","2015-09-01","2005-08-01","2019-01-01","2012-08-01","2021-10-01","2005-06-01","2021-10-01","2023-06-01","2013-08-01","2011-02-01","2013-05-01","2023-08-01","2020-05-01","2023-08-01","2024-03-01","2018-12-01","2006-08-01","2014-03-01","2005-11-01","2011-12-01","2016-08-01","2003-04-01","2012-08-01","2003-10-01","2017-02-01","2014-05-01","2003-09-01","2015-10-01","2018-06-01","2007-01-01","2023-08-01","2006-09-01","2013-08-01","2023-12-01","2021-10-01","2009-03-01","2014-12-01","2010-06-01","2015-04-01","2005-10-01","2005-04-01","2019-08-01","2017-12-01","2022-09-01","2013-06-01","2004-06-01","2022-12-01","2007-04-01","2015-02-01","2013-03-01","2018-02-01","2022-05-01","2015-09-01","2004-02-01","2007-03-01","2002-09-01","2022-05-01","2018-07-01","2006-12-01","2020-01-01","2016-01-01","2010-09-01","2018-04-01","2019-01-01","2021-11-01","2004-01-01","2023-10-01","2019-06-01","2015-02-01","2018-11-01","2020-01-01","2003-05-01","2022-06-01","2002-08-01","2005-03-01","2023-05-01","2016-11-01","2023-04-01","2014-12-01","2011-10-01","2018-04-01","2007-05-01","2004-10-01","2005-04-01","2004-12-01","2019-08-01","2013-01-01","2020-12-01","2008-01-01","2022-02-01","2022-07-01","2002-08-01","2002-06-01","2018-04-01","2023-03-01","2006-08-01","2018-02-01","2024-07-01","2020-03-01","2012-06-01","2019-11-01","2002-12-01","2016-05-01","2006-10-01","2017-04-01","2014-10-01","2017-10-01","2023-11-01","2022-03-01","2022-08-01","2008-03-01","2017-12-01","2003-11-01","2010-10-01","2014-06-01","2005-03-01","2008-05-01","2003-12-01","2004-10-01","2021-03-01","2021-01-01","2003-10-01","2008-02-01","2015-10-01","2013-08-01","2005-06-01","2018-04-01","2020-08-01","2020-08-01","2010-12-01","2009-09-01","2021-01-01","2018-06-01","2023-08-01","2024-07-01","2012-06-01","2009-06-01","2009-11-01","2024-04-01","2016-11-01","2015-03-01","2022-02-01","2004-01-01","2005-02-01","2016-05-01","2023-05-01","2015-08-01","2022-11-01","2012-01-01","2022-07-01","2017-07-01","2011-11-01","2021-05-01","2022-01-01","2021-05-01","2020-08-01","2007-10-01","2023-02-01","2011-09-01","2013-04-01","2021-08-01","2008-07-01","2012-08-01","2011-05-01","2006-09-01","2003-03-01","2020-08-01","2008-12-01","2020-01-01","2014-03-01","2015-01-01","2009-04-01","2009-01-01","2021-02-01","2010-03-01","2006-10-01","2018-12-01","2005-09-01","2019-11-01","2016-04-01","2016-07-01","2014-07-01","2005-08-01","2004-04-01","2023-04-01","2004-05-01","2021-02-01","2004-05-01","2020-07-01","2010-10-01","2009-07-01","2017-08-01","2017-10-01","2003-01-01","2023-05-01","2010-09-01","2008-07-01","2023-01-01","2014-11-01","2020-12-01","2007-07-01","2022-08-01","2021-10-01","2002-10-01","2009-03-01","2009-08-01","2002-09-01","2012-06-01","2014-04-01","2010-01-01","2008-06-01","2017-12-01","2016-05-01","2018-08-01","2014-08-01","2017-03-01","2014-12-01","2018-06-01","2023-04-01","2008-02-01","2014-04-01","2023-07-01","2019-02-01","2016-08-01","2006-01-01","2010-01-01","2005-06-01","2023-07-01","2005-09-01","2015-06-01","2010-03-01","2015-10-01","2016-07-01","2022-10-01","2023-05-01","2022-11-01","2017-08-01","2010-02-01","2008-02-01","2006-01-01","2019-02-01","2022-07-01","2018-05-01","2011-03-01","2003-12-01","2020-01-01","2013-03-01","2007-11-01","2018-04-01","2020-05-01","2010-02-01","2009-06-01","2013-10-01","2021-04-01","2013-02-01","2007-11-01","2007-05-01","2007-07-01","2022-04-01","2019-04-01","2013-09-01","2014-10-01","2009-10-01","2016-12-01","2012-01-01","2021-05-01","2023-03-01","2016-05-01","2020-12-01","2012-09-01","2004-08-01","2020-10-01","2020-07-01","2021-05-01","2020-11-01","2011-07-01","2020-08-01","2007-11-01","2004-09-01","2022-02-01","2006-07-01","2009-03-01","2004-12-01","2024-06-01","2023-09-01","2018-11-01","2005-04-01","2017-05-01","2016-11-01","2005-10-01","2024-03-01","2013-06-01","2008-07-01","2003-07-01","2002-07-01","2008-08-01","2018-10-01","2020-07-01","2022-07-01","2020-02-01","2011-07-01","2010-05-01","2018-06-01","2008-01-01","2021-09-01","2020-02-01","2020-12-01","2013-09-01","2021-01-01","2016-07-01","2019-07-01","2014-06-01","2010-11-01","2019-08-01","2012-01-01","2004-05-01","2021-01-01","2015-01-01","2015-01-01","2020-05-01","2006-06-01","2005-11-01","2023-09-01","2013-07-01","2012-10-01","2019-07-01","2021-01-01","2024-05-01","2018-10-01","2012-06-01","2021-10-01","2004-12-01","2018-10-01","2002-07-01","2021-02-01","2002-04-01","2015-03-01","2005-01-01","2011-01-01","2024-05-01","2016-05-01","2003-09-01","2023-05-01","2005-03-01","2020-09-01","2014-12-01","2005-05-01","2014-11-01","2014-02-01","2018-03-01","2012-10-01","2024-06-01","2014-02-01","2022-05-01","2006-11-01","2021-03-01","2007-10-01","2009-04-01","2014-03-01","2007-12-01","2013-05-01","2007-03-01","2006-04-01","2019-02-01","2021-07-01","2013-01-01","2010-08-01","2009-08-01","2016-06-01","2005-10-01","2020-09-01","2021-04-01","2003-04-01","2012-10-01","2013-10-01","2018-05-01","2006-07-01","2010-08-01","2020-08-01","2014-05-01","2018-05-01","2021-01-01","2021-05-01","2009-06-01","2006-10-01","2009-02-01","2020-09-01","2023-12-01","2022-03-01","2011-01-01","2017-03-01","2016-06-01","2012-04-01","2018-08-01","2004-12-01","2018-12-01","2015-07-01","2008-04-01","2023-12-01","2023-06-01","2013-01-01","2024-01-01","2020-01-01","2008-11-01","2024-04-01","2008-08-01","2005-03-01","2004-08-01","2002-02-01","2005-04-01","2021-10-01","2007-05-01","2020-09-01","2022-04-01","2003-09-01","2022-10-01","2020-02-01","2023-11-01","2014-12-01","2016-08-01","2020-03-01","2020-05-01","2024-07-01","2023-12-01","2020-04-01","2017-03-01","2017-06-01","2017-01-01","2011-12-01","2018-10-01","2021-03-01","2003-02-01","2021-04-01","2018-02-01","2012-02-01","2023-06-01","2009-03-01","2003-11-01","2015-09-01","2020-02-01","2024-06-01","2011-03-01","2021-12-01","2012-11-01","2020-08-01","2023-08-01","2015-05-01","2022-05-01","2007-09-01","2013-10-01","2003-03-01","2023-07-01","2016-10-01","2007-05-01","2009-01-01","2011-12-01","2022-03-01","2011-12-01","2018-06-01","2017-06-01","2024-07-01","2010-11-01","2024-05-01","2012-02-01","2009-12-01","2012-10-01","2013-07-01","2022-11-01","2022-01-01","2006-05-01","2007-06-01","2011-12-01","2019-12-01","2020-09-01","2014-10-01","2022-08-01","2009-08-01","2016-12-01","2011-03-01","2017-01-01","2010-06-01","2020-03-01"],[289064,945,1478,66627,32853,169148,321083,2584,27797,9413,34752,11913,315893,107888,597,10342,7416,5044235,3557,2051,3946,78671,1722,95691,60285,5908170,28052,743,5920,1935090,8691,61422,9720,2803,8757402,600997,6659,15403,45477,356727,0,9051,22010,2289292,301333,18203,5750353,99660,13701,103343,4503,192166,1562676,87351,3266400,14677,3679,9392,17220,5052,312053,2851821,99566,3376,95356,136278,2526,60525,98441,109990,106346,170276,1981,71826,3007,130264,124884,71031,2730,2879693,54231,395,13134,374866,1702920,19533,10000453,28129,24839,58572,6068,3092,2553968,125677,4861,151528,1870,8853,12174,4148,1800,796,580101,699,16352,12499,670,98437,8039,2834,150344,59800,124765,14283,394135,448,902831,133885,56920,334685,4092,903,2764114,926813,17581,2151473,11156,10067,99802,4349,63162,97220,2723,433,15958,10757,7682,373,1795,19433,14189,3462,40204,16563,7857,163415,22554,3352,8253,3329351,12579,53585,6166,107511,1575,2838,14275,295853,4092,13410,23095,1232155,29745,1751509,12582,125425,2854664,8273,172301,8917767,32789,5697,62816,217,185869,23606,3754,0,227787,87533,10694,58706,3856,60736,653,511,2689,7762,12827,20207,178050,665578,11731661,1722,6235,86789,4625,1300758,27694,4784,120142,16906,47260,3276,25694,253099,1917,3195,275650,192367,27535334,1456960,5351,1550637,18732,1016,1994,6986,405117,1538,3644411,228208,1157553,14379,8683,34634,27518,9408203,2088395,18906,136747,4516,1946,1231680,739743,9482,977426,1444754,326369,31177,13125,5039231,2828,5732,3882,327545,776,117438,153438,60447226,66981,3583,5938,2553,236613,15947,10814,6490,445,145096,93719,18697,994,47310,9225,26714,100385,42461,385954,784900,303745,24845,26719,3409,47322,1151137,3912,116260,233586,5078,35106,1355716,5026408,11596,1063409,18158,59636,897657,103102,954079,632877,11126,922,363042,1876208,279707,1598,29162,126414,2600715,40475,96476,1897764,1206811,400370,1742568,1652,15571,10495,132621,148586,2207,3431,1211052,1044639,2036,3439,71730,50,30519,85930,762,75781,234800,67412,2133,1224007,210968,1886440,12087,13611,57170,588331,4263,161208,31239,2486,47241,774952,21916,14880,11391,2325,20988,63635,81023,40183,25639,48829,267444,39698,781,3446,1159,242,204447,182138,236203,4290,5851,3069,2593803,14748,3067086,18207,539920,368243,1410,28446,14654,12200,2674,8625,18156,8805,37407,43751,17650,29064,976,22042554,75193,2151,254719,300855,38404,5164,4347,1005,4787,189940,708228,2253093,5680,8562,5068,1285324,317448,3148,64168,673,20828,12547,1821,0,146922,34628,5109,1661,7585,2083680,10569,414429,2848,360430,509340,0,212407,414338,21450,13755,1804,114294,376,29402,56082,4048,969,4775,16966,4285,8812,4637722,16850,3188476,145694,10289,4503,2349973,3753,2352,336865,47478,2080,25432,47292,30000,465,4567,1708,1650736,4341,17598,613542,230482,1439,116683,189352,3437408,11587,176431,963710,132455,29333,0,92164,56116,15275,825095,10906,20920,669,0,310371,23234,7738,67239,999,826,8514000,4438,8436,2751652,106498,23228,423524,245143,6539,3642,327,15577,11115,2029,10463,5043,4126,1885,1623,100549,4698,3179,10121,30050,1384,2442,11452,10686,9149,310203,318929,19364,20186,24738,9733,332249,2073111,13643,4274,9532,838466,14819,323803,303328,3152029,4753,190308,51246,7405,5054,15236,2378,244332,17355,15792,512344,0,3307,2805,2438,7125,380963,10614,1215,8567,1323,10036,2184166,132153,5267,85727,41361,5743,2487,19553,62446,1052591,84117,7496,6235,18407,346424,17157,887,23969,307,180698,225420,101739,38471,2630,18389,0,84828,8223,5568,1896,2779,1224159,1853,21182,52834,22392,19092,82944,1709,452605,3317,54563,2745,1920,1871,6225,2714,22855,10175,16442,159415,34353,530,35524,2426703,2662,307390,99887,25639,137611,3427051,2973952,6213,0,1839,940,65082,52128,115775,6018,10834,231851,27667,519235,24306,25682,9822,1479,4501,110205,43268,19167,5850,3053,52262,992731,117786,1001,65998,1421,12517629,72486,1111,252991,15007,7423,11834,5447,59829286,651,881,1011,4172,147034,15339,210259,8356,56790,1830157,935,370579,2218,5762,10824,112706,3815,68809,24953,111849,1649,3018852,4623,5158241,149450,12647,326,1138703,28389,4043,2273,201667,75069,23389,2185,5258,180489,160517,2597,2938937,3352,542882,31069,1792,1920,293724,1108,41537,38988,256240,72376,7665,1091,4975,7565,5279,293796,612597,2344,24115,1254644,149645,62436,1438,128439,2541,433767,124627,972,774083,126681,125138,1607,106346,31398,752557,7027,11257,3648,736845,4172,32188,4060,635,201520,5061,2317472,70691,952,239987,10803,3430,7724,10568960,2327,59149,1369148,2428,22504,227402,601,38877,13054,7280,70794,221240,2827,38972,4278,86171,215376,251390,3638,1329800,623,1467,21961,513438,17419,535322,6001,14980,174265,494718,374,92677,6090,31109,27583,415974,10362,79667,185837,19372,17055,16291,330438,20843,62030,940,10140,9696,48391,4795725,5477,39062,312960,832,119177,1558,15164,146,7890,63097,82569,31354,4609,12876,3161,77650,50272,3251600,14971,71504,119624,206073,37923,2277,1139741,13399,39986,150874,980,26051,41219,364981,524150,3815,31355,437804,11193,93292,3197,3196,1402,13143,29690,150066,8538,3701,129851,59959,1518,1124,133500,74907,84714,28700,19765,547022,3628,60543,88014,65687,5699,1017146,427974,3975394,3249,4888,289406,3226,75006,17512,1707,7330,22974,599,4484,2174230,9840,4240,223997,55615,0,2397,105458,1150,375345,15063,39038,7017,10846000,109295,69831,1395637,112200,59448,304680,77325,168624,123114,133164,1296,19566,83399,16239,1098128,5450,24471,46180,61889,69090464,9835,1405,31092,1755,15336,7339,2703,3182,9349,110217,6022,29985,18033,12751,226151,7489744,162798,29842,28970,5255,598101,4521,5477,5721,13578,36675,684460,1610000,235780,12420,5449,65415,619550,212568,1410,4245,7960,834567,26506,35895,1274,673,1217,6499,11152,18439,45443,110634,4348,334902,7468,2158468,1131,4434560,347328,3347,99291,219,5175,42623,16970,989951,2024,149291,1306777,201571,48915,13817,617822,595644,800,54191,5431,8556000,594209,17813,36633,3387,49100,217129,18163,9122,7950,50393,2554,10233637,20594,3793,2781049,841846,55792,118438,84166,12656,16679922,71443,45809,21959,283385,11321,5644,6709],[272350,4911,5681,759269,69877,152162,37970,310042,108046,84569,67228,109515,283317,62051,4998,55114,75315,497828,21610,17878,35826,52497,17509,373324,449283,627850,42717,290984,31165,665978,15409,19748,89427,15744,1593989,519392,71514,45931,112792,145332,0,58100,95194,597892,67712,161525,1817414,889143,158395,82803,39134,174890,401452,68892,621181,139788,32706,79114,138465,34458,170597,2013667,193975,19801,65084,109312,20281,226646,918160,1120298,80366,236264,16463,66558,20116,178038,70825,1732923,22113,1347319,81250,5531,3056,277589,667771,369253,3046109,55950,322012,4760,68301,10286,581894,161643,72898,58956,9264,37614,150045,52375,141908,2311,608439,3868,64596,25540,802390,92596,47961,17243,106864,74686,76605,101878,386916,31463,209961,113574,654113,125608,22912,4114,1319644,94163,20598,1680829,86332,80175,144446,36935,341235,9551,13929,5485,130393,232841,33684,5349,6425,20031,87482,41842,248768,191623,21333,80564,183781,31337,52610,722812,59677,1750952,50069,45056,3954,12787,39292,1019586,136921,74274,16567,598070,84976,1505774,275375,103021,1250157,94226,111009,1238541,288724,66361,125549,594,1664298,138402,32438,0,249717,63236,17837,23695,40983,23513,6083,3054,9474,246081,86170,0,267668,160403,5762715,15550,21223,46450,23613,643058,250259,174557,1605,131883,17966,23848,137307,2358088,8467,29439,253850,195991,6666571,1277329,39475,377381,23086,6126,21506,38577,409481,13688,536884,194193,1040043,768,76521,78360,24372,5645959,605410,23171,107133,45311,11293,505079,556319,34131,388561,1252903,216052,82903,103095,1376517,23089,8778,82590,177732,19859,76866,437859,7254979,57919,28600,371750,16773,223487,140712,62433,34659,3462,86029,70500,33053,9825,7279,179109,51702,58486,58310,292509,40543,187901,131378,312365,21213,4707,394403,27537,103244,176715,39899,26620,3197195,1391769,14301,337958,101623,682068,234542,75030,504180,429334,136341,4613,44091,442922,2252019,16187,81408,829360,1303105,143102,122870,696888,592303,37012,235020,9800,36296,10370,102920,89447,17275,35618,669785,1096689,11155,42725,128364,195,27354,217291,2028,53617,16097,84294,17871,624904,1398838,615456,155220,140352,69280,332463,88250,147036,12187,4233,93313,711214,296656,257930,44485,9361,218523,70463,882447,247635,55370,69300,178443,61424,2238,14411,68383,22443,99476,62475,212533,15947,32305,18088,623173,44217,1520637,14946,80980,306200,9575,232841,18636,1227249,12512,99742,97099,23944,87340,15242,95189,769671,11057,6031027,822607,10954,164988,2409460,96120,101136,35713,7022,55822,104620,387094,566222,34245,39186,38966,666542,213352,31548,11265,9881,131187,82072,11409,0,69082,291650,20537,84679,43661,1265479,151026,118483,56810,216733,561568,158450,76702,75587,157379,45188,5400,107282,26304,74655,1224,25701,9308,49323,41581,18378,59837,1836316,87197,1494339,1579599,53996,50040,1450014,23566,15371,77903,168616,14680,3010,240524,261849,2576,40601,16169,1450610,28908,181777,527514,88276,10137,53209,172801,1424028,64871,1577074,544066,1216630,24987,0,72948,43610,251281,381007,257326,5177,4514,0,865585,32442,38139,346925,28932,171079,4866000,19809,74603,2245716,75846,34712,1033523,34051,150935,25833,353360,29100,28652,7795,55450,1254401,25212,3799,8237,162540,457752,261290,81946,61748,6089,16972,141684,107230,54144,309833,201085,35794,180399,10558,13291,179871,241397,37893,19029,104485,138363,106246,341613,131992,1722458,586773,132365,70843,38057,40789,161656,22040,1952940,208890,25077,341820,0,14795,18603,13830,64978,66341,78188,385465,33196,41629,102296,1542245,15037,12689,35077,38269,38402,18387,50243,74392,3495336,96647,24737,31313,175213,179582,125924,6263,377059,15249,89412,155560,36191,27157,170393,68073,0,89054,29176,586867,13503,22270,757791,11897,1196344,59596,64235,249832,361998,10646,412432,20011,96745,116753,8333,10158,18655,27047,311303,717847,32857,80559,395502,240750,358500,621044,13166,303130,39163,221711,168997,517684,1546963,40800,0,13797,64666,19376,36585,15978,38786,23726,148758,30737,318255,187070,32154,44947,12366,18701,155330,79684,203694,35362,33720,416347,167361,109457,3848201,50253,9037,1689642,63764,19767,53632,121794,13269,103784,72718,7093061,2008,9127,14133,21950,581899,26645,48631,24734,101357,14538,3342,146698,15607,90347,53435,639744,81098,117105,55785,356616,8340,1088451,119049,1488222,120310,166864,13578,1212446,216613,22240,10850,92115,135968,40628,9414,49320,77405,2058822,26677,2252380,17833,114423,28981,110856,9989,278968,4229,112126,42040,1035494,83223,21226,5697,37850,35804,22178,255265,600535,7484,385010,657627,1786729,45383,3147,97865,863,143459,125658,3418,306688,73198,97610,30163,127881,7883,3157483,13344,62083,32328,333593,26615,355082,19331,4527,39696,167066,467205,385932,8150,235413,108448,25913,39692,2248530,15716,37353,536638,22815,51913,232691,7800,33932,103208,68119,14204,222998,93932,65659,29038,78525,2086394,120701,14936,521786,7825,8450,137419,308837,175969,85603,763667,28886,203728,409103,39290,58585,89483,337664,17550,248747,130936,779688,230629,130321,87040,76823,144081,221062,199543,7169,116035,242062,159808,2362933,46143,80934,438931,18731,133048,14570,50694,725,92465,78369,62181,1357281,113763,138621,14615,48164,81796,737633,36771,100968,128173,235399,30167,6767,234712,120376,98732,287925,4757,595978,947,147437,41416,23441,32710,570532,55247,262765,43719,31530,225438,56240,270038,76994,39445,40302,32752,50320,7974,6120,98110,107571,57076,222977,154366,754872,31138,41243,86767,104197,33129,898652,435596,2189741,28384,29945,173368,9921,172090,1280201,8489,33365,237911,13003,24756,620056,33401,1126048,128907,48952,0,10799,62694,105726,2435132,120909,278066,117696,1833618,1124359,314784,8514877,756641,88182,52418,138138,2181062,8008,1160522,218650,19871,1933142,128925,6865652,35039,17378,15764,88279,7503848,47419,9209,68662,15224,98760,20091,12298,32062,72241,19968,54892,182084,85392,30366,204180,4738699,122658,261166,35648,55735,150790,39821,35121,35988,85382,118383,40623,420079,129780,16069,27528,382207,201925,1976588,4537,26034,97104,471866,184121,88200,26114,5152,7735,58472,91600,173644,55358,35232,14448,127107,110988,1155638,5917,1650355,252764,28367,69889,1373,1173417,59114,313865,504264,189433,625109,1355839,57090,347152,45097,143662,298934,0,4044,21816,5354126,469208,55949,43339,79732,72176,10728,444218,33186,353822,113513,15321,2109723,3494,33634,5125167,161495,20376,1130060,91532,76055,1992800,14491,23147,22489,117540,48193,46411,68482]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>NTD ID<\/th>\n      <th>Agency<\/th>\n      <th>metro_area<\/th>\n      <th>Mode<\/th>\n      <th>3 Mode<\/th>\n      <th>month<\/th>\n      <th>UPT<\/th>\n      <th>VRM<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,7,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"NTD ID","targets":1},{"name":"Agency","targets":2},{"name":"metro_area","targets":3},{"name":"Mode","targets":4},{"name":"3 Mode","targets":5},{"name":"month","targets":6},{"name":"UPT","targets":7},{"name":"VRM","targets":8}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Next, the <code>mutate</code> function is used to recode <code>Mode</code> column for better clarity for transportation systems. And, <code>case_when()</code> function replace abbreviations<br>
AR -&gt; Alaska Railroad etc. The <code>distinct</code> function checks correct transformation for unique modes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>USAGE <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Mode=</span><span class="fu">case_when</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"AR"</span> <span class="sc">~</span> <span class="st">"Alaska Railroad"</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"CB"</span> <span class="sc">~</span> <span class="st">"Commuter Bus"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"Cable Car"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"CR"</span> <span class="sc">~</span> <span class="st">"Commuter Rail"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"DR"</span> <span class="sc">~</span> <span class="st">"Demand Response"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"FB"</span> <span class="sc">~</span> <span class="st">"Ferryboat"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"HR"</span> <span class="sc">~</span> <span class="st">"Heavy Rail"</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"Inclined Plane"</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"LR"</span> <span class="sc">~</span> <span class="st">"Light Rail"</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"MB"</span> <span class="sc">~</span> <span class="st">"Bus"</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"MG"</span> <span class="sc">~</span> <span class="st">"Monorail/Automated Guideway"</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"PB"</span> <span class="sc">~</span> <span class="st">"Publico"</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"RB"</span> <span class="sc">~</span> <span class="st">"Bus Rapid Transit"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"SR"</span> <span class="sc">~</span> <span class="st">"Streercar Rail"</span>,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"TB"</span> <span class="sc">~</span> <span class="st">"Trolleybus"</span>,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Aerial Tramway"</span>,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"VP"</span> <span class="sc">~</span> <span class="st">"Vanpool"</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"YR"</span> <span class="sc">~</span> <span class="st">"Hybrid Rail"</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Unknown"</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="fu">distinct</span>(USAGE, Mode)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 × 1
   Mode                       
   &lt;chr&gt;                      
 1 Demand Response            
 2 Ferryboat                  
 3 Bus                        
 4 Streercar Rail             
 5 Trolleybus                 
 6 Vanpool                    
 7 Commuter Bus               
 8 Bus Rapid Transit          
 9 Light Rail                 
10 Hybrid Rail                
11 Monorail/Automated Guideway
12 Commuter Rail              
13 Alaska Railroad            
14 Aerial Tramway             
15 Heavy Rail                 
16 Inclined Plane             
17 Publico                    
18 Cable Car                  </code></pre>
</div>
</div>
</section>
</section>
<section id="part-2.-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="part-2.-data-analysis">Part 2. Data Analysis</h2>
<section id="question-1.-what-transit-agency-had-the-most-total-vrm-in-our-data-set" class="level3">
<h3 class="anchored" data-anchor-id="question-1.-what-transit-agency-had-the-most-total-vrm-in-our-data-set"><u>Question 1.</u> What transit agency had the most total VRM in our data set?</h3>
<p>To get this answer, the total vehicle miles traveled by agency are aggregated (ensure to remove empty rows, and get only one agency with the highest VRM):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>most_vrm_agency <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Agency) <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_VRM =</span> <span class="fu">sum</span>(VRM, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_VRM)) <span class="sc">|&gt;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="co">#top result</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>most_vrm_agency</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  Agency                      total_VRM
  &lt;chr&gt;                           &lt;dbl&gt;
1 MTA New York City Transit 10832855350</code></pre>
</div>
</div>
</section>
<section id="question-2.-what-transit-mode-had-the-most-total-vrm-in-our-data-set" class="level3">
<h3 class="anchored" data-anchor-id="question-2.-what-transit-mode-had-the-most-total-vrm-in-our-data-set"><u>Question 2.</u> What transit mode had the most total VRM in our data set?</h3>
<p>This question is pretty simple. We need to update the code above to a ‘Mode’ instead of ‘Agency’</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>most_vrm_mode <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Mode) <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_VRM =</span> <span class="fu">sum</span>(VRM, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_VRM)) <span class="sc">|&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="co">#top result</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>most_vrm_mode</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  Mode    total_VRM
  &lt;chr&gt;       &lt;dbl&gt;
1 Bus   49444494088</code></pre>
</div>
</div>
</section>
<section id="question-3.-how-many-trips-were-taken-on-the-nyc-subway-heavy-rail-in-may-2024" class="level3">
<h3 class="anchored" data-anchor-id="question-3.-how-many-trips-were-taken-on-the-nyc-subway-heavy-rail-in-may-2024"><u>Question 3.</u> How many trips were taken on the NYC Subway (Heavy Rail) in May 2024?</h3>
<p>The code below calculates MTA NYC Transit trips taken by Heavy Rail mode for the month of May 2024. The <code>summarize()</code> function is used to create a new variable <code>total_trips</code>, sum sums the values in the <code>UPT</code> column and <code>na.rm</code> ignores missing values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>nyc_subway_may2024 <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Agency <span class="sc">==</span> <span class="st">"MTA New York City Transit"</span>, Mode <span class="sc">==</span> <span class="st">"Heavy Rail"</span>, month <span class="sc">==</span> <span class="st">"2024-05-01"</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_trips =</span> <span class="fu">sum</span>(UPT, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>nyc_subway_may2024</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  total_trips
        &lt;dbl&gt;
1   180458819</code></pre>
</div>
</div>
</section>
<section id="question-4.-how-much-did-nyc-subway-ridership-fall-between-april-2019-and-april-2020" class="level3">
<h3 class="anchored" data-anchor-id="question-4.-how-much-did-nyc-subway-ridership-fall-between-april-2019-and-april-2020"><u>Question 4.</u> How much did NYC subway ridership fall between April 2019 and April 2020?</h3>
<p>The code filters only “MTA New York City Transit” for the dates mentioned, then sums the UPT for each month. After that, the percentage drop in ridership is calculated to reflect the impact of the COVID-19 on public transportation usage during the pandemic.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>nyc_subway_april_ridership <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Agency <span class="sc">==</span> <span class="st">"MTA New York City Transit"</span>, </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>         Mode <span class="sc">==</span> <span class="st">"Heavy Rail"</span>, </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>         month <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"2019-04-01"</span>, <span class="st">"2020-04-01"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month) <span class="sc">|&gt;</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_trips =</span> <span class="fu">sum</span>(UPT, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="co">#ridership fall</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>ridership_fall <span class="ot">&lt;-</span> nyc_subway_april_ridership <span class="sc">|&gt;</span> <span class="co"># % fall </span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">fall =</span> <span class="dv">100</span><span class="sc">*</span> (total_trips[month <span class="sc">==</span> <span class="st">"2020-04-01"</span>] <span class="sc">-</span> total_trips[month <span class="sc">==</span> <span class="st">"2019-04-01"</span>]) <span class="sc">/</span> total_trips[month <span class="sc">==</span> <span class="st">"2019-04-01"</span>])</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>ridership_fall</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
   fall
  &lt;dbl&gt;
1 -91.3</code></pre>
</div>
</div>
</section>
</section>
<section id="more-interesting-transit-facts" class="level2">
<h2 class="anchored" data-anchor-id="more-interesting-transit-facts">More interesting transit facts</h2>
<p><u>1.</u> Which transit agency had the most trips in a single month?</p>
<p>Let’s find out the transit agency with the most trips in a single month by grouping the data by agency and month, summing the total trips, sorting in descending order and getting the top result.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>most_trip_single_month <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Agency, month) <span class="sc">|&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_trips =</span> <span class="fu">sum</span>(UPT,<span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_trips)) <span class="sc">|&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>most_trip_single_month</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  Agency                    month      total_trips
  &lt;chr&gt;                     &lt;date&gt;           &lt;dbl&gt;
1 MTA New York City Transit 2014-10-01   322725962</code></pre>
</div>
</div>
<p><u>2.</u> Which mode of transit had the highest trip length in 2024?</p>
<p>This code filters <code>2024</code> by using <code>grepl</code> function for <code>month</code> column. Then, groups <code>Mode</code> and calculates the average trip length by diving totals of VRM and UPT.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>longest_avg_trip_2024 <span class="ot">&lt;-</span>USAGE <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"2024"</span>, month)) <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Mode) <span class="sc">|&gt;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_trip_length =</span> <span class="fu">sum</span>(VRM, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> <span class="fu">sum</span>(UPT, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_trip_length)) <span class="sc">|&gt;</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>longest_avg_trip_2024</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  Mode            avg_trip_length
  &lt;chr&gt;                     &lt;dbl&gt;
1 Demand Response            12.8</code></pre>
</div>
</div>
<p><u>3.</u> Which transit agency had the largest vehicle fleet(VRM) in 2024? This code provides the agency with the most distance(VRM) with its fleet in 2024.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>largest_fleet_2024 <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"2024"</span>, month)) <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Agency) <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_VRM =</span> <span class="fu">sum</span>(VRM, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_VRM)) <span class="sc">|&gt;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>largest_fleet_2024</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  Agency                    total_VRM
  &lt;chr&gt;                         &lt;dbl&gt;
1 MTA New York City Transit 273222702</code></pre>
</div>
</div>
</section>
<section id="part-3.-table-summarization" class="level2">
<h2 class="anchored" data-anchor-id="part-3.-table-summarization">Part 3. Table Summarization</h2>
<p>This code is responsible for creating an annual summary of public transit usage and financial data for 2022 - <code>USAGE_2022_ANNUAL</code>, steps</p>
<p>1) Filtering and summarizing transit data for 2022.</p>
<p>2) Updating Financial data mode labels.</p>
<p>3) Join the <code>USAGE_AND_FINANCIALS</code> and making sure that modes aren’t abbreviated.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Task 5 table summarization</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate) <span class="co">#year function</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>USAGE_2022_ANNUAL <span class="ot">&lt;-</span> USAGE <span class="sc">|&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(month) <span class="sc">==</span> <span class="dv">2022</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>, Agency, metro_area, Mode) <span class="sc">|&gt;</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">UPT =</span> <span class="fu">sum</span>(UPT, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">VRM =</span> <span class="fu">sum</span>(VRM, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>USAGE_2022_ANNUAL</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,141 × 6
   `NTD ID` Agency                                metro_area Mode     UPT    VRM
      &lt;int&gt; &lt;chr&gt;                                 &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1        1 King County                           Seattle--… Bus   5.40e7 6.16e7
 2        1 King County                           Seattle--… Dema… 6.63e5 1.29e7
 3        1 King County                           Seattle--… Ferr… 4.00e5 5.12e4
 4        1 King County                           Seattle--… Stre… 1.12e6 1.80e5
 5        1 King County                           Seattle--… Trol… 9.58e6 2.64e6
 6        1 King County                           Seattle--… Vanp… 7.03e5 4.41e6
 7        2 Spokane Transit Authority             Spokane, … Bus   6.60e6 6.49e6
 8        2 Spokane Transit Authority             Spokane, … Dema… 3.10e5 4.04e6
 9        2 Spokane Transit Authority             Spokane, … Vanp… 9.06e4 9.06e5
10        3 Pierce County Transportation Benefit… Seattle--… Bus   4.95e6 4.23e6
# ℹ 1,131 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>FINANCIALS_mode_updated <span class="ot">&lt;-</span> FINANCIALS <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Mode =</span><span class="fu">case_when</span>(</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"AR"</span> <span class="sc">~</span> <span class="st">"Alaska Railroad"</span>, </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"CB"</span> <span class="sc">~</span> <span class="st">"Commuter Bus"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"Cable Car"</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"CR"</span> <span class="sc">~</span> <span class="st">"Commuter Rail"</span>,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"DR"</span> <span class="sc">~</span> <span class="st">"Demand Response"</span>,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"FB"</span> <span class="sc">~</span> <span class="st">"Ferryboat"</span>,</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"HR"</span> <span class="sc">~</span> <span class="st">"Heavy Rail"</span>,</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"Inclined Plane"</span>,</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"LR"</span> <span class="sc">~</span> <span class="st">"Light Rail"</span>,</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"MB"</span> <span class="sc">~</span> <span class="st">"Bus"</span>,</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"MG"</span> <span class="sc">~</span> <span class="st">"Monorail/Automated Guideway"</span>,</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"PB"</span> <span class="sc">~</span> <span class="st">"Publico"</span>,</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"RB"</span> <span class="sc">~</span> <span class="st">"Bus Rapid Transit"</span>,</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"SR"</span> <span class="sc">~</span> <span class="st">"Streercar Rail"</span>,</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"TB"</span> <span class="sc">~</span> <span class="st">"Trolleybus"</span>,</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Aerial Tramway"</span>,</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"VP"</span> <span class="sc">~</span> <span class="st">"Vanpool"</span>,</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>    Mode <span class="sc">==</span> <span class="st">"YR"</span> <span class="sc">~</span> <span class="st">"Hybrid Rail"</span>,</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Unknown"</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>FINANCIALS_mode_updated</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,173 × 5
   `NTD ID` `Agency Name`                           Mode  `Total Fares` Expenses
      &lt;dbl&gt; &lt;chr&gt;                                   &lt;chr&gt;         &lt;dbl&gt;    &lt;dbl&gt;
 1        1 King County Department of Metro Transit Comm…       5216912   0     
 2        1 King County Department of Metro Transit Dema…        832327   6.05e7
 3        1 King County Department of Metro Transit Ferr…       1715265   8.90e6
 4        1 King County Department of Metro Transit Ligh…      29386480   0     
 5        1 King County Department of Metro Transit Bus        56846337   6.72e8
 6        1 King County Department of Metro Transit Stre…        588495   1.25e7
 7        1 King County Department of Metro Transit Trol…      10123486   8.42e7
 8        1 King County Department of Metro Transit Vanp…       5484481   8.91e6
 9        2 Spokane Transit Authority               Dema…        531284   1.80e7
10        2 Spokane Transit Authority               Bus         6135110   7.53e7
# ℹ 1,163 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>USAGE_AND_FINANCIALS <span class="ot">&lt;-</span> <span class="fu">left_join</span>(USAGE_2022_ANNUAL, </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>                                  FINANCIALS_mode_updated, </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">join_by</span>(<span class="st">`</span><span class="at">NTD ID</span><span class="st">`</span>, Mode)) <span class="sc">|&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="part-4.-farebox-recovery-among-major-systems" class="level2">
<h2 class="anchored" data-anchor-id="part-4.-farebox-recovery-among-major-systems">Part 4. Farebox Recovery Among Major Systems</h2>
<section id="which-transit-system-agency-and-mode-had-the-most-upt-in-2022" class="level3">
<h3 class="anchored" data-anchor-id="which-transit-system-agency-and-mode-had-the-most-upt-in-2022">1. Which transit system (agency and mode) had the most UPT in 2022?</h3>
<p>The metric of Unlinked Passengers Trips or UPT provides insight into how many time passengers boarded a transit vehicle. The high UPT equals to more frequent trips. To filter the busiest system, we set 400,000 UPT at least in 2022 and sorted by the highest total.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>most_upt_2022 <span class="ot">&lt;-</span> USAGE_AND_FINANCIALS <span class="sc">|&gt;</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(UPT <span class="sc">&gt;=</span> <span class="dv">400000</span>) <span class="sc">|&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(UPT)) <span class="sc">|&gt;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>most_upt_2022</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 9
  `NTD ID` Agency     metro_area Mode     UPT    VRM `Agency Name` `Total Fares`
     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;
1    20008 MTA New Y… New York-… Heav… 1.79e9 3.38e8 MTA New York…    2326782567
# ℹ 1 more variable: Expenses &lt;dbl&gt;</code></pre>
</div>
</div>
<p><strong>Result:</strong> It’s no surprise that <strong>MTA New York City Transit - Heavy Rail</strong> leads with <strong>1.79 billion</strong> UPT. The immense number of people rely on it every day, both New Yorkers and tourists.</p>
</section>
<section id="which-transit-system-agency-and-mode-had-the-highest-farebox-recovery-defined-as-the-highest-ratio-of-total-fares-to-expenses" class="level3">
<h3 class="anchored" data-anchor-id="which-transit-system-agency-and-mode-had-the-highest-farebox-recovery-defined-as-the-highest-ratio-of-total-fares-to-expenses">2. Which transit system (agency and mode) had the highest <em>farebox recovery</em>, defined as the highest ratio of Total Fares to Expenses?</h3>
<p>The farebox recovery ratio measures the percentage of operating expenses covered by fare revenue. In this research we will take only a glimpse how financially self-sustaining a transit system is.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>highest_farebox_recovery <span class="ot">&lt;-</span> USAGE_AND_FINANCIALS <span class="sc">|&gt;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(UPT <span class="sc">&gt;=</span> <span class="dv">400000</span>) <span class="sc">|&gt;</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">farebox_recovery =</span> <span class="st">`</span><span class="at">Total Fares</span><span class="st">`</span> <span class="sc">/</span> Expenses) <span class="sc">|&gt;</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(farebox_recovery)) <span class="sc">|&gt;</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>highest_farebox_recovery</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 10
  `NTD ID` Agency     metro_area Mode     UPT    VRM `Agency Name` `Total Fares`
     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;
1    20190 Port Impe… New York-… Ferr… 3.76e6 504037 Port Imperia…      33443241
# ℹ 2 more variables: Expenses &lt;dbl&gt;, farebox_recovery &lt;dbl&gt;</code></pre>
</div>
</div>
<p><strong>Result: Port Imperial Ferry (New York-New Jersey area)</strong> is on the top of the chart with <strong>66.3% farebox recovery ratio</strong>. This higher ratio means that it’s less reliant on subsidies from local or federal governments.</p>
</section>
<section id="which-transit-system-agency-and-mode-has-the-lowest-expenses-per-upt" class="level3">
<h3 class="anchored" data-anchor-id="which-transit-system-agency-and-mode-has-the-lowest-expenses-per-upt">3. Which transit system (agency and mode) has the lowest expenses per UPT?</h3>
<p>With <strong>Expenses per UPT</strong> we measure how much it costs to transport a single pasenger for a trip. Lower expenses per trip indicate better services at reduced cost.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>lower_expenses_per_upt <span class="ot">&lt;-</span> USAGE_AND_FINANCIALS <span class="sc">|&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(UPT <span class="sc">&gt;=</span> <span class="dv">400000</span>) <span class="sc">|&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">expenses_per_upt =</span> Expenses <span class="sc">/</span> UPT) <span class="sc">|&gt;</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(expenses_per_upt) <span class="sc">|&gt;</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>lower_expenses_per_upt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 10
  `NTD ID` Agency     metro_area Mode     UPT    VRM `Agency Name` `Total Fares`
     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;
1    40147 North Car… Raleigh, … Bus   2.31e6 531555 North Caroli…             0
# ℹ 2 more variables: Expenses &lt;dbl&gt;, expenses_per_upt &lt;dbl&gt;</code></pre>
</div>
</div>
<p><strong>Result</strong>: The <strong>North Carolina Department of Transportation’s Bus system</strong> in <strong>Raleigh</strong> leads this chart with the lowest expenses per trip.</p>
</section>
<section id="which-transit-system-agency-and-mode-has-the-highest-total-fares-per-upt" class="level3">
<h3 class="anchored" data-anchor-id="which-transit-system-agency-and-mode-has-the-highest-total-fares-per-upt">4. Which transit system (agency and mode) has the highest total fares per UPT?</h3>
<p>Total fares per UPT provide an indicator how much revenue the system is generating from each passenger trip. Higher fares can be due to the distances or premium services.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>highest_fares_per_upt <span class="ot">&lt;-</span> USAGE_AND_FINANCIALS <span class="sc">|&gt;</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(UPT <span class="sc">&gt;=</span> <span class="dv">400000</span>) <span class="sc">|&gt;</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fares_per_upt =</span> <span class="st">`</span><span class="at">Total Fares</span><span class="st">`</span> <span class="sc">/</span> UPT) <span class="sc">|&gt;</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(fares_per_upt)) <span class="sc">|&gt;</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>highest_fares_per_upt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 10
  `NTD ID` Agency     metro_area Mode     UPT    VRM `Agency Name` `Total Fares`
     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;
1    20217 Hampton J… New York-… Comm… 521577 2.04e6 Hampton Jitn…      21539188
# ℹ 2 more variables: Expenses &lt;dbl&gt;, fares_per_upt &lt;dbl&gt;</code></pre>
</div>
</div>
<p><strong>Result</strong>: <strong>Hampton Jitney(Commuter Bus)</strong> in the <strong>New York City</strong> are had the highest total <strong>$41.29 per UPT</strong> and is the combination of long-distance and premium services for people who want to spend the vacation in Hamptons.</p>
</section>
<section id="which-transit-system-agency-and-mode-has-the-lowest-expenses-per-vrm" class="level3">
<h3 class="anchored" data-anchor-id="which-transit-system-agency-and-mode-has-the-lowest-expenses-per-vrm">5. Which transit system (agency and mode) has the lowest expenses per VRM?</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>lowest_expenses_per_vrm <span class="ot">&lt;-</span>USAGE_AND_FINANCIALS <span class="sc">|&gt;</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(UPT <span class="sc">&gt;=</span> <span class="dv">400000</span>) <span class="sc">|&gt;</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">expenses_per_vrm =</span> Expenses <span class="sc">/</span> VRM) <span class="sc">|&gt;</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(expenses_per_vrm) <span class="sc">|&gt;</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>lowest_expenses_per_vrm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 10
  `NTD ID` Agency     metro_area Mode     UPT    VRM `Agency Name` `Total Fares`
     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;
1    90094 Metropoli… San Franc… Vanp… 1.02e6 1.23e7 Metropolitan…       6504406
# ℹ 2 more variables: Expenses &lt;dbl&gt;, expenses_per_vrm &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="which-transit-system-agency-and-mode-has-the-highest-total-fares-per-vrm" class="level3">
<h3 class="anchored" data-anchor-id="which-transit-system-agency-and-mode-has-the-highest-total-fares-per-vrm">6. Which transit system (agency and mode) has the highest total fares per VRM?</h3>
<p>Now we are interested how much revenue is being generated for each mile traveled and the higher fare revenue is the more expensive/premium services are or efficient fare collection.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>highest_fares_per_vrm <span class="ot">&lt;-</span> USAGE_AND_FINANCIALS <span class="sc">|&gt;</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(UPT <span class="sc">&gt;=</span> <span class="dv">400000</span>) <span class="sc">|&gt;</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fares_per_vrm =</span> <span class="st">`</span><span class="at">Total Fares</span><span class="st">`</span> <span class="sc">/</span> VRM) <span class="sc">|&gt;</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(fares_per_vrm)) <span class="sc">|&gt;</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>highest_fares_per_vrm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 10
  `NTD ID` Agency      metro_area Mode     UPT   VRM `Agency Name` `Total Fares`
     &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;
1    40040 Jacksonvil… Jacksonvi… Ferr… 416129  9084 Jacksonville…       1432549
# ℹ 2 more variables: Expenses &lt;dbl&gt;, fares_per_vrm &lt;dbl&gt;</code></pre>
</div>
</div>
<p><strong>Result</strong>: <strong>Jacksonville Transportation Authority’s Ferry</strong> <strong>service</strong> generates <strong>$157.71 per VTM</strong>. Meaning, ferry service in that location, has significantly higher fares compared to bus or rail, due to specific travel needs.<br>
</p>
<p><br>
This mini-project provides valuable insights into the operational, financial efficiency and sustainability of various U.S. transit systems; and gives a great glimpse into the data how well certain transit agencies manage the cost efficiency and revenue generation from fares.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/whaleron\.github\.io\/STA9750-2024-FALL\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>